"use strict";(self.webpackChunkquanlythuchi=self.webpackChunkquanlythuchi||[]).push([[5390],{55390:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var i=n(21665),r=n(98638),a=n(34535),o=n(12110),s=n(11906),l=n(30681),d=n(63336),c=n(96446),h=n(85865),x=n(43845),p=n(68903),g=n(26494),b=n(35721),u=n(2050),f=n(63393),m=n(69677),A=n(65043),j=n(73216),y=n(84033),v=n(90035),S=n(26600),w=n(35316),k=n(29347),W=n(81637),C=n(70579);const z=e=>{let{open:t,onClose:n,plan:i,onSuccess:r}=e;const a=(0,f.useStripe)(),o=(0,f.useElements)(),[l,d]=(0,A.useState)(!1),[c,x]=(0,A.useState)(null);return(0,C.jsxs)(v.A,{open:t,onClose:n,maxWidth:"xs",fullWidth:!0,children:[(0,C.jsx)(S.A,{children:"Thanh to\xe1n v\u1edbi Stripe"}),(0,C.jsx)(w.A,{children:(0,C.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x(null),d(!0),!a||!o)return x("Stripe ch\u01b0a s\u1eb5n s\xe0ng."),void d(!1);try{const{data:e}=await y.A.post("/api/stripe/create-payment-intent",{plan:i}),t=e.clientSecret,s=await a.confirmCardPayment(t,{payment_method:{card:o.getElement(f.CardElement)}});s.error?x(s.error.message||"Thanh to\xe1n th\u1ea5t b\u1ea1i"):s.paymentIntent&&"succeeded"===s.paymentIntent.status&&(await y.A.post("/api/subscription/activate",{plan:i}),r(),n())}catch(l){var t,s;x((null===l||void 0===l||null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"C\xf3 l\u1ed7i x\u1ea3y ra")}finally{d(!1)}},children:[(0,C.jsx)(f.CardElement,{options:{hidePostalCode:!0}}),c&&(0,C.jsx)(h.A,{color:"error",sx:{mt:2},children:c}),(0,C.jsxs)(k.A,{sx:{mt:2},children:[(0,C.jsx)(s.A,{onClick:n,disabled:l,children:"H\u1ee7y"}),(0,C.jsx)(s.A,{type:"submit",variant:"contained",disabled:l||!a,children:l?(0,C.jsx)(W.A,{size:24}):"Thanh to\xe1n"})]})]})})]})},T=(0,a.Ay)(o.A)((e=>{let{theme:t}=e;return{borderRadius:"24px",background:"linear-gradient(135deg, #ffffff 0%, #f5f7fa 100%)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.12)",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-10px) scale(1.02)",boxShadow:"0 20px 40px rgba(25, 118, 210, 0.18)"},position:"relative",overflow:"hidden"}})),I=(0,a.Ay)(T)((e=>{let{theme:t}=e;return{border:"2.5px solid ".concat(t.palette.primary.main),background:"linear-gradient(120deg, #e3f0ff 0%, #f0f7ff 100%)",position:"relative",overflow:"visible","&::after":{content:'""',position:"absolute",top:0,right:0,width:"150px",height:"150px",background:"linear-gradient(135deg, rgba(25, 118, 210, 0.2) 0%, rgba(25, 118, 210, 0) 60%)",borderRadius:"0 24px 0 150px",zIndex:0}}})),R=(0,a.Ay)(s.A)((e=>{let{theme:t}=e;return{borderRadius:"30px",padding:"14px 32px",textTransform:"none",fontWeight:"bold",fontSize:"1.1rem",background:"linear-gradient(90deg, ".concat(t.palette.primary.main," 0%, ").concat(t.palette.primary.dark," 100%)"),color:"#fff",boxShadow:"0 6px 20px rgba(25, 118, 210, 0.15)","&:hover":{background:"linear-gradient(90deg, ".concat(t.palette.primary.dark," 0%, ").concat(t.palette.primary.main," 100%)"),boxShadow:"0 10px 30px rgba(25, 118, 210, 0.25)",transform:"translateY(-2px)"},"&:disabled":{background:"linear-gradient(90deg, #cccccc 0%, #aaaaaa 100%)",color:"#666"},transition:"all 0.3s ease"}})),E=(0,a.Ay)(l.Ay)((e=>{let{theme:t}=e;return{paddingTop:6,paddingBottom:6,position:"relative"}})),F=(0,a.Ay)(d.A)((e=>{let{theme:t}=e;return{position:"absolute",top:-20,right:-20,padding:"5px 15px",background:"linear-gradient(90deg, #FF9800 0%, #FF5722 100%)",color:"white",fontWeight:"bold",transform:"rotate(45deg)",zIndex:10,boxShadow:"0 2px 10px rgba(255, 152, 0, 0.3)",borderRadius:0,width:140,textAlign:"center"}})),P=(0,m.c)("pk_test_51R6SFdJ0EYLbnLTiWkEe5KrRUd6XiU8w5YReJTjVjKDKYRCC6C2Wiq3uQHaZCwwuzErUfmbhJ2X4VRLm4ucj85wg00sySUeMf4"),H=()=>{const[e,t]=(0,A.useState)(""),[n,a]=(0,A.useState)("free"),[o,l]=(0,A.useState)(!0),d=(0,j.Zp)(),[m,v]=(0,A.useState)(!1);(0,A.useEffect)((()=>{(async()=>{try{const e=await y.A.get("/api/subscription");a(e.data.plan||"free")}catch(e){a("free")}finally{l(!1)}})()}),[]);const S=()=>{t("pro"),v(!0)},w=[{title:"Free",price:"0",description:"B\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh qu\u1ea3n l\xfd t\xe0i ch\xednh c\xe1 nh\xe2n",features:["Qu\u1ea3n l\xfd thu chi c\u01a1 b\u1ea3n","B\xe1o c\xe1o t\u1ed5ng thu chi h\xe0ng th\xe1ng","T\xednh n\u0103ng \u0111\u1ea7u t\u01b0 c\u01a1 b\u1ea3n","Gi\u1edbi h\u1ea1n 50 giao d\u1ecbch/th\xe1ng","L\u01b0u tr\u1eef d\u1eef li\u1ec7u c\u01a1 b\u1ea3n"],limitations:["Kh\xf4ng xu\u1ea5t \u0111\u01b0\u1ee3c b\xe1o c\xe1o PDF/Excel","Kh\xf4ng c\xf3 ph\xe2n t\xedch chuy\xean s\xe2u","Kh\xf4ng c\xf3 h\u1ed7 tr\u1ee3 \u01b0u ti\xean"],buttonText:"free"===n?"G\xf3i hi\u1ec7n t\u1ea1i":"Ch\u1ecdn g\xf3i n\xe0y",disabled:"free"===n||"pro"===n,highlight:!1},{title:"Pro",price:"20",description:"Gi\u1ea3i ph\xe1p to\xe0n di\u1ec7n cho ng\u01b0\u1eddi d\xf9ng \u0111\u1ea7u t\u01b0 chuy\xean nghi\u1ec7p",features:["Qu\u1ea3n l\xfd t\xe0i ch\xednh kh\xf4ng gi\u1edbi h\u1ea1n","T\xednh n\u0103ng \u0111\u1ea7u t\u01b0 n\xe2ng cao","Xu\u1ea5t b\xe1o c\xe1o (PDF/Excel)","Ph\xe2n t\xedch chuy\xean s\xe2u v\xe0 d\u1ef1 b\xe1o","Qu\u1ea3n l\xfd nhi\u1ec1u t\xe0i kho\u1ea3n","T\xedch h\u1ee3p ng\xe2n h\xe0ng (API)","H\u1ed7 tr\u1ee3 \u01b0u ti\xean 24/7","D\u1eef li\u1ec7u \u0111\u01b0\u1ee3c sao l\u01b0u \u0111\xe1m m\xe2y"],buttonText:"pro"===n?"G\xf3i hi\u1ec7n t\u1ea1i":"N\xe2ng c\u1ea5p ngay",disabled:"pro"===n,highlight:!0}];return(0,C.jsxs)(c.A,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f9ff 0%, #ebf5ff 100%)",py:{xs:8,md:12},px:{xs:2,md:6},position:"relative",overflow:"hidden"},children:[(0,C.jsx)(c.A,{sx:{position:"absolute",width:"600px",height:"600px",background:"radial-gradient(circle, rgba(25,118,210,0.1) 0%, rgba(25,118,210,0) 70%)",top:"-300px",left:"-300px",borderRadius:"50%",zIndex:0}}),(0,C.jsx)(c.A,{sx:{position:"absolute",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(25,118,210,0.08) 0%, rgba(25,118,210,0) 70%)",bottom:"-200px",right:"-200px",borderRadius:"50%",zIndex:0}}),(0,C.jsxs)(c.A,{sx:{position:"relative",zIndex:1},children:[(0,C.jsx)(h.A,{variant:"h3",align:"center",sx:{fontWeight:800,color:"#1565c0",mb:2,letterSpacing:.5,textShadow:"0 2px 10px rgba(25, 118, 210, 0.1)",fontSize:{xs:"2.2rem",md:"3rem"}},children:"N\xe2ng c\u1ea5p & M\u1edf kh\xf3a S\u1ee9c m\u1ea1nh T\xe0i ch\xednh"}),(0,C.jsx)(h.A,{align:"center",sx:{color:"#546e7a",mb:3,fontSize:{xs:"1.1rem",md:"1.25rem"},maxWidth:"800px",mx:"auto",lineHeight:1.6},children:"Ch\u1ecdn g\xf3i ph\xf9 h\u1ee3p v\u1edbi nhu c\u1ea7u qu\u1ea3n l\xfd t\xe0i ch\xednh c\xe1 nh\xe2n c\u1ee7a b\u1ea1n. V\u1edbi FinanceFlow, b\u1ea1n c\xf3 th\u1ec3 t\u1ed1i \u01b0u h\xf3a d\xf2ng ti\u1ec1n v\xe0 \u0111\u01b0a ra quy\u1ebft \u0111\u1ecbnh t\xe0i ch\xednh th\xf4ng minh h\u01a1n."}),(0,C.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:7},children:[(0,C.jsx)(x.A,{label:"M\u1edbi c\u1eadp nh\u1eadt",color:"primary",sx:{fontWeight:"bold",borderRadius:"20px",px:1}}),(0,C.jsx)(h.A,{sx:{color:"#1976d2",fontWeight:500},children:"G\xf3i Free \u0111\xe3 h\u1ed7 tr\u1ee3 t\xednh n\u0103ng \u0111\u1ea7u t\u01b0 c\u01a1 b\u1ea3n!"})]}),o?(0,C.jsx)(h.A,{align:"center",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u g\xf3i..."}):(0,C.jsx)(p.Ay,{container:!0,spacing:5,justifyContent:"center",children:w.map((e=>(0,C.jsx)(p.Ay,{item:!0,xs:12,sm:10,md:5,children:e.highlight?(0,C.jsxs)(I,{children:[(0,C.jsx)(F,{children:"N\u1ed4I B\u1eacT"}),(0,C.jsx)(c.A,{sx:{position:"absolute",top:-30,left:"50%",transform:"translateX(-50%)",zIndex:10},children:(0,C.jsx)(i.A,{sx:{fontSize:60,color:"#ff9800",filter:"drop-shadow(0 3px 10px rgba(255, 152, 0, 0.3))"}})}),(0,C.jsxs)(g.A,{sx:{textAlign:"center",pt:6,pb:4,position:"relative",zIndex:5},children:[(0,C.jsx)(h.A,{variant:"h4",sx:{fontWeight:"bold",color:"#1565c0",mb:1.5,letterSpacing:1},children:e.title}),(0,C.jsxs)(h.A,{variant:"h2",sx:{fontWeight:"bold",color:"#1565c0",mb:1,lineHeight:1.1,textShadow:"0 2px 12px rgba(21, 101, 192, 0.1)"},children:["$",e.price,(0,C.jsx)(h.A,{component:"span",variant:"h6",sx:{fontWeight:500,color:"#546e7a",ml:1,fontSize:"1.1rem"},children:"/th\xe1ng"})]}),(0,C.jsx)(h.A,{variant:"body1",sx:{color:"#37474f",mb:3,fontWeight:500,minHeight:"48px"},children:e.description}),(0,C.jsx)(b.A,{sx:{mb:3,textAlign:"left"},children:e.features.map(((e,t)=>(0,C.jsxs)(E,{sx:{py:1},children:[(0,C.jsx)(u.A,{sx:{minWidth:36},children:(0,C.jsx)(r.A,{sx:{color:"#4caf50",fontSize:20}})}),(0,C.jsx)(h.A,{variant:"body1",sx:{fontWeight:500,color:"#37474f"},children:e})]},t)))}),(0,C.jsx)(R,{size:"large",fullWidth:!0,disabled:e.disabled,onClick:S,sx:{fontSize:"1.1rem",py:2,mt:2,boxShadow:"0 8px 30px rgba(25, 118, 210, 0.2)",fontWeight:700,letterSpacing:.5},children:e.buttonText})]})]}):(0,C.jsx)(T,{children:(0,C.jsxs)(g.A,{sx:{textAlign:"center",py:4,position:"relative",zIndex:5},children:[(0,C.jsx)(h.A,{variant:"h4",sx:{fontWeight:"bold",color:"#546e7a",mb:2},children:e.title}),(0,C.jsxs)(h.A,{variant:"h3",sx:{fontWeight:"bold",color:"#546e7a",mb:1},children:["$",e.price,(0,C.jsx)(h.A,{component:"span",variant:"body1",sx:{fontSize:"1rem",color:"#78909c",ml:.5},children:"/m\xe3i m\xe3i"})]}),(0,C.jsx)(h.A,{variant:"body1",sx:{color:"#546e7a",mb:3,minHeight:"48px",fontWeight:500},children:e.description}),(0,C.jsxs)(c.A,{sx:{textAlign:"left",mb:2},children:[(0,C.jsx)(h.A,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#4caf50",mb:1},children:"Bao g\u1ed3m:"}),(0,C.jsx)(b.A,{disablePadding:!0,children:e.features.map(((e,t)=>(0,C.jsxs)(E,{sx:{py:.5},children:[(0,C.jsx)(u.A,{sx:{minWidth:36},children:(0,C.jsx)(r.A,{sx:{color:"#4caf50",fontSize:20}})}),(0,C.jsx)(h.A,{variant:"body2",sx:{color:"#455a64"},children:e})]},t)))})]}),e.limitations&&(0,C.jsxs)(c.A,{sx:{textAlign:"left",mb:3},children:[(0,C.jsx)(h.A,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#f44336",mb:1},children:"Gi\u1edbi h\u1ea1n:"}),(0,C.jsx)(b.A,{disablePadding:!0,children:e.limitations.map(((e,t)=>(0,C.jsxs)(E,{sx:{py:.5},children:[(0,C.jsx)(u.A,{sx:{minWidth:36},children:(0,C.jsx)(r.A,{sx:{color:"#f44336",fontSize:20}})}),(0,C.jsx)(h.A,{variant:"body2",sx:{color:"#455a64"},children:e})]},t)))})]}),(0,C.jsx)(R,{disabled:e.disabled,fullWidth:!0,sx:{fontWeight:600,fontSize:"1rem",py:1.5,mt:1,background:"linear-gradient(90deg, #78909c 0%, #546e7a 100%)","&:hover":{background:"linear-gradient(90deg, #546e7a 0%, #455a64 100%)"}},children:e.buttonText})]})})},e.title)))}),(0,C.jsxs)(c.A,{sx:{textAlign:"center",mt:8},children:[(0,C.jsx)(h.A,{variant:"body1",sx:{color:"#546e7a",mb:3},children:"T\u1ea5t c\u1ea3 c\xe1c g\xf3i \u0111\u1ec1u bao g\u1ed3m d\u1ecbch v\u1ee5 b\u1ea3o m\u1eadt v\xe0 sao l\u01b0u d\u1eef li\u1ec7u. B\u1ea1n c\xf3 th\u1ec3 n\xe2ng c\u1ea5p ho\u1eb7c h\u1ea1 c\u1ea5p b\u1ea5t k\u1ef3 l\xfac n\xe0o."}),(0,C.jsx)(s.A,{variant:"outlined",sx:{borderRadius:"30px",padding:"12px 32px",textTransform:"none",color:"#1976d2",borderColor:"#1976d2",fontWeight:600,fontSize:"1.1rem","&:hover":{backgroundColor:"#e3f2fd",borderColor:"#1565c0",color:"#1565c0"},transition:"all 0.3s ease"},onClick:()=>d("/dashboard"),children:"Quay l\u1ea1i Dashboard"})]})]}),e&&(0,C.jsx)(f.Elements,{stripe:P,children:(0,C.jsx)(z,{open:m,onClose:()=>v(!1),plan:e,onSuccess:()=>window.location.reload()})})]})}}}]);
//# sourceMappingURL=5390.2aaca961.chunk.js.map