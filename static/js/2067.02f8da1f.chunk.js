"use strict";(self.webpackChunkquanlythuchi=self.webpackChunkquanlythuchi||[]).push([[2067],{48304:(e,n,i)=>{i.d(n,{A:()=>c});var s=i(59662),a=i(70579);const c=(0,s.A)([(0,a.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,a.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,a.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category")},51387:(e,n,i)=>{i.d(n,{A:()=>c});var s=i(59662),a=i(70579);const c=(0,s.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},70141:(e,n,i)=>{i.d(n,{A:()=>c});var s=i(59662),a=i(70579);const c=(0,s.A)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},72067:(e,n,i)=>{i.r(n),i.d(n,{default:()=>R});var s=i(89379),a=i(65043),c=i(73216),l=i(96446),t=i(11906),r=i(85865),h=i(14194),o=i(79650),d=i(71806),x=i(84882),A=i(28076),u=i(10039),j=i(73460),m=i(17392),p=i(90035),v=i(26600),g=i(35316),y=i(68903),C=i(67784),f=i(53193),b=i(79190),k=i(69285),w=i(32143),M=i(29347),T=i(48304),S=i(70141),W=i(83560),z=i(51387),B=i(84033),F=i(70579);const H=["\ud83c\udf54","\ud83d\ude96","\ud83d\udecd\ufe0f","\ud83d\udcb0","\ud83c\udf81","\u2753"],L=["#FF5722","#3F51B5","#9C27B0","#4CAF50","#FFC107","#607D8B"],R=()=>{const[e,n]=(0,a.useState)([]),[i,R]=(0,a.useState)(!1),[D,N]=(0,a.useState)(null),[V,_]=(0,a.useState)({name:"",type:"expense",icon:H[0],color:L[0]}),[q,E]=(0,a.useState)(null),Q=(0,c.Zp)(),G=async()=>{try{const e=await B.A.get("/api/categories");n(e.data||[])}catch(e){n([])}};(0,a.useEffect)((()=>{G()}),[]);const I=e=>{e?(N(e),_({name:e.name,type:e.type,icon:e.icon,color:e.color})):(N(null),_({name:"",type:"expense",icon:H[0],color:L[0]})),E(null),R(!0)};return(0,F.jsxs)(l.A,{sx:{p:{xs:2,md:3},maxWidth:700,margin:"0 auto"},children:[(0,F.jsx)(l.A,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:(0,F.jsx)(t.A,{variant:"outlined",onClick:()=>Q("/transactions"),children:"Quay l\u1ea1i trang Giao d\u1ecbch"})}),(0,F.jsxs)(r.A,{variant:"h4",sx:{mb:3,fontWeight:600},children:[(0,F.jsx)(T.A,{sx:{mr:1}})," Qu\u1ea3n l\xfd Danh m\u1ee5c"]}),(0,F.jsx)(t.A,{variant:"contained",startIcon:(0,F.jsx)(S.A,{}),onClick:()=>I(),sx:{mb:2},children:"Th\xeam danh m\u1ee5c"}),q&&(0,F.jsx)(h.A,{severity:"error",sx:{mb:2},children:q}),(0,F.jsx)(o.A,{children:(0,F.jsxs)(d.A,{children:[(0,F.jsx)(x.A,{children:(0,F.jsxs)(A.A,{children:[(0,F.jsx)(u.A,{children:"Bi\u1ec3u t\u01b0\u1ee3ng"}),(0,F.jsx)(u.A,{children:"T\xean"}),(0,F.jsx)(u.A,{children:"Lo\u1ea1i"}),(0,F.jsx)(u.A,{children:"M\xe0u"}),(0,F.jsx)(u.A,{children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,F.jsxs)(j.A,{children:[e.map((e=>(0,F.jsxs)(A.A,{children:[(0,F.jsx)(u.A,{children:e.icon}),(0,F.jsx)(u.A,{children:e.name}),(0,F.jsx)(u.A,{children:"income"===e.type?"Thu nh\u1eadp":"Chi ti\xeau"}),(0,F.jsx)(u.A,{children:(0,F.jsx)(l.A,{sx:{width:24,height:24,bgcolor:e.color,borderRadius:"50%"}})}),(0,F.jsxs)(u.A,{children:[(0,F.jsx)(m.A,{onClick:()=>I(e),children:(0,F.jsx)(W.A,{})}),(0,F.jsx)(m.A,{onClick:()=>(async e=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a danh m\u1ee5c n\xe0y?"))try{await B.A.delete("/api/categories/".concat(e)),G()}catch(s){var n,i;E((null===(n=s.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"L\u1ed7i khi x\xf3a danh m\u1ee5c")}})(e._id),color:"error",children:(0,F.jsx)(z.A,{})})]})]},e._id))),0===e.length&&(0,F.jsx)(A.A,{children:(0,F.jsx)(u.A,{colSpan:5,align:"center",children:"Ch\u01b0a c\xf3 danh m\u1ee5c n\xe0o"})})]})]})}),(0,F.jsxs)(p.A,{open:i,onClose:()=>R(!1),maxWidth:"xs",fullWidth:!0,children:[(0,F.jsx)(v.A,{children:D?"S\u1eeda danh m\u1ee5c":"Th\xeam danh m\u1ee5c m\u1edbi"}),(0,F.jsx)(g.A,{children:(0,F.jsxs)(y.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,F.jsx)(y.Ay,{item:!0,xs:12,children:(0,F.jsx)(C.A,{label:"T\xean danh m\u1ee5c",fullWidth:!0,value:V.name,onChange:e=>_((0,s.A)((0,s.A)({},V),{},{name:e.target.value}))})}),(0,F.jsx)(y.Ay,{item:!0,xs:6,children:(0,F.jsxs)(f.A,{fullWidth:!0,children:[(0,F.jsx)(b.A,{children:"Lo\u1ea1i"}),(0,F.jsxs)(k.A,{value:V.type,onChange:e=>_((0,s.A)((0,s.A)({},V),{},{type:e.target.value})),children:[(0,F.jsx)(w.A,{value:"income",children:"Thu nh\u1eadp"}),(0,F.jsx)(w.A,{value:"expense",children:"Chi ti\xeau"})]})]})}),(0,F.jsx)(y.Ay,{item:!0,xs:3,children:(0,F.jsxs)(f.A,{fullWidth:!0,children:[(0,F.jsx)(b.A,{children:"Bi\u1ec3u t\u01b0\u1ee3ng"}),(0,F.jsx)(k.A,{value:V.icon,onChange:e=>_((0,s.A)((0,s.A)({},V),{},{icon:e.target.value})),children:H.map((e=>(0,F.jsx)(w.A,{value:e,children:e},e)))})]})}),(0,F.jsx)(y.Ay,{item:!0,xs:3,children:(0,F.jsxs)(f.A,{fullWidth:!0,children:[(0,F.jsx)(b.A,{children:"M\xe0u"}),(0,F.jsx)(k.A,{value:V.color,onChange:e=>_((0,s.A)((0,s.A)({},V),{},{color:e.target.value})),children:L.map((e=>(0,F.jsxs)(w.A,{value:e,children:[(0,F.jsx)(l.A,{sx:{width:20,height:20,bgcolor:e,borderRadius:"50%",display:"inline-block",mr:1}}),e]},e)))})]})})]})}),(0,F.jsxs)(M.A,{children:[(0,F.jsx)(t.A,{onClick:()=>R(!1),children:"H\u1ee7y"}),(0,F.jsx)(t.A,{variant:"contained",onClick:async()=>{if(V.name.trim())try{D?await B.A.put("/api/categories/".concat(D._id),V):await B.A.post("/api/categories",V),R(!1),G()}catch(i){var e,n;E((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"L\u1ed7i khi l\u01b0u danh m\u1ee5c")}else E("T\xean danh m\u1ee5c kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")},children:"L\u01b0u"})]})]})]})}},79650:(e,n,i)=>{i.d(n,{A:()=>m});var s=i(58168),a=i(98587),c=i(65043),l=i(58387),t=i(98610),r=i(98206),h=i(34535),o=i(92532),d=i(72372);function x(e){return(0,d.Ay)("MuiTableContainer",e)}(0,o.A)("MuiTableContainer",["root"]);var A=i(70579);const u=["className","component"],j=(0,h.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,n)=>n.root})({width:"100%",overflowX:"auto"}),m=c.forwardRef((function(e,n){const i=(0,r.b)({props:e,name:"MuiTableContainer"}),{className:c,component:h="div"}=i,o=(0,a.A)(i,u),d=(0,s.A)({},i,{component:h}),m=(e=>{const{classes:n}=e;return(0,t.A)({root:["root"]},x,n)})(d);return(0,A.jsx)(j,(0,s.A)({ref:n,as:h,className:(0,l.A)(m.root,c),ownerState:d},o))}))},83560:(e,n,i)=>{i.d(n,{A:()=>c});var s=i(59662),a=i(70579);const c=(0,s.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=2067.02f8da1f.chunk.js.map