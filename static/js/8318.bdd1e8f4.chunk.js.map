{"version":3,"file":"static/js/8318.bdd1e8f4.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Close.js","../node_modules/@mui/icons-material/esm/Add.js","pages/savings/SavingsAccounts.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","import { Add, Close } from '@mui/icons-material';\nimport {\n    Alert,\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    List,\n    ListItem,\n    ListItemText,\n    Paper,\n    TextField,\n    Typography,\n} from '@mui/material';\nimport { motion } from 'framer-motion';\nimport React, { useEffect, useState } from 'react';\nimport { useThemeContext } from '../../contexts/ThemeContext';\nimport axiosInstance from '../../utils/axiosInstance';\n  \n  interface SavingsAccount {\n    _id: string;\n    name: string;\n    balance: number;\n    interestRate: number;\n    maturityDate: string;\n  }\n  \n  const SavingsAccounts: React.FC = () => {\n    const { darkMode } = useThemeContext();\n    const [accounts, setAccounts] = useState<SavingsAccount[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [openDialog, setOpenDialog] = useState(false);\n    const [formData, setFormData] = useState({\n      name: '',\n      balance: '',\n      interestRate: '',\n      maturityDate: '',\n    });\n    const [error, setError] = useState<string | null>(null);\n  \n    useEffect(() => {\n      const fetchAccounts = async () => {\n        try {\n          setLoading(true);\n          const response = await axiosInstance.get('/api/savings-accounts');\n          setAccounts(response.data || []);\n        } catch (err) {\n          console.error('Lỗi tải sổ tiết kiệm:', err);\n          setError('Không thể tải danh sách sổ tiết kiệm.');\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchAccounts();\n    }, []);\n  \n    const handleOpenDialog = () => {\n      setOpenDialog(true);\n      setFormData({ name: '', balance: '', interestRate: '', maturityDate: '' });\n      setError(null);\n    };\n  \n    const handleCloseDialog = () => {\n      setOpenDialog(false);\n      setError(null);\n    };\n  \n    const handleAddAccount = async () => {\n      try {\n        // Validate form\n        if (!formData.name.trim()) {\n          setError('Tên sổ tiết kiệm không được để trống.');\n          return;\n        }\n        const balance = Number(formData.balance);\n        if (isNaN(balance) || balance <= 0) {\n          setError('Số dư ban đầu phải lớn hơn 0.');\n          return;\n        }\n        const interestRate = Number(formData.interestRate);\n        if (isNaN(interestRate) || interestRate < 0) {\n          setError('Lãi suất không hợp lệ.');\n          return;\n        }\n        if (!formData.maturityDate) {\n          setError('Vui lòng chọn ngày đáo hạn.');\n          return;\n        }\n  \n        // Gửi yêu cầu POST\n        const payload = {\n          name: formData.name,\n          balance,\n          interestRate,\n          maturityDate: formData.maturityDate,\n        };\n        await axiosInstance.post('/api/savings-accounts', payload);\n  \n        // Cập nhật danh sách\n        const response = await axiosInstance.get('/api/savings-accounts');\n        setAccounts(response.data || []);\n        handleCloseDialog();\n      } catch (err: any) {\n        console.error('Lỗi thêm sổ tiết kiệm:', err);\n        setError(err.response?.data?.message || 'Không thể thêm sổ tiết kiệm.');\n      }\n    };\n  \n    const formatCurrency = (amount: number) =>\n      new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);\n  \n    const formatDate = (date: string) =>\n      new Date(date).toLocaleDateString('vi-VN', { day: '2-digit', month: '2-digit', year: 'numeric' });\n  \n    return (\n      <Box\n        sx={{\n          p: { xs: 1, sm: 2, md: 3 },\n          background: darkMode\n            ? 'linear-gradient(135deg, #0F172A 0%, #1E293B 100%)'\n            : 'linear-gradient(135deg, #F1F5F9 0%, #E2E8F0 100%)',\n          minHeight: '100vh',\n        }}\n      >\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5 }}>\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            sx={{\n              fontWeight: 700,\n              color: darkMode ? '#E2E8F0' : '#1E293B',\n              background: 'linear-gradient(45deg, #3B82F6, #7C3AED)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n            }}\n          >\n            Sổ tiết kiệm\n          </Typography>\n          <Button\n            variant=\"contained\"\n            startIcon={<Add />}\n            sx={{\n              mb: 2,\n              bgcolor: 'linear-gradient(45deg, #3B82F6 30%, #7C3AED 90%)',\n              color: '#fff',\n              borderRadius: '8px',\n              fontWeight: 600,\n            }}\n            onClick={handleOpenDialog}\n          >\n            Thêm sổ mới\n          </Button>\n          <Paper\n            sx={{\n              p: 3,\n              borderRadius: '12px',\n              bgcolor: darkMode ? 'rgba(30, 41, 59, 0.95)' : 'rgba(255, 255, 255, 0.98)',\n              boxShadow: darkMode ? '0 5px 15px rgba(0,0,0,0.5)' : '0 5px 15px rgba(0,0,0,0.1)',\n            }}\n          >\n            {loading ? (\n              <Typography>Đang tải...</Typography>\n            ) : error ? (\n              <Alert severity=\"error\" sx={{ mb: 2 }}>\n                {error}\n              </Alert>\n            ) : accounts.length > 0 ? (\n              <List>\n                {accounts.map((account) => (\n                  <motion.div\n                    key={account._id}\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    <ListItem>\n                      <ListItemText\n                        primary={account.name}\n                        secondary={`Số dư: ${formatCurrency(account.balance)} | Lãi suất: ${account.interestRate}% | Đáo hạn: ${formatDate(account.maturityDate)}`}\n                        primaryTypographyProps={{ fontWeight: 500, color: darkMode ? '#E2E8F0' : '#1E293B' }}\n                        secondaryTypographyProps={{ color: darkMode ? '#CBD5E1' : '#64748B' }}\n                      />\n                    </ListItem>\n                  </motion.div>\n                ))}\n              </List>\n            ) : (\n              <Typography sx={{ textAlign: 'center', color: darkMode ? '#CBD5E1' : '#64748B' }}>\n                Chưa có sổ tiết kiệm nào.\n              </Typography>\n            )}\n          </Paper>\n        </motion.div>\n  \n        {/* Dialog thêm sổ tiết kiệm */}\n        <Dialog\n          open={openDialog}\n          onClose={handleCloseDialog}\n          fullWidth\n          maxWidth=\"sm\"\n          PaperProps={{ sx: { borderRadius: '12px', bgcolor: darkMode ? '#1E293B' : '#fff' } }}\n        >\n          <DialogTitle sx={{ color: darkMode ? '#A5B4FC' : '#4B5563', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            Thêm sổ tiết kiệm mới\n            <IconButton onClick={handleCloseDialog} sx={{ color: darkMode ? '#CBD5E1' : '#64748B' }}>\n              <Close />\n            </IconButton>\n          </DialogTitle>\n          <DialogContent>\n            {error && (\n              <Alert severity=\"error\" sx={{ mb: 2 }}>\n                {error}\n              </Alert>\n            )}\n            <TextField\n              label=\"Tên sổ tiết kiệm\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              fullWidth\n              margin=\"normal\"\n              autoFocus\n              placeholder=\"Ví dụ: Sổ tiết kiệm 6 tháng\"\n              sx={{ bgcolor: darkMode ? '#2D3748' : '#F9FAFB' }}\n            />\n            <TextField\n              label=\"Số dư ban đầu (VND)\"\n              type=\"number\"\n              value={formData.balance}\n              onChange={(e) => setFormData({ ...formData, balance: e.target.value })}\n              fullWidth\n              margin=\"normal\"\n              placeholder=\"Ví dụ: 10000000\"\n              InputProps={{ inputProps: { min: 0 } }}\n              sx={{ bgcolor: darkMode ? '#2D3748' : '#F9FAFB' }}\n            />\n            <TextField\n              label=\"Lãi suất (%)\"\n              type=\"number\"\n              value={formData.interestRate}\n              onChange={(e) => setFormData({ ...formData, interestRate: e.target.value })}\n              fullWidth\n              margin=\"normal\"\n              placeholder=\"Ví dụ: 5.5\"\n              InputProps={{ inputProps: { min: 0, step: 0.1 } }}\n              sx={{ bgcolor: darkMode ? '#2D3748' : '#F9FAFB' }}\n            />\n            <TextField\n              label=\"Ngày đáo hạn\"\n              type=\"date\"\n              value={formData.maturityDate}\n              onChange={(e) => setFormData({ ...formData, maturityDate: e.target.value })}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{ shrink: true }}\n              sx={{ bgcolor: darkMode ? '#2D3748' : '#F9FAFB' }}\n            />\n          </DialogContent>\n          <DialogActions sx={{ px: 3, py: 2 }}>\n            <Button\n              onClick={handleCloseDialog}\n              sx={{ color: darkMode ? '#CBD5E1' : '#64748B', borderRadius: '8px' }}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              onClick={handleAddAccount}\n              sx={{\n                bgcolor: 'linear-gradient(45deg, #3B82F6 30%, #7C3AED 90%)',\n                color: '#fff',\n                borderRadius: '8px',\n                fontWeight: 600,\n              }}\n            >\n              Tạo sổ\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Box>\n    );\n  };\n  \n  export default SavingsAccounts;"],"names":["createSvgIcon","_jsx","d","SavingsAccounts","darkMode","useThemeContext","accounts","setAccounts","useState","loading","setLoading","openDialog","setOpenDialog","formData","setFormData","name","balance","interestRate","maturityDate","error","setError","useEffect","async","response","axiosInstance","get","data","err","console","fetchAccounts","handleCloseDialog","_jsxs","Box","sx","p","xs","sm","md","background","minHeight","children","motion","div","initial","opacity","y","animate","transition","duration","Typography","variant","gutterBottom","fontWeight","color","WebkitBackgroundClip","WebkitTextFillColor","Button","startIcon","Add","mb","bgcolor","borderRadius","onClick","handleOpenDialog","Paper","boxShadow","Alert","severity","length","List","map","account","ListItem","ListItemText","primary","secondary","concat","amount","Intl","NumberFormat","style","currency","format","date","Date","toLocaleDateString","day","month","year","primaryTypographyProps","secondaryTypographyProps","_id","textAlign","Dialog","open","onClose","fullWidth","maxWidth","PaperProps","DialogTitle","display","justifyContent","alignItems","IconButton","Close","DialogContent","TextField","label","value","onChange","e","_objectSpread","target","margin","autoFocus","placeholder","type","InputProps","inputProps","min","step","InputLabelProps","shrink","DialogActions","px","py","trim","Number","isNaN","payload","post","_err$response","_err$response$data","message"],"sourceRoot":""}