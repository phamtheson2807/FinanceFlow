"use strict";(self.webpackChunkquanlythuchi=self.webpackChunkquanlythuchi||[]).push([[9218],{9218:(t,n,i)=>{i.r(n),i.d(n,{default:()=>C});var e=i(79558),a=i(17701),s=i(42796),c=i(59662),r=i(70579);const o=(0,c.A)([(0,r.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,r.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology");var l=i(95874),h=i(85865),d=i(19252),u=i(68903),x=i(12110),g=i(26494),p=i(96446),m=i(81045),A=i(63336),b=i(67784),v=i(11906),y=i(81637),f=i(55487),j=i(65043),F=i(73216),w=i(92853),k=i(84033);const C=()=>{const t=(0,F.Zp)(),[n,i]=(0,j.useState)([{role:"assistant",content:"Xin ch\xe0o! T\xf4i l\xe0 AI T\u01b0 v\u1ea5n t\xe0i ch\xednh c\u1ee7a FinanceFlow. T\xf4i c\xf3 th\u1ec3 gi\xfap b\u1ea1n:\n\n1. Ph\xe2n t\xedch chi ti\xeau v\xe0 \u0111\u01b0a ra g\u1ee3i \xfd t\u1ed1i \u01b0u\n2. \u0110\u1ec1 xu\u1ea5t k\u1ebf ho\u1ea1ch ti\u1ebft ki\u1ec7m ph\xf9 h\u1ee3p\n3. T\u01b0 v\u1ea5n chi\u1ebfn l\u01b0\u1ee3c \u0111\u1ea7u t\u01b0\n4. Gi\u1ea3i \u0111\xe1p c\xe1c th\u1eafc m\u1eafc v\u1ec1 t\xe0i ch\xednh\n\nB\u1ea1n c\u1ea7n h\u1ed7 tr\u1ee3 g\xec?",timestamp:new Date}]),[c,C]=(0,j.useState)(""),[B,S]=(0,j.useState)(!1),[T,P]=(0,j.useState)({transactions:[],savings:[],investments:[],budget:null}),D=[{icon:(0,r.jsx)(e.A,{sx:{fontSize:40,color:"#3B82F6"}}),title:"Ph\xe2n t\xedch chi ti\xeau",description:"Ph\xe2n t\xedch chi ti\u1ebft th\xf3i quen chi ti\xeau v\xe0 \u0111\u01b0a ra g\u1ee3i \xfd t\u1ed1i \u01b0u",path:"/dashboard/ai-advisor/spending-analysis"},{icon:(0,r.jsx)(a.A,{sx:{fontSize:40,color:"#10B981"}}),title:"G\u1ee3i \xfd ti\u1ebft ki\u1ec7m",description:"\u0110\u1ec1 xu\u1ea5t k\u1ebf ho\u1ea1ch ti\u1ebft ki\u1ec7m ph\xf9 h\u1ee3p v\u1edbi m\u1ee5c ti\xeau c\u1ee7a b\u1ea1n",path:"/dashboard/ai-advisor/savings-suggestions"},{icon:(0,r.jsx)(s.A,{sx:{fontSize:40,color:"#F59E0B"}}),title:"T\u01b0 v\u1ea5n \u0111\u1ea7u t\u01b0",description:"T\u01b0 v\u1ea5n chi\u1ebfn l\u01b0\u1ee3c \u0111\u1ea7u t\u01b0 d\u1ef1a tr\xean m\u1ee5c ti\xeau v\xe0 m\u1ee9c \u0111\u1ed9 r\u1ee7i ro",path:"/dashboard/ai-advisor/investment-advice"}];(0,j.useEffect)((()=>{(async()=>{try{S(!0);const[t,n,i,e]=await Promise.all([k.A.get("/api/transactions").catch((t=>({data:{transactions:[]}}))),k.A.get("/api/savings").catch((t=>({data:[]}))),k.A.get("/api/investments").catch((t=>({data:[]}))),k.A.get("/api/budgets").catch((t=>({data:null})))]);P({transactions:t.data.transactions||[],savings:n.data||[],investments:i.data||[],budget:e.data||null})}catch(t){console.error("Error fetching financial data:",t),P({transactions:[],savings:[],investments:[],budget:null})}finally{S(!1)}})()}),[]);const G=async()=>{if(!c.trim())return;const t={role:"user",content:c,timestamp:new Date};i((n=>[...n,t])),C(""),S(!0);try{const t={role:"assistant",content:await w.A.generateFinancialAdvice(T,c),timestamp:new Date};i((n=>[...n,t]))}catch(n){console.error("AI Response Error:",n);const t={role:"assistant",content:n.message||"Xin l\u1ed7i, t\xf4i kh\xf4ng th\u1ec3 x\u1eed l\xfd y\xeau c\u1ea7u c\u1ee7a b\u1ea1n l\xfac n\xe0y.",timestamp:new Date};i((n=>[...n,t]))}finally{S(!1)}};return(0,r.jsx)(d.A,{maxWidth:"lg",sx:{py:4},children:(0,r.jsxs)(u.Ay,{container:!0,spacing:4,children:[(0,r.jsx)(u.Ay,{item:!0,xs:12,children:(0,r.jsxs)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,r.jsx)(h.A,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,background:"linear-gradient(45deg, #3B82F6, #2563EB)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:4},children:"AI T\u01b0 v\u1ea5n T\xe0i ch\xednh"}),(0,r.jsx)(u.Ay,{container:!0,spacing:3,children:D.map(((n,i)=>(0,r.jsx)(u.Ay,{item:!0,xs:12,md:4,children:(0,r.jsx)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i},children:(0,r.jsx)(x.A,{sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 24px rgba(0,0,0,0.1)"}},onClick:()=>t(n.path),children:(0,r.jsxs)(g.A,{children:[(0,r.jsx)(p.A,{sx:{mb:2},children:n.icon}),(0,r.jsx)(h.A,{variant:"h6",gutterBottom:!0,children:n.title}),(0,r.jsx)(h.A,{variant:"body2",color:"text.secondary",children:n.description})]})})})},i)))})]})}),(0,r.jsx)(u.Ay,{item:!0,xs:12,children:(0,r.jsx)(x.A,{sx:{borderRadius:3,boxShadow:"0 8px 16px rgba(0,0,0,0.1)",height:"600px",display:"flex",flexDirection:"column",background:"#1C1C3D"},children:(0,r.jsxs)(g.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,r.jsx)(p.A,{sx:{flexGrow:1,overflowY:"auto",mb:2},children:n.map(((t,n)=>{return(0,r.jsx)(p.A,{sx:{display:"flex",justifyContent:"user"===t.role?"flex-end":"flex-start",mb:2},children:(0,r.jsxs)(p.A,{sx:{display:"flex",alignItems:"flex-start",maxWidth:"70%"},children:["assistant"===t.role&&(0,r.jsx)(m.A,{sx:{bgcolor:"#A78BFA",mr:1,width:32,height:32},children:(0,r.jsx)(o,{fontSize:"small"})}),(0,r.jsxs)(A.A,{sx:{p:2,bgcolor:"user"===t.role?"#A78BFA":"#2A2A4A",color:"user"===t.role?"white":"#A1A1AA",borderRadius:3,borderTopRightRadius:"user"===t.role?0:3,borderTopLeftRadius:"assistant"===t.role?0:3,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(i=t.content,i.split("\n").map(((t,n)=>(0,r.jsx)(h.A,{variant:"body1",sx:{mb:1},children:t},n)))),(0,r.jsx)(h.A,{variant:"caption",sx:{display:"block",mt:1,color:"user"===t.role?"rgba(255,255,255,0.7)":"rgba(161,161,170,0.7)"},children:t.timestamp.toLocaleTimeString()})]}),"user"===t.role&&(0,r.jsx)(m.A,{sx:{ml:1,width:32,height:32,bgcolor:"#A78BFA"},children:"U"})]})},n);var i}))}),(0,r.jsxs)(p.A,{sx:{display:"flex",gap:1},children:[(0,r.jsx)(b.A,{fullWidth:!0,placeholder:"Nh\u1eadp c\xe2u h\u1ecfi c\u1ee7a b\u1ea1n...",value:c,onChange:t=>C(t.target.value),onKeyPress:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),G())},multiline:!0,maxRows:4,sx:{"& .MuiOutlinedInput-root":{borderRadius:3,background:"#2A2A4A",color:"#FFFFFF","& fieldset":{borderColor:"rgba(255,255,255,0.1)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.2)"},"&.Mui-focused fieldset":{borderColor:"#A78BFA"}},"& .MuiInputBase-input":{color:"#FFFFFF"}}}),(0,r.jsx)(v.A,{variant:"contained",onClick:G,disabled:B||!c.trim(),sx:{borderRadius:3,minWidth:100,bgcolor:"#A78BFA","&:hover":{bgcolor:"#8B5CF6"}},children:B?(0,r.jsx)(y.A,{size:24,sx:{color:"white"}}):(0,r.jsx)(l.A,{})})]})]})})})]})})}},92853:(t,n,i)=>{i.d(n,{A:()=>a});const e=new(i(31048).ij)("AIzaSyDgxajhquGhXa49GLihn_GlNjeJn0-26lE"),a={generateFinancialAdvice:async(t,n)=>{try{const i=e.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}}),a="\n        B\u1ea1n l\xe0 tr\u1ee3 l\xfd t\xe0i ch\xednh c\xe1 nh\xe2n c\u1ee7a FinanceFlow, m\u1ed9t trang web gi\xfap ng\u01b0\u1eddi d\xf9ng qu\u1ea3n l\xfd t\xe0i ch\xednh. \n        B\u1ea1n h\u1ed7 tr\u1ee3 ng\u01b0\u1eddi d\xf9ng b\u1eb1ng ti\u1ebfng Vi\u1ec7t, tr\u1ea3 l\u1eddi c\xe1c c\xe2u h\u1ecfi v\u1ec1 qu\u1ea3n l\xfd t\xe0i ch\xednh, ti\u1ebft ki\u1ec7m, \u0111\u1ea7u t\u01b0, ng\xe2n s\xe1ch, thu chi, b\xe1o c\xe1o t\xe0i ch\xednh, v\xe0 c\xe1c t\xednh n\u0103ng c\u1ee7a FinanceFlow.\n        H\xe3y tr\u1ea3 l\u1eddi m\u1ed9t c\xe1ch t\u1ef1 nhi\xean, d\u1ec5 hi\u1ec3u, v\xe0 chuy\xean nghi\u1ec7p.\n\n        Th\xf4ng tin t\xe0i ch\xednh c\u1ee7a ng\u01b0\u1eddi d\xf9ng:\n        - Giao d\u1ecbch: ".concat(JSON.stringify(t.transactions,null,2),"\n        - Ti\u1ebft ki\u1ec7m: ").concat(JSON.stringify(t.savings,null,2),"\n        - \u0110\u1ea7u t\u01b0: ").concat(JSON.stringify(t.investments,null,2),"\n        - Ng\xe2n s\xe1ch: ").concat(JSON.stringify(t.budget,null,2),"\n\n        C\xe2u h\u1ecfi c\u1ee7a ng\u01b0\u1eddi d\xf9ng: ").concat(n,"\n\n        H\xe3y ph\xe2n t\xedch th\xf4ng tin v\xe0 \u0111\u01b0a ra l\u1eddi khuy\xean chi ti\u1ebft b\u1eb1ng ti\u1ebfng Vi\u1ec7t. T\u1eadp trung v\xe0o:\n        1. Ph\xe2n t\xedch t\xecnh h\xecnh t\xe0i ch\xednh hi\u1ec7n t\u1ea1i\n        2. \u0110\u1ec1 xu\u1ea5t c\u1ea3i thi\u1ec7n c\u1ee5 th\u1ec3\n        3. C\xe1c b\u01b0\u1edbc h\xe0nh \u0111\u1ed9ng ti\u1ebfp theo\n      "),s=await i.generateContent(a);return(await s.response).text()}catch(i){throw console.error("Gemini API Error:",i),new Error("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i v\u1edbi AI Assistant. Vui l\xf2ng th\u1eed l\u1ea1i sau.")}}}},95874:(t,n,i)=>{i.d(n,{A:()=>s});var e=i(59662),a=i(70579);const s=(0,e.A)((0,a.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")}}]);
//# sourceMappingURL=9218.85b86c45.chunk.js.map