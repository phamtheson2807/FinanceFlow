"use strict";(self.webpackChunkquanlythuchi=self.webpackChunkquanlythuchi||[]).push([[8403],{37912:(t,n,s)=>{var e=s(24994);n.A=void 0;var r=e(s(40039)),o=s(70579);n.A=(0,r.default)((0,o.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")},48403:(t,n,s)=>{s.r(n),s.d(n,{default:()=>g});var e=s(57677),r=s(93881),o=s(37912),i=s(96446),l=s(85865),c=s(39336),a=s(43845),h=s(79722),d=s(65043),x=s(98421),F=s(70579);const g=()=>{const[t,n]=(0,d.useState)(null),[s,g]=(0,d.useState)(!0),[A,u]=(0,d.useState)(null),{darkMode:m,currency:p}=(0,x.w)();(0,d.useEffect)((()=>{(async()=>{g(!0);try{const t=localStorage.getItem("token")?"Bearer ".concat(localStorage.getItem("token")):null;if(!t)throw new Error("Kh\xf4ng t\xecm th\u1ea5y token");const s="http://localhost:5000/api/ai/report";console.log("\ud83d\udccc G\u1ecdi API:",s);const e=await h.A.get(s,{headers:{Authorization:t}});console.log("\ud83d\udccc D\u1eef li\u1ec7u t\u1eeb GET /api/ai/report:",JSON.stringify(e.data,null,2)),0===e.data.tips.length&&console.warn("\u26a0\ufe0f Kh\xf4ng c\xf3 g\u1ee3i \xfd n\xe0o t\u1eeb AI."),n(e.data),u(null)}catch(A){var t,s,e;console.error("\u274c L\u1ed7i khi l\u1ea5y b\xe1o c\xe1o AI:",A.message,null===(t=A.response)||void 0===t?void 0:t.status),u((null===(s=A.response)||void 0===s||null===(e=s.data)||void 0===e?void 0:e.message)||"Kh\xf4ng th\u1ec3 t\u1ea3i b\xe1o c\xe1o AI. Vui l\xf2ng th\u1eed l\u1ea1i sau.")}finally{g(!1)}})()}),[]);const j=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"===p?"VND":"USD"}).format(t||0);if(s)return(0,F.jsx)(i.A,{sx:{textAlign:"center",p:3},children:(0,F.jsx)(l.A,{sx:{color:m?"#FFFFFF":"#333"},children:"\u0110ang t\u1ea3i b\xe1o c\xe1o t\xe0i ch\xednh..."})});if(A)return(0,F.jsx)(i.A,{sx:{textAlign:"center",p:3},children:(0,F.jsx)(l.A,{sx:{color:m?"#FFFFFF":"#DC143C"},children:A})});if(!t)return(0,F.jsx)(i.A,{sx:{textAlign:"center",p:3},children:(0,F.jsx)(l.A,{sx:{color:m?"#FFFFFF":"#333"},children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u b\xe1o c\xe1o."})});const b=t.income>0?(t.income-t.expense)/t.income*100:0,v=t.savings.target>0?t.savings.current/t.savings.target*100:0,f=t.investment.total>0?t.investment.profit/t.investment.total*100:0;return(0,F.jsxs)(i.A,{sx:{p:3,bgcolor:m?"#1A2027":"#FFFFFF",borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:m?"#FFFFFF":"#333"},children:[(0,F.jsx)(l.A,{variant:"h4",sx:{fontWeight:"bold",color:"#1E90FF",mb:2},children:"Ph\xe2n T\xedch T\xe0i Ch\xednh C\xe1 Nh\xe2n"}),(0,F.jsxs)(i.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2,mb:4},children:[(0,F.jsxs)(i.A,{sx:{p:2,bgcolor:m?"#2D3748":"#F5F7FA",borderRadius:2,border:"1px solid ".concat(m?"#4A5568":"#E6F3FF")},children:[(0,F.jsx)(l.A,{variant:"h6",sx:{fontWeight:"bold",mb:1},children:"T\u1ed5ng quan t\xe0i ch\xednh"}),(0,F.jsx)(c.A,{sx:{mb:2}}),(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"Thu nh\u1eadp:"})," ",j(t.income)]}),(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"Chi ti\xeau:"})," ",j(t.expense)]}),(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"Ti\u1ebft ki\u1ec7m:"})," ",j(t.income-t.expense)," (",b.toFixed(1),"% thu nh\u1eadp)"]})]}),(0,F.jsxs)(i.A,{sx:{p:2,bgcolor:m?"#2D3748":"#F5F7FA",borderRadius:2,border:"1px solid ".concat(m?"#4A5568":"#E6F3FF")},children:[(0,F.jsx)(l.A,{variant:"h6",sx:{fontWeight:"bold",mb:1},children:"Ti\u1ebft ki\u1ec7m & \u0110\u1ea7u t\u01b0"}),(0,F.jsx)(c.A,{sx:{mb:2}}),(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"Ti\u1ebft ki\u1ec7m:"})," ",j(t.savings.current)," / ",j(t.savings.target),(0,F.jsx)(a.A,{size:"small",label:"".concat(v.toFixed(1),"%"),sx:{ml:1,bgcolor:v>50?"#4CAF50":"#FF9800",color:"white"}})]}),(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"\u0110\u1ea7u t\u01b0:"})," ",j(t.investment.total),(0,F.jsx)(a.A,{size:"small",icon:t.investment.profit>=0?(0,F.jsx)(o.A,{}):(0,F.jsx)(r.A,{}),label:"".concat(t.investment.profit>=0?"+":"").concat(j(t.investment.profit)),sx:{ml:1,bgcolor:t.investment.profit>=0?"#4CAF50":"#F44336",color:"white"}})]}),t.investment.total>0&&(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"ROI:"})," ",f.toFixed(2),"%"]})]})]}),(0,F.jsxs)(l.A,{variant:"h5",sx:{fontWeight:"bold",color:"#1E90FF",mt:3,mb:2,display:"flex",alignItems:"center"},children:[(0,F.jsx)(e.A,{sx:{mr:1,color:"#FFD700"}}),"G\u1ee3i \xfd t\xe0i ch\xednh cho b\u1ea1n"]}),t.tips&&t.tips.length>0?t.tips.map(((t,n)=>(0,F.jsxs)(i.A,{sx:{mb:2,p:2,bgcolor:m?"#2D3748":"#F5F7FA",borderRadius:2,border:"1px solid ".concat(m?"#4A5568":"#E6F3FF"),transition:"transform 0.3s ease","&:hover":{transform:"translateY(-3px)",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"}},children:[(0,F.jsx)(l.A,{sx:{fontWeight:"bold",color:m?"#90CDF4":"#1E88E5"},children:t.suggestion}),(0,F.jsx)(c.A,{sx:{my:1}}),(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"H\xe0nh \u0111\u1ed9ng:"})," ",t.action]}),(0,F.jsxs)(l.A,{children:[(0,F.jsx)("strong",{children:"T\xe1c \u0111\u1ed9ng:"})," ",t.impact]})]},n))):(0,F.jsx)(l.A,{sx:{fontStyle:"italic",color:"#FF5733"},children:"\u26a0\ufe0f AI ch\u01b0a t\u1ea1o \u0111\u01b0\u1ee3c g\u1ee3i \xfd ph\xf9 h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau."})]})}},57677:(t,n,s)=>{var e=s(24994);n.A=void 0;var r=e(s(40039)),o=s(70579);n.A=(0,r.default)((0,o.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb")},93881:(t,n,s)=>{var e=s(24994);n.A=void 0;var r=e(s(40039)),o=s(70579);n.A=(0,r.default)((0,o.jsx)("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown")}}]);
//# sourceMappingURL=8403.ccc591e9.chunk.js.map