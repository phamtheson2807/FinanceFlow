{"version":3,"file":"static/js/5526.c8dcc95c.chunk.js","mappings":"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","sources":["pages/user/Savings.tsx"],"sourcesContent":["import {\r\n  Add,\r\n  ArrowDownward,\r\n  ArrowUpward,\r\n  Close,\r\n  Delete,\r\n  Edit,\r\n  Refresh,\r\n  Savings as SavingsIcon,\r\n} from '@mui/icons-material';\r\nimport {\r\n  Alert,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CircularProgress,\r\n  Container,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n  IconButton,\r\n  Snackbar,\r\n  TextField,\r\n  Typography,\r\n  useTheme,\r\n} from '@mui/material';\r\nimport MuiAlert, { AlertProps } from '@mui/material/Alert';\r\nimport { styled } from '@mui/material/styles';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axiosInstance from '../../utils/axiosInstance';\r\n\r\n// Styled components\r\nconst StyledCard = styled(Card)(({ theme }) => ({\r\n  borderRadius: 12,\r\n  boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\r\n  transition: 'transform 0.3s ease, box-shadow 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-5px)',\r\n    boxShadow: '0 8px 20px rgba(0, 0, 0, 0.15)',\r\n  },\r\n}));\r\n\r\nconst GlassContainer = styled(Box)(({ theme }) => ({\r\n  background: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(255, 255, 255, 0.9)',\r\n  backdropFilter: 'blur(10px)',\r\n  borderRadius: 16,\r\n  padding: theme.spacing(3),\r\n  boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\r\n}));\r\n\r\n// Interface for Savings Goal object\r\ninterface SavingGoal {\r\n  _id: string;\r\n  name: string;\r\n  target_amount: number;\r\n  current_amount: number;\r\n  target_date: string;\r\n}\r\n\r\n// Interface for Transaction object\r\ninterface Transaction {\r\n  _id: string;\r\n  user: string;\r\n  type: 'income' | 'expense';\r\n  amount: number;\r\n  category: string;\r\n  description: string;\r\n  date: string;\r\n  paymentMethod: string;\r\n  status: string;\r\n}\r\n\r\n// Interface for Category object\r\ninterface Category {\r\n  _id: string;\r\n  name: string;\r\n  type: 'income' | 'expense';\r\n}\r\n\r\n// Dialog types\r\ntype DialogType = 'addGoal' | 'editGoal' | 'addAmount' | 'withdrawAmount' | 'deleteConfirm' | null;\r\n\r\n// Custom Alert component\r\nconst AlertSnackbar = React.forwardRef<HTMLDivElement, AlertProps>((props, ref) => (\r\n  <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />\r\n));\r\n\r\nconst Savings = () => {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n\r\n  // State management\r\n  const [savingGoals, setSavingGoals] = useState<SavingGoal[]>([]);\r\n  const [balance, setBalance] = useState<number>(0);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    target_amount: '',\r\n    target_date: new Date().toISOString().split('T')[0],\r\n  });\r\n  const [addAmount, setAddAmount] = useState('');\r\n  const [withdrawAmount, setWithdrawAmount] = useState('');\r\n  const [openDialog, setOpenDialog] = useState<DialogType>(null);\r\n  const [selectedGoal, setSelectedGoal] = useState<SavingGoal | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: 'success' as 'success' | 'error' | 'info' | 'warning',\r\n  });\r\n\r\n  // Fetch savings goals, transactions, and categories\r\n  const fetchData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        throw new Error('Không tìm thấy token. Vui lòng đăng nhập.');\r\n      }\r\n\r\n      const [goalsResponse, transactionsResponse] = await Promise.all([\r\n        axiosInstance.get('/api/savings'),\r\n        axiosInstance.get('/api/transactions'),\r\n      ]);\r\n\r\n      setSavingGoals(goalsResponse.data || []);\r\n      // Tính số dư từ transactions\r\n      const totalIncome = transactionsResponse.data.transactions\r\n        .filter((t: Transaction) => t.type === 'income')\r\n        .reduce((sum: number, t: Transaction) => sum + t.amount, 0);\r\n      const totalExpense = transactionsResponse.data.transactions\r\n        .filter((t: Transaction) => t.type === 'expense')\r\n        .reduce((sum: number, t: Transaction) => sum + t.amount, 0);\r\n      setBalance(totalIncome - totalExpense);\r\n    } catch (err: any) {\r\n      const message = err.response?.data?.message || 'Không thể tải dữ liệu. Vui lòng thử lại.';\r\n      setError(message);\r\n      setSnackbar({ open: true, message, severity: 'error' });\r\n      if (err.response?.status === 401) {\r\n        localStorage.removeItem('token');\r\n        navigate('/login');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Initialize component\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  // Show snackbar helper\r\n  const showSnackbar = (message: string, severity: 'success' | 'error' | 'info' | 'warning') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  // Reset form data\r\n  const resetFormData = () => {\r\n    setFormData({\r\n      name: '',\r\n      target_amount: '',\r\n      target_date: new Date().toISOString().split('T')[0],\r\n    });\r\n    setAddAmount('');\r\n    setWithdrawAmount('');\r\n    setSelectedGoal(null);\r\n  };\r\n\r\n  // Handle dialog open\r\n  const handleOpenDialog = (type: DialogType, goal?: SavingGoal) => {\r\n    if (goal && (type === 'editGoal' || type === 'addAmount' || type === 'withdrawAmount' || type === 'deleteConfirm')) {\r\n      setSelectedGoal(goal);\r\n      if (type === 'editGoal') {\r\n        setFormData({\r\n          name: goal.name,\r\n          target_amount: goal.target_amount.toString(),\r\n          target_date: new Date(goal.target_date).toISOString().split('T')[0],\r\n        });\r\n      }\r\n    }\r\n    setOpenDialog(type);\r\n  };\r\n\r\n  // Handle dialog close\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(null);\r\n    resetFormData();\r\n  };\r\n\r\n  // Form validation\r\n  const validateForm = () => {\r\n    if (!formData.name.trim()) {\r\n      showSnackbar('Vui lòng nhập tên quỹ', 'error');\r\n      return false;\r\n    }\r\n\r\n    const amount = Number(formData.target_amount);\r\n    if (isNaN(amount) || amount <= 0) {\r\n      showSnackbar('Số tiền mục tiêu phải lớn hơn 0', 'error');\r\n      return false;\r\n    }\r\n\r\n    if (!formData.target_date) {\r\n      showSnackbar('Vui lòng chọn ngày hoàn thành', 'error');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  // Handle add savings goal\r\n  const handleAddSavingGoal = async () => {\r\n    if (!validateForm()) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axiosInstance.post('/api/savings', {\r\n        name: formData.name,\r\n        target_amount: Number(formData.target_amount),\r\n        target_date: formData.target_date,\r\n      });\r\n\r\n      await fetchData();\r\n      handleCloseDialog();\r\n      showSnackbar('Thêm quỹ tiết kiệm thành công', 'success');\r\n    } catch (err: any) {\r\n      console.error('❌ Lỗi thêm quỹ:', err);\r\n      showSnackbar(err.response?.data?.message || 'Lỗi thêm quỹ', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle edit savings goal\r\n  const handleEditSavingGoal = async () => {\r\n    if (!selectedGoal || !validateForm()) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axiosInstance.put(`/api/savings/${selectedGoal._id}`, {\r\n        name: formData.name,\r\n        target_amount: Number(formData.target_amount),\r\n        target_date: formData.target_date,\r\n      });\r\n\r\n      await fetchData();\r\n      handleCloseDialog();\r\n      showSnackbar('Cập nhật quỹ tiết kiệm thành công', 'success');\r\n    } catch (err: any) {\r\n      console.error('❌ Lỗi cập nhật quỹ:', err);\r\n      showSnackbar(err.response?.data?.message || 'Lỗi cập nhật quỹ', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle delete savings goal\r\n  const handleDeleteSavingGoal = async () => {\r\n    if (!selectedGoal) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await axiosInstance.delete(`/api/savings/${selectedGoal._id}`, {\r\n        data: { returnToBalance: true },\r\n      });\r\n      \r\n      // Cập nhật số dư nếu server trả về\r\n      if (response.data.newBalance !== undefined) {\r\n        setBalance(response.data.newBalance);\r\n      } else {\r\n        await fetchData(); // Fallback to fetching all data if newBalance is not provided\r\n      }\r\n      \r\n      // Xóa quỹ khỏi danh sách\r\n      setSavingGoals(prevGoals => prevGoals.filter(goal => goal._id !== selectedGoal._id));\r\n      \r\n      handleCloseDialog();\r\n      showSnackbar(\r\n        `Xóa quỹ tiết kiệm thành công. ${formatCurrency(selectedGoal.current_amount)} đã được thêm vào số dư.`,\r\n        'success'\r\n      );\r\n    } catch (err: any) {\r\n      console.error('❌ Lỗi xóa quỹ:', err);\r\n      showSnackbar(err.response?.data?.message || 'Lỗi xóa quỹ', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle add amount to savings goal\r\n  const handleAddAmount = async () => {\r\n    if (!selectedGoal) {\r\n      showSnackbar('Không có quỹ được chọn', 'error');\r\n      handleCloseDialog();\r\n      return;\r\n    }\r\n\r\n    const amount = Number(addAmount);\r\n    if (isNaN(amount) || amount <= 0) {\r\n      showSnackbar('Số tiền không hợp lệ', 'error');\r\n      return;\r\n    }\r\n\r\n    if (amount > balance) {\r\n      showSnackbar('Số dư ví không đủ để thêm vào quỹ', 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await axiosInstance.patch(`/api/savings/${selectedGoal._id}/add`, { amount });\r\n      \r\n      // Cập nhật số dư mới từ response\r\n      if (response.data.newBalance !== undefined) {\r\n        setBalance(response.data.newBalance);\r\n      }\r\n      \r\n      // Cập nhật quỹ tiết kiệm trong state\r\n      setSavingGoals(prevGoals => \r\n        prevGoals.map(goal => \r\n          goal._id === selectedGoal._id ? response.data.saving : goal\r\n        )\r\n      );\r\n      \r\n      handleCloseDialog();\r\n      showSnackbar(`Thêm ${formatCurrency(amount)} vào quỹ thành công`, 'success');\r\n    } catch (err: any) {\r\n      console.error('❌ Lỗi thêm tiền:', err);\r\n      const message =\r\n        err.response?.status === 404\r\n          ? 'Quỹ tiết kiệm không tồn tại'\r\n          : err.response?.status === 400\r\n          ? err.response.data.message || 'Số dư ví không đủ hoặc dữ liệu không hợp lệ'\r\n          : err.response?.status === 500\r\n          ? 'Lỗi server: Vui lòng kiểm tra cấu hình hoặc liên hệ hỗ trợ.'\r\n          : 'Không thể thêm tiền vào quỹ. Vui lòng thử lại.';\r\n      showSnackbar(message, 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle withdraw amount from savings goal\r\n  const handleWithdrawAmount = async () => {\r\n    if (!selectedGoal) {\r\n      showSnackbar('Không có quỹ được chọn', 'error');\r\n      handleCloseDialog();\r\n      return;\r\n    }\r\n\r\n    const amount = Number(withdrawAmount);\r\n    if (isNaN(amount) || amount <= 0) {\r\n      showSnackbar('Số tiền không hợp lệ', 'error');\r\n      return;\r\n    }\r\n\r\n    if (amount > selectedGoal.current_amount) {\r\n      showSnackbar('Số tiền rút vượt quá số dư quỹ', 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await axiosInstance.patch(`/api/savings/${selectedGoal._id}/withdraw`, { amount });\r\n      \r\n      // Cập nhật số dư mới từ response\r\n      if (response.data.newBalance !== undefined) {\r\n        setBalance(response.data.newBalance);\r\n      }\r\n      \r\n      // Cập nhật quỹ tiết kiệm trong state\r\n      setSavingGoals(prevGoals => \r\n        prevGoals.map(goal => \r\n          goal._id === selectedGoal._id ? response.data.saving : goal\r\n        )\r\n      );\r\n      \r\n      handleCloseDialog();\r\n      showSnackbar(`Rút ${formatCurrency(amount)} từ quỹ thành công`, 'success');\r\n    } catch (err: any) {\r\n      console.error('❌ Lỗi rút tiền:', err);\r\n      const message =\r\n        err.response?.status === 404\r\n          ? 'Quỹ tiết kiệm không tồn tại'\r\n          : err.response?.status === 400\r\n          ? err.response.data.message || 'Dữ liệu không hợp lệ'\r\n          : err.response?.status === 500\r\n          ? 'Lỗi server: Vui lòng kiểm tra cấu hình hoặc liên hệ hỗ trợ.'\r\n          : 'Không thể rút tiền từ quỹ. Vui lòng thử lại.';\r\n      showSnackbar(message, 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount: number) =>\r\n    new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND',\r\n      maximumFractionDigits: 0,\r\n    }).format(amount);\r\n\r\n  // Format date\r\n  const formatDate = (dateString: string) =>\r\n    new Date(dateString).toLocaleDateString('vi-VN', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n    });\r\n\r\n  // Calculate remaining days\r\n  const calculateRemainingDays = (targetDate: string) => {\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n\r\n    const target = new Date(targetDate);\r\n    target.setHours(0, 0, 0, 0);\r\n\r\n    const diffTime = target.getTime() - today.getTime();\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    return diffDays;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        minHeight: '100vh',\r\n        background: `linear-gradient(135deg, ${theme.palette.primary.light}15 0%, ${theme.palette.background.default} 100%)`,\r\n        pb: 8,\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <GlassContainer\r\n        sx={{\r\n          background: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.primary.dark} 100%)`,\r\n          color: 'white',\r\n          py: 4,\r\n          px: 2,\r\n          mb: 4,\r\n          borderRadius: { xs: 0, sm: '0 0 24px 24px' },\r\n        }}\r\n      >\r\n        <Container maxWidth=\"lg\">\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', mb: 2 }}>\r\n            <SavingsIcon sx={{ fontSize: 36, mr: 1 }} />\r\n            <Typography variant=\"h4\" fontWeight=\"bold\">\r\n              Quỹ Tiết Kiệm\r\n            </Typography>\r\n          </Box>\r\n          <Typography variant=\"subtitle1\" textAlign=\"center\" sx={{ mb: 3, opacity: 0.9 }}>\r\n            Quản lý mục tiêu tiết kiệm và theo dõi tiến độ của bạn\r\n          </Typography>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            {loading ? (\r\n              <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                Số dư: <CircularProgress size={20} color=\"inherit\" />\r\n              </Typography>\r\n            ) : error ? (\r\n              <Alert severity=\"error\" sx={{ width: '100%' }}>\r\n                {error}\r\n              </Alert>\r\n            ) : (\r\n              <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                Số dư ví: {formatCurrency(balance)}\r\n              </Typography>\r\n            )}\r\n            <Box sx={{ display: 'flex', gap: 1 }}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={fetchData}\r\n                sx={{ bgcolor: 'rgba(255, 255, 255, 0.2)', '&:hover': { bgcolor: 'rgba(255, 255, 255, 0.3)' } }}\r\n              >\r\n                <Refresh />\r\n              </IconButton>\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<Add />}\r\n                onClick={() => handleOpenDialog('addGoal')}\r\n                sx={{\r\n                  bgcolor: 'white',\r\n                  color: theme.palette.primary.main,\r\n                  fontWeight: 'bold',\r\n                  px: 3,\r\n                  py: 1.2,\r\n                  borderRadius: 2,\r\n                  '&:hover': {\r\n                    bgcolor: 'rgba(255, 255, 255, 0.9)',\r\n                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\r\n                  },\r\n                }}\r\n              >\r\n                Thêm Quỹ Mới\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Container>\r\n      </GlassContainer>\r\n\r\n      {/* Main content */}\r\n      <Container maxWidth=\"lg\">\r\n        {loading && savingGoals.length === 0 ? (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', py: 8 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : savingGoals.length > 0 ? (\r\n          <Grid container spacing={3}>\r\n            {savingGoals.map((goal) => {\r\n              const progress = Math.min((goal.current_amount / goal.target_amount) * 100, 100);\r\n              const remainingDays = calculateRemainingDays(goal.target_date);\r\n              const isCompleted = progress >= 100;\r\n              const isOverdue = remainingDays < 0;\r\n              const remainingAmount = goal.target_amount - goal.current_amount;\r\n\r\n              return (\r\n                <Grid item xs={12} sm={6} md={4} key={goal._id}>\r\n                  <StyledCard\r\n                    sx={{\r\n                      border: isCompleted\r\n                        ? `2px solid ${theme.palette.success.main}`\r\n                        : isOverdue\r\n                        ? `2px solid ${theme.palette.error.main}`\r\n                        : `1px solid ${theme.palette.divider}`,\r\n                    }}\r\n                  >\r\n                    <Box\r\n                      sx={{\r\n                        p: 2,\r\n                        bgcolor: isCompleted\r\n                          ? `${theme.palette.success.light}20`\r\n                          : isOverdue\r\n                          ? `${theme.palette.error.light}20`\r\n                          : theme.palette.background.paper,\r\n                      }}\r\n                    >\r\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                        <Typography\r\n                          variant=\"h6\"\r\n                          fontWeight=\"bold\"\r\n                          sx={{\r\n                            color: isCompleted\r\n                              ? theme.palette.success.dark\r\n                              : isOverdue\r\n                              ? theme.palette.error.dark\r\n                              : theme.palette.primary.main,\r\n                          }}\r\n                        >\r\n                          {goal.name}\r\n                        </Typography>\r\n                        <Box>\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => handleOpenDialog('editGoal', goal)}\r\n                            sx={{ mr: 0.5 }}\r\n                          >\r\n                            <Edit fontSize=\"small\" />\r\n                          </IconButton>\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            color=\"error\"\r\n                            onClick={() => handleOpenDialog('deleteConfirm', goal)}\r\n                          >\r\n                            <Delete fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                    <CardContent>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'center', my: 2 }}>\r\n                        <Box sx={{ position: 'relative', display: 'inline-flex' }}>\r\n                          <CircularProgress\r\n                            variant=\"determinate\"\r\n                            value={progress}\r\n                            size={120}\r\n                            thickness={5}\r\n                            sx={{\r\n                              color: isCompleted\r\n                                ? theme.palette.success.main\r\n                                : isOverdue\r\n                                ? theme.palette.error.main\r\n                                : theme.palette.primary.main,\r\n                            }}\r\n                          />\r\n                          <Box\r\n                            sx={{\r\n                              top: 0,\r\n                              left: 0,\r\n                              bottom: 0,\r\n                              right: 0,\r\n                              position: 'absolute',\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              justifyContent: 'center',\r\n                              flexDirection: 'column',\r\n                            }}\r\n                          >\r\n                            <Typography variant=\"h6\" fontWeight=\"bold\" color=\"text.primary\">\r\n                              {progress.toFixed(0)}%\r\n                            </Typography>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                      <Grid container spacing={1}>\r\n                        <Grid item xs={6}>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Đã tiết kiệm:\r\n                          </Typography>\r\n                          <Typography variant=\"body1\" fontWeight=\"bold\" color=\"success.main\">\r\n                            {formatCurrency(goal.current_amount || 0)}\r\n                          </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Mục tiêu:\r\n                          </Typography>\r\n                          <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                            {formatCurrency(goal.target_amount)}\r\n                          </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Còn lại:\r\n                          </Typography>\r\n                          <Typography variant=\"body1\" fontWeight=\"bold\" color=\"warning.main\">\r\n                            {formatCurrency(remainingAmount > 0 ? remainingAmount : 0)}\r\n                          </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Hạn hoàn thành:\r\n                          </Typography>\r\n                          <Typography\r\n                            variant=\"body1\"\r\n                            fontWeight=\"medium\"\r\n                            color={isOverdue ? 'error.main' : 'text.primary'}\r\n                          >\r\n                            {formatDate(goal.target_date)}\r\n                            {isOverdue ? (\r\n                              <Typography component=\"span\" color=\"error\" fontWeight=\"medium\">\r\n                                {' '}(Quá hạn {Math.abs(remainingDays)} ngày)\r\n                              </Typography>\r\n                            ) : (\r\n                              <Typography component=\"span\" color=\"text.secondary\" fontWeight=\"medium\">\r\n                                {' '}(Còn {remainingDays} ngày)\r\n                              </Typography>\r\n                            )}\r\n                          </Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Box sx={{ mt: 3, display: 'flex', gap: 1 }}>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          fullWidth\r\n                          startIcon={<ArrowUpward />}\r\n                          onClick={() => handleOpenDialog('addAmount', goal)}\r\n                          disabled={isCompleted}\r\n                          sx={{\r\n                            borderRadius: 2,\r\n                            py: 1.2,\r\n                            bgcolor: isCompleted ? theme.palette.success.main : theme.palette.primary.main,\r\n                            '&:hover': {\r\n                              bgcolor: isCompleted ? theme.palette.success.dark : theme.palette.primary.dark,\r\n                            },\r\n                          }}\r\n                        >\r\n                          Thêm Tiền\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"outlined\"\r\n                          fullWidth\r\n                          startIcon={<ArrowDownward />}\r\n                          onClick={() => handleOpenDialog('withdrawAmount', goal)}\r\n                          disabled={goal.current_amount <= 0}\r\n                          sx={{\r\n                            borderRadius: 2,\r\n                            py: 1.2,\r\n                            borderColor: theme.palette.grey[400],\r\n                            color: theme.palette.text.primary,\r\n                            '&:hover': {\r\n                              borderColor: theme.palette.grey[600],\r\n                              bgcolor: theme.palette.grey[100],\r\n                            },\r\n                          }}\r\n                        >\r\n                          Rút Tiền\r\n                        </Button>\r\n                      </Box>\r\n                    </CardContent>\r\n                  </StyledCard>\r\n                </Grid>\r\n              );\r\n            })}\r\n          </Grid>\r\n        ) : (\r\n          <GlassContainer sx={{ textAlign: 'center', py: 8, px: 2 }}>\r\n            <SavingsIcon sx={{ fontSize: 60, color: 'text.disabled', mb: 2 }} />\r\n            <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n              Chưa có quỹ tiết kiệm nào\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"text.secondary\" mb={3}>\r\n              Hãy bắt đầu bằng việc tạo một quỹ tiết kiệm cho mục tiêu của bạn!\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<Add />}\r\n              onClick={() => handleOpenDialog('addGoal')}\r\n              sx={{ borderRadius: 2, px: 3, py: 1 }}\r\n            >\r\n              Thêm Quỹ Mới\r\n            </Button>\r\n          </GlassContainer>\r\n        )}\r\n      </Container>\r\n\r\n      {/* Add/Edit Goal Dialog */}\r\n      <Dialog\r\n        open={openDialog === 'addGoal' || openDialog === 'editGoal'}\r\n        onClose={handleCloseDialog}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        PaperProps={{ sx: { borderRadius: 3, p: 2 } }}\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\">\r\n              {openDialog === 'addGoal' ? 'Thêm Quỹ Tiết Kiệm Mới' : 'Chỉnh Sửa Quỹ Tiết Kiệm'}\r\n            </Typography>\r\n            <IconButton onClick={handleCloseDialog} size=\"small\">\r\n              <Close />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            label=\"Tên quỹ tiết kiệm\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            autoFocus\r\n            placeholder=\"Ví dụ: Mua xe, Du lịch, Tiền học...\"\r\n            variant=\"outlined\"\r\n          />\r\n          <TextField\r\n            label=\"Số tiền mục tiêu (VND)\"\r\n            type=\"number\"\r\n            value={formData.target_amount}\r\n            onChange={(e) => setFormData({ ...formData, target_amount: e.target.value })}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            placeholder=\"Ví dụ: 10000000\"\r\n            InputProps={{ inputProps: { min: 1 } }}\r\n            variant=\"outlined\"\r\n          />\r\n          <TextField\r\n            label=\"Ngày hoàn thành\"\r\n            type=\"date\"\r\n            value={formData.target_date}\r\n            onChange={(e) => setFormData({ ...formData, target_date: e.target.value })}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            InputLabelProps={{ shrink: true }}\r\n            variant=\"outlined\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions sx={{ px: 3, py: 2 }}>\r\n          <Button variant=\"outlined\" onClick={handleCloseDialog} sx={{ borderRadius: 2, px: 3 }}>\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={openDialog === 'addGoal' ? handleAddSavingGoal : handleEditSavingGoal}\r\n            sx={{ borderRadius: 2, px: 3 }}\r\n          >\r\n            {openDialog === 'addGoal' ? 'Tạo Quỹ' : 'Cập Nhật'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Add Amount Dialog */}\r\n      <Dialog\r\n        open={openDialog === 'addAmount' && !!selectedGoal}\r\n        onClose={handleCloseDialog}\r\n        fullWidth\r\n        maxWidth=\"xs\"\r\n        PaperProps={{ sx: { borderRadius: 3, p: 2 } }}\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\">\r\n              Thêm Tiền Vào Quỹ\r\n            </Typography>\r\n            <IconButton onClick={handleCloseDialog} size=\"small\">\r\n              <Close />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {selectedGoal && (\r\n            <Box sx={{ mb: 2 }}>\r\n              <Typography variant=\"subtitle1\" fontWeight=\"medium\" gutterBottom>\r\n                Quỹ: {selectedGoal.name}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Hiện tại: {formatCurrency(selectedGoal.current_amount || 0)}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Mục tiêu: {formatCurrency(selectedGoal.target_amount || 0)}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Số dư ví: {formatCurrency(balance)}\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n          <TextField\r\n            label=\"Số tiền thêm vào (VND)\"\r\n            type=\"number\"\r\n            value={addAmount}\r\n            onChange={(e) => setAddAmount(e.target.value)}\r\n            fullWidth\r\n            autoFocus\r\n            helperText=\"Nhập số tiền bạn muốn thêm vào quỹ\"\r\n            InputProps={{ inputProps: { min: 1, max: balance } }}\r\n            variant=\"outlined\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions sx={{ px: 3, py: 2 }}>\r\n          <Button variant=\"outlined\" onClick={handleCloseDialog} sx={{ borderRadius: 2, px: 3 }}>\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleAddAmount}\r\n            sx={{ borderRadius: 2, px: 3 }}\r\n          >\r\n            Xác Nhận\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Withdraw Amount Dialog */}\r\n      <Dialog\r\n        open={openDialog === 'withdrawAmount' && !!selectedGoal}\r\n        onClose={handleCloseDialog}\r\n        fullWidth\r\n        maxWidth=\"xs\"\r\n        PaperProps={{ sx: { borderRadius: 3, p: 2 } }}\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\">\r\n              Rút Tiền Từ Quỹ\r\n            </Typography>\r\n            <IconButton onClick={handleCloseDialog} size=\"small\">\r\n              <Close />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {selectedGoal && (\r\n            <Box sx={{ mb: 2 }}>\r\n              <Typography variant=\"subtitle1\" fontWeight=\"medium\" gutterBottom>\r\n                Quỹ: {selectedGoal.name}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Hiện tại: {formatCurrency(selectedGoal.current_amount || 0)}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Mục tiêu: {formatCurrency(selectedGoal.target_amount || 0)}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Số dư ví: {formatCurrency(balance)}\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n          <TextField\r\n            label=\"Số tiền rút (VND)\"\r\n            type=\"number\"\r\n            value={withdrawAmount}\r\n            onChange={(e) => setWithdrawAmount(e.target.value)}\r\n            fullWidth\r\n            autoFocus\r\n            helperText=\"Nhập số tiền bạn muốn rút từ quỹ\"\r\n            InputProps={{ inputProps: { min: 1, max: selectedGoal?.current_amount } }}\r\n            variant=\"outlined\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions sx={{ px: 3, py: 2 }}>\r\n          <Button variant=\"outlined\" onClick={handleCloseDialog} sx={{ borderRadius: 2, px: 3 }}>\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleWithdrawAmount}\r\n            sx={{ borderRadius: 2, px: 3 }}\r\n          >\r\n            Xác Nhận\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog\r\n        open={openDialog === 'deleteConfirm' && !!selectedGoal}\r\n        onClose={handleCloseDialog}\r\n        fullWidth\r\n        maxWidth=\"xs\"\r\n        PaperProps={{ sx: { borderRadius: 3, p: 2 } }}\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\">\r\n              Xác Nhận Xóa Quỹ\r\n            </Typography>\r\n            <IconButton onClick={handleCloseDialog} size=\"small\">\r\n              <Close />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {selectedGoal && (\r\n            <Typography variant=\"body1\">\r\n              Bạn có chắc muốn xóa quỹ \"<strong>{selectedGoal.name}</strong>\" không? Số tiền hiện tại (\r\n              <strong>{formatCurrency(selectedGoal.current_amount)}</strong>) sẽ được chuyển vào số dư ví của bạn.\r\n            </Typography>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions sx={{ px: 3, py: 2 }}>\r\n          <Button variant=\"outlined\" onClick={handleCloseDialog} sx={{ borderRadius: 2, px: 3 }}>\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"error\"\r\n            onClick={handleDeleteSavingGoal}\r\n            sx={{ borderRadius: 2, px: 3 }}\r\n          >\r\n            Xóa\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar for notifications */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={5000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <AlertSnackbar\r\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n          severity={snackbar.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </AlertSnackbar>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Savings;"],"names":["StyledCard","styled","Card","_ref","theme","borderRadius","boxShadow","transition","transform","GlassContainer","Box","_ref2","background","palette","mode","backdropFilter","padding","spacing","AlertSnackbar","React","props","ref","_jsx","MuiAlert","_objectSpread","elevation","variant","Savings","useTheme","navigate","useNavigate","savingGoals","setSavingGoals","useState","balance","setBalance","formData","setFormData","name","target_amount","target_date","Date","toISOString","split","addAmount","setAddAmount","withdrawAmount","setWithdrawAmount","openDialog","setOpenDialog","selectedGoal","setSelectedGoal","loading","setLoading","error","setError","snackbar","setSnackbar","open","message","severity","fetchData","useCallback","async","localStorage","getItem","Error","goalsResponse","transactionsResponse","Promise","all","axiosInstance","get","data","totalIncome","transactions","filter","t","type","reduce","sum","amount","totalExpense","err","_err$response","_err$response$data","_err$response2","response","status","removeItem","useEffect","showSnackbar","handleOpenDialog","goal","toString","handleCloseDialog","validateForm","trim","Number","isNaN","formatCurrency","Intl","NumberFormat","style","currency","maximumFractionDigits","format","_jsxs","sx","minHeight","concat","primary","light","default","pb","children","main","dark","color","py","px","mb","xs","sm","Container","maxWidth","display","alignItems","justifyContent","SavingsIcon","fontSize","mr","Typography","fontWeight","textAlign","opacity","CircularProgress","size","Alert","width","gap","IconButton","onClick","bgcolor","Refresh","Button","startIcon","Add","length","Grid","container","map","progress","Math","min","current_amount","remainingDays","targetDate","today","setHours","target","diffTime","getTime","ceil","calculateRemainingDays","isCompleted","isOverdue","remainingAmount","item","md","border","success","divider","p","paper","Edit","Delete","CardContent","my","position","value","thickness","top","left","bottom","right","flexDirection","toFixed","dateString","toLocaleDateString","day","month","year","component","abs","mt","fullWidth","ArrowUpward","disabled","ArrowDownward","borderColor","grey","text","_id","gutterBottom","Dialog","onClose","PaperProps","DialogTitle","Close","DialogContent","TextField","label","onChange","e","margin","autoFocus","placeholder","InputProps","inputProps","InputLabelProps","shrink","DialogActions","post","_err$response3","_err$response3$data","console","put","_err$response4","_err$response4$data","helperText","max","patch","undefined","newBalance","prevGoals","saving","_err$response6","_err$response7","_err$response8","_err$response9","_err$response0","_err$response1","delete","returnToBalance","_err$response5","_err$response5$data","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal"],"sourceRoot":""}