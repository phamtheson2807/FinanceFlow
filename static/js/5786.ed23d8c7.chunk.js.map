{"version":3,"file":"static/js/5786.ed23d8c7.chunk.js","mappings":"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","sources":["../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx","../node_modules/@mui/icons-material/esm/InsertDriveFile.js","../node_modules/@mui/icons-material/esm/CloudDownload.js","pages/user/Reports.tsx"],"sourcesContent":["import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z\"\n}), 'InsertDriveFile');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z\"\n}), 'CloudDownload');","import { CloudDownload, InsertDriveFile } from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  SelectChangeEvent,\n  TextField,\n  Typography,\n  styled,\n} from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\nimport axios from 'axios';\nimport { ArcElement, BarElement, CategoryScale, Chart as ChartJS, Legend, LinearScale, Tooltip } from 'chart.js';\nimport { useEffect, useState } from 'react';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport * as XLSX from 'xlsx';\nimport { RootState } from '../../redux/store';\n\n// Đăng ký các thành phần Chart.js\nChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\n// Styled components\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  padding: theme.spacing(3),\n  borderRadius: '16px',\n  background: theme.palette.mode === 'dark' \n    ? 'linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)' \n    : 'linear-gradient(135deg, #fff 0%, #f7fafc 100%)',\n  boxShadow: theme.palette.mode === 'dark' \n    ? '0 8px 16px rgba(0,0,0,0.2)' \n    : '0 4px 20px rgba(0,0,0,0.05)',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    transform: 'translateY(-5px)',\n    boxShadow: theme.palette.mode === 'dark' \n      ? '0 12px 24px rgba(0,0,0,0.3)' \n      : '0 12px 24px rgba(0,0,0,0.1)',\n  },\n}));\n\nconst StyledButton = styled(Button)(({ theme }) => ({\n  borderRadius: '12px',\n  padding: theme.spacing(1.5, 3),\n  fontSize: '0.95rem',\n  fontWeight: 600,\n  textTransform: 'none',\n  transition: 'all 0.2s ease',\n  border: '1px solid rgba(37, 99, 235, 0.1)',\n  boxShadow: '0 4px 10px rgba(37, 99, 235, 0.15)',\n  '&:hover': {\n    transform: 'translateY(-2px)',\n    boxShadow: '0 6px 14px rgba(37, 99, 235, 0.2)',\n  },\n}));\n\nconst StyledDialog = styled(Dialog)(({ theme }) => ({\n  '& .MuiDialog-paper': {\n    borderRadius: '16px',\n    background: theme.palette.mode === 'dark' \n      ? 'linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)' \n      : 'linear-gradient(135deg, #fff 0%, #f7fafc 100%)',\n    border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n    boxShadow: '0 10px 30px rgba(0, 0, 0, 0.15)',\n    padding: theme.spacing(2),\n  },\n}));\n\nconst StyledSelect = styled(Select<string>)(({ theme }) => ({\n  borderRadius: '12px',\n  backgroundColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(241, 245, 249, 0.8)',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n  '& .MuiOutlinedInput-notchedOutline': { border: 'none' },\n  '&:hover': {\n    backgroundColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.08)' : 'rgba(226, 232, 240, 0.8)',\n  },\n}));\n\nconst StyledLabel = styled(InputLabel)(({ theme }) => ({\n  fontSize: '0.95rem',\n  color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n}));\n\nconst StyledTypography = styled(Typography)(({ theme }) => ({\n  color: theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n}));\n\nconst StyledLoadingIndicatorContainer = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(3),\n  textAlign: 'center',\n}));\n\nconst StyledReportsPageWrapper = styled(Box)(({ theme }) => ({\n  minHeight: '100vh',\n  background: theme.palette.mode === 'dark' ? '#121212' : '#f8fafc',\n  padding: theme.spacing(2),\n  width: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  gap: theme.spacing(3),\n  [theme.breakpoints.up('md')]: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst StyledPageTitle = styled(StyledTypography)(({ theme }) => ({\n  fontSize: '1.5rem',\n  fontWeight: 600,\n  background: `linear-gradient(45deg, #2563eb, #3b82f6)`,\n  WebkitBackgroundClip: 'text',\n  WebkitTextFillColor: 'transparent',\n  letterSpacing: '-0.02em',\n  [theme.breakpoints.up('sm')]: {\n    fontSize: '1.8rem',\n  },\n  [theme.breakpoints.up('md')]: {\n    fontSize: '2rem',\n  },\n}));\n\nconst StyledOverviewContentBox = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  gap: theme.spacing(1.5),\n}));\n\n// Interfaces (giữ nguyên)\ninterface Transaction {\n  _id: string;\n  type: 'income' | 'expense';\n  amount: number;\n  category: string;\n  date: string;\n  categoryDetails?: {\n    name: string;\n    color: string;\n    icon: string;\n  };\n}\n\ninterface ChartData {\n  labels: string[];\n  income: number[];\n  expenses: number[];\n}\n\ninterface CategoryChartData {\n  labels: string[];\n  expenses: number[];\n  colors: string[];\n}\n\ninterface AutoTableHookData {\n  cursor: { x: number; y: number };\n}\n\n// Định nghĩa kiểu cho danh mục màu sắc\ntype CategoryColorMap = {\n  [key: string]: string;\n};\n\n// Định nghĩa bảng màu đẹp và dễ phân biệt cho các danh mục\nconst CATEGORY_COLORS: CategoryColorMap = {\n  'Ăn uống': '#FF6B6B',      // Đỏ cam\n  'Di chuyển': '#4ECDC4',    // Xanh ngọc\n  'Mua sắm': '#45B7D1',      // Xanh dương\n  'Giải trí': '#96CEB4',     // Xanh lá nhạt\n  'Hóa đơn & Tiện ích': '#FFEEAD', // Vàng nhạt\n  'Xăng xe': '#FFD93D',      // Vàng đậm\n  'Tiết kiệm': '#6C5CE7',    // Tím\n  'Lương': '#A8E6CF',        // Mint\n  'Thưởng': '#DCEDC1',       // Xanh lá nhạt\n  'Đầu tư': '#FFB6B9',       // Hồng\n  'Khác': '#957DAD',         // Tím nhạt\n};\n\n// Fallback colors for any categories not in the predefined list\nconst FALLBACK_COLORS = [\n  '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEEAD',\n  '#FFD93D', '#6C5CE7', '#A8E6CF', '#DCEDC1', '#FFB6B9',\n  '#957DAD', '#D4A5A5', '#89C4F4', '#F5B7B1', '#82E0AA'\n];\n\nconst Reports = () => {\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const { plan } = useSelector((state: RootState) => state.subscription);\n  const [overview, setOverview] = useState({ income: 0, expenses: 0, balance: 0 });\n  const [monthlyData, setMonthlyData] = useState<ChartData>({ labels: [], income: [], expenses: [] });\n  const [categoryData, setCategoryData] = useState<CategoryChartData>({ \n    labels: [], \n    expenses: [], \n    colors: [] \n  });\n  const [timeRange, setTimeRange] = useState<'day' | 'month' | 'year'>('month');\n  const [selectedCategory, setSelectedCategory] = useState<string>('');\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [isExportingPDF, setIsExportingPDF] = useState(false);\n\n  const [formData, setFormData] = useState({\n    type: 'expense' as 'income' | 'expense',\n    amount: 0,\n    category: 'Ăn uống',\n    date: new Date().toISOString().split('T')[0],\n  });\n\n  // fetchData (giữ nguyên)\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Không tìm thấy token. Vui lòng đăng nhập lại.');\n      }\n\n      // Fetch categories first\n      const categoriesResponse = await axios.get('http://localhost:5000/api/categories', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const categories = categoriesResponse.data;\n      \n      // Create a map of category details with predefined colors\n      const categoryDetailsMap = categories.reduce((acc: any, cat: any, index: number) => {\n        const categoryName = cat.name as string;\n        acc[cat._id] = {\n          name: categoryName,\n          // Use predefined color if available, otherwise use fallback colors\n          color: CATEGORY_COLORS[categoryName] || FALLBACK_COLORS[index % FALLBACK_COLORS.length],\n          icon: cat.icon || '📊'\n        };\n        return acc;\n      }, {});\n\n      // Fetch transactions with date range\n      const now = new Date();\n      let startDate: string | undefined;\n      let endDate: string | undefined;\n\n      switch (timeRange) {\n        case 'day':\n          startDate = now.toISOString().split('T')[0];\n          endDate = startDate;\n          break;\n        case 'month':\n          startDate = new Date(now.getFullYear(), now.getMonth(), 1).toISOString().split('T')[0];\n          endDate = new Date(now.getFullYear(), now.getMonth() + 1, 0).toISOString().split('T')[0];\n          break;\n        case 'year':\n          startDate = `${now.getFullYear()}-01-01`;\n          endDate = `${now.getFullYear()}-12-31`;\n          break;\n      }\n\n      const query = new URLSearchParams({\n        startDate: startDate!,\n        endDate: endDate!,\n        limit: '1000',\n      }).toString();\n      \n      const response = await axios.get(`http://localhost:5000/api/transactions?${query}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      \n      const transactions: Transaction[] = response.data.transactions.map((t: any) => ({\n        ...t,\n        categoryDetails: categoryDetailsMap[t.category]\n      }));\n\n      setTransactions(transactions);\n\n      // Calculate overview\n      const totalIncome = transactions\n        .filter((t) => t.type === 'income')\n        .reduce((sum, t) => sum + (typeof t.amount === 'number' ? t.amount : 0), 0);\n      \n      const totalExpense = transactions\n        .filter((t) => t.type === 'expense')\n        .reduce((sum, t) => sum + (typeof t.amount === 'number' ? t.amount : 0), 0);\n\n      setOverview({\n        income: totalIncome,\n        expenses: totalExpense,\n        balance: totalIncome - totalExpense,\n      });\n\n      // Process monthly data\n      const monthlyMap: { [key: string]: { income: number; expense: number } } = {};\n      transactions.forEach((t) => {\n        const date = new Date(t.date);\n        const key = timeRange === 'day'\n          ? date.toISOString().split('T')[0]\n          : timeRange === 'month'\n            ? `${date.getMonth() + 1}/${date.getFullYear()}`\n            : `${date.getFullYear()}`;\n\n        if (!monthlyMap[key]) {\n          monthlyMap[key] = { income: 0, expense: 0 };\n        }\n        \n        const amount = typeof t.amount === 'number' ? t.amount : 0;\n        monthlyMap[key][t.type === 'income' ? 'income' : 'expense'] += amount;\n      });\n\n      const labels = Object.keys(monthlyMap).sort();\n      const income = labels.map((key) => monthlyMap[key].income);\n      const expenses = labels.map((key) => monthlyMap[key].expense);\n      setMonthlyData({ labels, income, expenses });\n\n      // Process category data\n      const categoryMap: { [key: string]: { amount: number; color: string; name: string } } = {};\n      transactions\n        .filter((t) => t.type === 'expense')\n        .forEach((t) => {\n          const categoryDetails = categoryDetailsMap[t.category] || {\n            name: 'Khác',\n            color: CATEGORY_COLORS['Khác'] || FALLBACK_COLORS[FALLBACK_COLORS.length - 1]\n          };\n          const categoryName = categoryDetails.name;\n          \n          if (!categoryMap[categoryName]) {\n            categoryMap[categoryName] = {\n              amount: 0,\n              color: categoryDetails.color,\n              name: categoryName\n            };\n          }\n          categoryMap[categoryName].amount += t.amount;\n        });\n\n      const expenseCategories = Object.values(categoryMap)\n        .sort((a, b) => b.amount - a.amount);\n\n      setCategoryData({\n        labels: expenseCategories.map((c) => c.name),\n        expenses: expenseCategories.map((c) => c.amount),\n        colors: expenseCategories.map((c) => c.color)\n      });\n\n    } catch (error: unknown) {\n      console.error('Lỗi khi lấy dữ liệu:', error);\n      if (error instanceof Error) {\n        setError(error.message || 'Đã xảy ra lỗi khi tải dữ liệu.');\n      } else {\n        setError('Đã xảy ra lỗi không xác định khi tải dữ liệu.');\n      }\n      if (axios.isAxiosError(error) && error.response?.status === 401) {\n        navigate('/login');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timeRange]);\n\n  useEffect(() => {\n    if (!transactions.length) return;\n\n    const categoryMap: { [key: string]: { amount: number; color: string; name: string } } = {};\n    transactions\n      .filter((t) => t.type === 'expense' && (!selectedCategory || t.categoryDetails?.name === selectedCategory))\n      .forEach((t) => {\n        const categoryDetails = t.categoryDetails || {\n          name: 'Khác',\n          color: CATEGORY_COLORS['Khác'] || FALLBACK_COLORS[FALLBACK_COLORS.length - 1]\n        };\n        const categoryName = categoryDetails.name;\n        \n        if (!categoryMap[categoryName]) {\n          categoryMap[categoryName] = {\n            amount: 0,\n            color: categoryDetails.color,\n            name: categoryName\n          };\n        }\n        categoryMap[categoryName].amount += t.amount;\n      });\n\n    const filteredCategories = Object.values(categoryMap)\n      .sort((a, b) => b.amount - a.amount);\n\n    setCategoryData({\n      labels: filteredCategories.map((c) => c.name),\n      expenses: filteredCategories.map((c) => c.amount),\n      colors: filteredCategories.map((c) => c.color)\n    });\n  }, [selectedCategory, transactions]);\n\n  // Chart data (giữ nguyên)\n  const overviewChartData = {\n    labels: monthlyData.labels,\n    datasets: [\n      {\n        label: 'Thu nhập',\n        data: monthlyData.income,\n        backgroundColor: 'rgba(103, 230, 220, 0.7)',\n        borderColor: '#67E6DC',\n        borderWidth: 1,\n      },\n      {\n        label: 'Chi tiêu',\n        data: monthlyData.expenses,\n        backgroundColor: 'rgba(255, 111, 105, 0.7)',\n        borderColor: '#FF6F69',\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const categoryChartData = {\n    labels: categoryData.labels,\n    datasets: [\n      {\n        data: categoryData.expenses,\n        backgroundColor: categoryData.colors,\n        borderWidth: 0,\n      },\n    ],\n  };\n\n  // Xuất Excel (giữ nguyên)\n  const exportToExcel = async () => {\n    try {\n      // First, check if the user has export permissions\n      const token = localStorage.getItem('token');\n      const response = await axios.post('http://localhost:5000/api/reports/export', {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (!response.data.success) {\n        alert('Bạn không có quyền xuất báo cáo. Vui lòng nâng cấp gói dịch vụ.');\n        return;\n      }\n      \n      const wb = XLSX.utils.book_new();\n\n      const summaryData = [\n        ['', '', 'BÁO CÁO TÀI CHÍNH'],\n        ['', '', `Xuất ngày: ${new Date().toLocaleDateString('vi-VN')}`],\n        ['', '', ''],\n        ['Tổng thu nhập', 'Tổng chi tiêu', 'Số dư'],\n        [\n          `${overview.income.toLocaleString('vi-VN')} VND`,\n          `${overview.expenses.toLocaleString('vi-VN')} VND`,\n          `${overview.balance.toLocaleString('vi-VN')} VND`,\n        ],\n      ];\n      const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n\n      if (summarySheet) {\n        summarySheet['!merges'] = [\n          { s: { r: 0, c: 0 }, e: { r: 0, c: 2 } },\n          { s: { r: 1, c: 0 }, e: { r: 1, c: 2 } },\n        ];\n        summarySheet['A1'] = { v: 'BÁO CÁO TÀI CHÍNH', t: 's' };\n        summarySheet['A1'].s = {\n          font: { bold: true, sz: 16, color: { rgb: 'FF6F69' } },\n          alignment: { horizontal: 'center', vertical: 'center' },\n        };\n        summarySheet['A2'] = { v: `Xuất ngày: ${new Date().toLocaleDateString('vi-VN')}`, t: 's' };\n        summarySheet['A2'].s = {\n          font: { sz: 12, color: { rgb: '6B728E' } },\n          alignment: { horizontal: 'center' },\n        };\n        summarySheet['A4'] = { v: 'Tổng thu nhập', t: 's' };\n        summarySheet['B4'] = { v: 'Tổng chi tiêu', t: 's' };\n        summarySheet['C4'] = { v: 'Số dư', t: 's' };\n        summarySheet['A4'].s = {\n          font: { bold: true, sz: 12, color: { rgb: 'FFFFFF' } },\n          fill: { fgColor: { rgb: '2196F3' } },\n          border: {\n            top: { style: 'thin', color: { rgb: '000000' } },\n            bottom: { style: 'thin', color: { rgb: '000000' } },\n          },\n          alignment: { horizontal: 'center' },\n        };\n        summarySheet['B4'].s = { ...summarySheet['A4'].s };\n        summarySheet['C4'].s = { ...summarySheet['A4'].s };\n        summarySheet['A5'] = { v: `${overview.income.toLocaleString('vi-VN')} VND`, t: 's' };\n        summarySheet['B5'] = { v: `${overview.expenses.toLocaleString('vi-VN')} VND`, t: 's' };\n        summarySheet['C5'] = { v: `${overview.balance.toLocaleString('vi-VN')} VND`, t: 's' };\n        summarySheet['A5'].s = {\n          font: { sz: 12, color: { rgb: '67E6DC' } },\n          alignment: { horizontal: 'right' },\n          border: { bottom: { style: 'thin', color: { rgb: '000000' } } },\n        };\n        summarySheet['B5'].s = {\n          font: { sz: 12, color: { rgb: 'FF6F69' } },\n          alignment: { horizontal: 'right' },\n          border: { bottom: { style: 'thin', color: { rgb: '000000' } } },\n        };\n        summarySheet['C5'].s = {\n          font: { sz: 12, color: { rgb: '6B728E' } },\n          alignment: { horizontal: 'right' },\n          border: { bottom: { style: 'thin', color: { rgb: '000000' } } },\n        };\n        summarySheet['!cols'] = [{ wch: 20 }, { wch: 20 }, { wch: 20 }];\n      }\n\n      const detailData = [\n        ['BÁO CÁO CHI TIẾT'],\n        [`Xuất ngày: ${new Date().toLocaleDateString('vi-VN')}`],\n        [''],\n        ['Thời gian', 'Thu nhập', 'Chi tiêu', 'Danh mục'],\n        ...monthlyData.labels.map((label, index) => [\n          label,\n          `${monthlyData.income[index].toLocaleString('vi-VN')} VND`,\n          `${monthlyData.expenses[index].toLocaleString('vi-VN')} VND`,\n          '',\n        ]),\n        ['', '', '', ''],\n        ...categoryData.labels.map((label, index) => [\n          '',\n          '',\n          `${categoryData.expenses[index].toLocaleString('vi-VN')} VND`,\n          label,\n        ]),\n      ];\n      const detailSheet = XLSX.utils.aoa_to_sheet(detailData);\n\n      if (detailSheet) {\n        detailSheet['!merges'] = [\n          { s: { r: 0, c: 0 }, e: { r: 0, c: 3 } },\n          { s: { r: 1, c: 0 }, e: { r: 1, c: 3 } },\n        ];\n        detailSheet['A1'] = { v: 'BÁO CÁO CHI TIẾT', t: 's' };\n        detailSheet['A1'].s = {\n          font: { bold: true, sz: 16, color: { rgb: '67E6DC' } },\n          alignment: { horizontal: 'center' },\n        };\n        detailSheet['A2'] = { v: `Xuất ngày: ${new Date().toLocaleDateString('vi-VN')}`, t: 's' };\n        detailSheet['A2'].s = {\n          font: { sz: 12, color: { rgb: '6B728E' } },\n          alignment: { horizontal: 'center' },\n        };\n        detailSheet['A4'] = { v: 'Thời gian', t: 's' };\n        detailSheet['B4'] = { v: 'Thu nhập', t: 's' };\n        detailSheet['C4'] = { v: 'Chi tiêu', t: 's' };\n        detailSheet['D4'] = { v: 'Danh mục', t: 's' };\n        detailSheet['A4'].s = {\n          font: { bold: true, sz: 12, color: { rgb: 'FFFFFF' } },\n          fill: { fgColor: { rgb: 'FF6F69' } },\n          border: {\n            top: { style: 'thin', color: { rgb: '000000' } },\n            bottom: { style: 'thin', color: { rgb: '000000' } },\n          },\n          alignment: { horizontal: 'center' },\n        };\n        detailSheet['B4'].s = { ...detailSheet['A4'].s };\n        detailSheet['C4'].s = { ...detailSheet['A4'].s };\n        detailSheet['D4'].s = { ...detailSheet['A4'].s };\n\n        for (let row = 5; row <= detailData.length; row++) {\n          const rowData = detailData[row - 3] || ['', '', '', ''];\n          detailSheet[`A${row}`] = { v: rowData[0], t: 's' };\n          detailSheet[`B${row}`] = { v: rowData[1], t: 's' };\n          detailSheet[`C${row}`] = { v: rowData[2], t: 's' };\n          detailSheet[`D${row}`] = { v: rowData[3], t: 's' };\n\n          detailSheet[`A${row}`].s = {\n            font: { sz: 12, color: { rgb: '444444' } },\n            alignment: { horizontal: 'left' },\n            border: { bottom: { style: 'thin', color: { rgb: 'D3D3D3' } } },\n          };\n          detailSheet[`B${row}`].s = {\n            font: { sz: 12, color: { rgb: '67E6DC' } },\n            alignment: { horizontal: 'right' },\n            border: { bottom: { style: 'thin', color: { rgb: 'D3D3D3' } } },\n          };\n          detailSheet[`C${row}`].s = {\n            font: { sz: 12, color: { rgb: 'FF6F69' } },\n            alignment: { horizontal: 'right' },\n            border: { bottom: { style: 'thin', color: { rgb: 'D3D3D3' } } },\n          };\n          detailSheet[`D${row}`].s = {\n            font: { sz: 12, color: { rgb: '6B728E' } },\n            alignment: { horizontal: 'left' },\n            border: { bottom: { style: 'thin', color: { rgb: 'D3D3D3' } } },\n          };\n        }\n\n        detailSheet['!cols'] = [{ wch: 20 }, { wch: 20 }, { wch: 20 }, { wch: 20 }];\n      }\n\n      if (summarySheet) XLSX.utils.book_append_sheet(wb, summarySheet, 'Tổng quan');\n      if (detailSheet) XLSX.utils.book_append_sheet(wb, detailSheet, 'Chi tiết');\n\n      if (wb.SheetNames.length === 0) {\n        console.error('Workbook is empty - No sheets were added.');\n        alert('Không thể xuất file Excel: Workbook rỗng.');\n        return;\n      }\n\n      XLSX.writeFile(wb, 'Bao_cao_tai_chinh.xlsx');\n    } catch (error) {\n      console.error('Lỗi khi xuất báo cáo:', error);\n      \n      if (axios.isAxiosError(error) && error.response?.status === 403) {\n        alert('Xuất báo cáo yêu cầu gói Premium hoặc Pro. Vui lòng nâng cấp!');\n      } else {\n        alert('Đã xảy ra lỗi khi xuất báo cáo. Vui lòng thử lại sau.');\n      }\n    }\n  };\n\n  // exportToPDF (đã sửa lỗi cú pháp)\n  const exportToPDF = async () => {\n    if (isExportingPDF) return;\n    setIsExportingPDF(true);\n    try {\n      // Dynamically import jsPDF and autoTable\n      const { default: jsPDF } = await import('jspdf');\n      const { default: autoTable } = await import('jspdf-autotable');\n\n      // First, check if the user has export permissions\n      const token = localStorage.getItem('token');\n      const response = await axios.post('http://localhost:5000/api/reports/export', {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (!response.data.success) {\n        alert('Bạn không có quyền xuất báo cáo. Vui lòng nâng cấp gói dịch vụ.');\n        return;\n      }\n\n      const doc = new jsPDF({\n        orientation: 'portrait',\n        unit: 'mm',\n        format: 'a4',\n        putOnlyUsedFonts: true,\n        compress: true\n      });\n\n      doc.setFont('helvetica', 'normal');\n      doc.setFontSize(18);\n      doc.setTextColor(40, 40, 40);\n      doc.text('Báo cáo Tài chính', 105, 15, { align: 'center', charSpace: 0 });\n\n      doc.setFontSize(14);\n      doc.setTextColor(33, 150, 243);\n      doc.text('Tổng quan', 10, 30);\n\n      let finalY = 35;\n      autoTable(doc, {\n        startY: finalY,\n        head: [['Tổng thu nhập', 'Tổng chi tiêu', 'Số dư']],\n        body: [\n          [\n            `${overview.income.toLocaleString('vi-VN')} VND`,\n            `${overview.expenses.toLocaleString('vi-VN')} VND`,\n            `${overview.balance.toLocaleString('vi-VN')} VND`,\n          ],\n        ],\n        theme: 'grid',\n        styles: {\n          font: 'helvetica',\n          fontSize: 10,\n          textColor: [40, 40, 40],\n          cellPadding: 3,\n          halign: 'right',\n          overflow: 'linebreak',\n        },\n        headStyles: {\n          fillColor: [33, 150, 243],\n          textColor: [255, 255, 255],\n          fontSize: 11,\n          halign: 'center',\n        },\n        columnStyles: {\n          0: { halign: 'right' },\n          1: { halign: 'right' },\n          2: { halign: 'right' },\n        },\n        didDrawPage: (data: AutoTableHookData) => {\n          finalY = data.cursor.y;\n        },\n      });\n\n      doc.setFontSize(14);\n      doc.setTextColor(255, 87, 34);\n      doc.text('Chi tiết theo thời gian', 10, finalY + 10);\n\n      autoTable(doc, {\n        startY: finalY + 15,\n        head: [['Thời gian', 'Thu nhập', 'Chi tiêu']],\n        body: monthlyData.labels.map((label, index) => [\n          label,\n          `${monthlyData.income[index].toLocaleString('vi-VN')} VND`,\n          `${monthlyData.expenses[index].toLocaleString('vi-VN')} VND`,\n        ]),\n        theme: 'grid',\n        styles: {\n          font: 'helvetica',\n          fontSize: 10,\n          textColor: [40, 40, 40],\n          cellPadding: 3,\n          overflow: 'linebreak',\n        },\n        headStyles: {\n          fillColor: [255, 87, 34],\n          textColor: [255, 255, 255],\n          fontSize: 11,\n          halign: 'center',\n        },\n        columnStyles: {\n          0: { halign: 'left' },\n          1: { halign: 'right' },\n          2: { halign: 'right' },\n        },\n        didDrawPage: (data: AutoTableHookData) => {\n          finalY = data.cursor.y;\n        },\n      });\n\n      doc.setFontSize(14);\n      doc.setTextColor(107, 114, 142);\n      doc.text('Chi tiết theo danh mục', 10, finalY + 10);\n\n      autoTable(doc, {\n        startY: finalY + 15,\n        head: [['Danh mục', 'Chi tiêu']],\n        body: categoryData.labels.map((label, index) => [\n          label,\n          `${categoryData.expenses[index].toLocaleString('vi-VN')} VND`,\n        ]),\n        theme: 'grid',\n        styles: {\n          font: 'helvetica',\n          fontSize: 10,\n          textColor: [40, 40, 40],\n          cellPadding: 3,\n          overflow: 'linebreak',\n        },\n        headStyles: {\n          fillColor: [107, 114, 142],\n          textColor: [255, 255, 255],\n          fontSize: 11,\n          halign: 'center',\n        },\n        columnStyles: {\n          0: { halign: 'left' },\n          1: { halign: 'right' },\n        },\n        didDrawPage: (data: AutoTableHookData) => {\n          finalY = data.cursor.y;\n        },\n      });\n\n      const pageCount = doc.getNumberOfPages();\n      for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        doc.setFontSize(9);\n        doc.setTextColor(100, 100, 100);\n        doc.text(`Xuất báo cáo ngày: ${new Date().toLocaleDateString('vi-VN')}`, 10, 287);\n        doc.text(`Trang ${i} / ${pageCount}`, 190, 287, { align: 'right' });\n      }\n\n      doc.save('Bao_cao_tai_chinh.pdf');\n    } catch (error) {\n      console.error('Lỗi khi xuất báo cáo:', error);\n      \n      if (axios.isAxiosError(error) && error.response?.status === 403) {\n        alert('Xuất báo cáo yêu cầu gói Premium hoặc Pro. Vui lòng nâng cấp!');\n      } else {\n        alert('Đã xảy ra lỗi khi xuất báo cáo. Vui lòng thử lại sau.');\n      }\n    } finally {\n      setIsExportingPDF(false);\n    }\n  };\n\n  // handleAddTransaction (giữ nguyên)\n  const handleAddTransaction = async () => {\n    try {\n      if (formData.amount <= 0) {\n        alert('Số tiền phải lớn hơn 0.');\n        return;\n      }\n\n      const token = localStorage.getItem('token');\n      const payload = {\n        type: formData.type,\n        amount: Number(formData.amount),\n        category: formData.category,\n        date: new Date(formData.date).toISOString(),\n        description: '',\n        paymentMethod: 'Tiền mặt',\n        status: 'completed',\n      };\n\n      await axios.post('http://localhost:5000/api/transactions', payload, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      fetchData();\n      setOpenDialog(false);\n    } catch (error: any) {\n      console.error('❌ Lỗi khi thêm giao dịch:', error);\n      alert('Đã xảy ra lỗi. Vui lòng thử lại sau.');\n      if (axios.isAxiosError(error) && error.response?.status === 401) {\n        navigate('/login');\n      }\n    }\n  };\n\n  const handleCategoryChange = (event: SelectChangeEvent<string>) => {\n    setSelectedCategory(event.target.value);\n  };\n\n  if (loading) {\n    return (\n      <StyledLoadingIndicatorContainer>\n        <Typography variant=\"h5\" sx={{ color: '#333', fontWeight: 500 }}>\n          Báo cáo Tài chính\n        </Typography>\n        <Typography sx={{ mt: 2, color: '#666' }}>Đang tải dữ liệu...</Typography>\n      </StyledLoadingIndicatorContainer>\n    );\n  }\n\n  if (error) {\n    return (\n      <StyledLoadingIndicatorContainer>\n        <Typography variant=\"h5\" sx={{ color: '#333', fontWeight: 500 }}>\n          Báo cáo Tài chính\n        </Typography>\n        <Typography sx={{ mt: 2, color: '#FF6F69' }}>{error}</Typography>\n      </StyledLoadingIndicatorContainer>\n    );\n  }\n\n  return (\n    // <Layout>\n      <StyledReportsPageWrapper>\n        <StyledPageTitle variant=\"h4\">\n          Báo cáo Tài chính\n        </StyledPageTitle>\n\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={4}>\n            <StyledPaper>\n              <StyledTypography \n                variant=\"h6\" \n                sx={{ \n                  fontSize: '1.1rem',\n                  fontWeight: 600,\n                  mb: 2 \n                }}\n              >\n                Tổng quan\n              </StyledTypography>\n              <StyledOverviewContentBox>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                  <StyledTypography>\n                    Thu nhập\n                  </StyledTypography>\n                  <StyledTypography sx={{ fontWeight: 600, color: '#4caf50' }}>\n                    {overview.income.toLocaleString()} VND\n                  </StyledTypography>\n                </Box>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                  <StyledTypography>\n                    Chi tiêu\n                  </StyledTypography>\n                  <StyledTypography sx={{ fontWeight: 600, color: '#f44336' }}>\n                    {overview.expenses.toLocaleString()} VND\n                  </StyledTypography>\n                </Box>\n                <Divider sx={{ my: 1 }} />\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                  <StyledTypography>\n                    Số dư\n                  </StyledTypography>\n                  <StyledTypography sx={{ fontWeight: 600 }}>\n                    {overview.balance.toLocaleString()} VND\n                  </StyledTypography>\n                </Box>\n              </StyledOverviewContentBox>\n            </StyledPaper>\n\n            <Box sx={{ mt: 3 }}>\n              <FormControl fullWidth>\n                <StyledLabel>Khoảng thời gian</StyledLabel>\n                <StyledSelect\n                  value={timeRange}\n                  onChange={(e) => setTimeRange(e.target.value as 'day' | 'month' | 'year')}\n                >\n                  <MenuItem value=\"day\">Ngày</MenuItem>\n                  <MenuItem value=\"month\">Tháng</MenuItem>\n                  <MenuItem value=\"year\">Năm</MenuItem>\n                </StyledSelect>\n              </FormControl>\n            </Box>\n\n            <StyledPaper sx={{ mt: 3 }}>\n              <Box sx={{ \n                display: 'flex', \n                justifyContent: 'space-between', \n                alignItems: 'center',\n                mb: 3 \n              }}>\n                <StyledTypography \n                  variant=\"h6\" \n                  sx={{ \n                    fontSize: '1.1rem',\n                    fontWeight: 600,\n                  }}\n                >\n                  Xuất Báo cáo\n                </StyledTypography>\n              </Box>\n              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                {plan === 'premium' || plan === 'pro' ? (\n                  <>\n                    <StyledButton\n                      variant=\"contained\"\n                      onClick={exportToExcel}\n                      startIcon={<InsertDriveFile />}\n                      sx={{\n                        background: `linear-gradient(45deg, #2563eb, #3b82f6)`,\n                        color: '#fff',\n                      }}\n                    >\n                      Xuất Excel\n                    </StyledButton>\n                    <StyledButton\n                      variant=\"contained\"\n                      onClick={exportToPDF}\n                      startIcon={<CloudDownload />}\n                      disabled={isExportingPDF}\n                      sx={{\n                        background: `linear-gradient(45deg, #2563eb, #3b82f6)`,\n                        color: '#fff',\n                      }}\n                    >\n                      {isExportingPDF ? 'Đang xuất PDF...' : 'Xuất PDF'}\n                    </StyledButton>\n                  </>\n                ) : (\n                  <StyledButton\n                    variant=\"contained\"\n                    onClick={() => navigate('/subscription')}\n                    sx={{\n                      background: `linear-gradient(45deg, #2563eb, #3b82f6)`,\n                      color: '#fff',\n                    }}\n                  >\n                    Nâng cấp ngay\n                  </StyledButton>\n                )}\n              </Box>\n            </StyledPaper>\n          </Grid>\n\n          <Grid item xs={12} md={8}>\n            <StyledPaper sx={{ height: '400px' }}>\n              <StyledTypography \n                variant=\"h6\" \n                sx={{ \n                  fontSize: '1.1rem',\n                  fontWeight: 600,\n                  mb: 2 \n                }}\n              >\n                Biểu đồ Thu - Chi\n              </StyledTypography>\n              <Box sx={{ height: 'calc(100% - 40px)' }}>\n                <Bar\n                  data={overviewChartData}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        position: 'top',\n                        labels: {\n                          font: { size: 12 },\n                          color: theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n                        }\n                      }\n                    },\n                    scales: {\n                      y: {\n                        ticks: {\n                          color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                        },\n                        grid: {\n                          color: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)',\n                        }\n                      },\n                      x: {\n                        ticks: {\n                          color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                        },\n                        grid: {\n                          display: false\n                        }\n                      }\n                    }\n                  }}\n                />\n              </Box>\n            </StyledPaper>\n\n            <StyledPaper sx={{ mt: 3, height: '400px' }}>\n              <Box sx={{ \n                display: 'flex', \n                justifyContent: 'space-between', \n                alignItems: 'center',\n                mb: 3 \n              }}>\n                <StyledTypography \n                  variant=\"h6\" \n                  sx={{ \n                    fontSize: '1.1rem',\n                    fontWeight: 600,\n                  }}\n                >\n                  Chi tiêu theo Danh mục\n                </StyledTypography>\n                <FormControl sx={{ minWidth: 200 }}>\n                  <StyledLabel>Danh mục</StyledLabel>\n                  <StyledSelect\n                    value={selectedCategory}\n                    onChange={handleCategoryChange}\n                  >\n                    <MenuItem value=\"\">Tất cả</MenuItem>\n                    {categoryData.labels.map((category) => (\n                      <MenuItem key={category} value={category}>\n                        {category}\n                      </MenuItem>\n                    ))}\n                  </StyledSelect>\n                </FormControl>\n              </Box>\n              <Box sx={{ height: 'calc(100% - 80px)', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                <Pie\n                  data={categoryChartData}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        position: 'right',\n                        labels: {\n                          font: { size: 12 },\n                          color: theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n                        }\n                      }\n                    }\n                  }}\n                />\n              </Box>\n            </StyledPaper>\n          </Grid>\n        </Grid>\n\n        <StyledDialog open={openDialog} onClose={() => setOpenDialog(false)}>\n          <DialogTitle sx={{ fontSize: '1.5rem', color: '#444', textAlign: 'center', fontWeight: 600 }}>\n            Thêm Giao dịch Mới\n          </DialogTitle>\n          <DialogContent>\n            <FormControl fullWidth sx={{ mt: 2 }}>\n              <StyledLabel>Loại</StyledLabel>\n              <Select\n                value={formData.type}\n                onChange={(e) => setFormData({ ...formData, type: e.target.value as 'income' | 'expense' })}\n                sx={{ borderRadius: '10px', backgroundColor: '#f9f9f9' }}\n              >\n                <MenuItem value=\"income\">Thu nhập</MenuItem>\n                <MenuItem value=\"expense\">Chi tiêu</MenuItem>\n              </Select>\n            </FormControl>\n            <TextField\n              label=\"Số tiền\"\n              type=\"number\"\n              value={formData.amount}\n              onChange={(e) => setFormData({ ...formData, amount: Number(e.target.value) })}\n              fullWidth\n              sx={{ mt: 2, borderRadius: '10px', backgroundColor: '#f9f9f9' }}\n              InputProps={{ inputProps: { min: 0 } }}\n            />\n            <FormControl fullWidth sx={{ mt: 2 }}>\n              <StyledLabel>Danh mục</StyledLabel>\n              <Select\n                value={formData.category}\n                onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                sx={{ borderRadius: '10px', backgroundColor: '#f9f9f9' }}\n              >\n                {['Ăn uống', 'Di chuyển', 'Mua sắm', 'Lương', 'Thưởng', 'Khác'].map((cat) => (\n                  <MenuItem key={cat} value={cat}>\n                    {cat}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <TextField\n              label=\"Ngày\"\n              type=\"date\"\n              value={formData.date}\n              onChange={(e) => setFormData({ ...formData, date: e.target.value })}\n              fullWidth\n              sx={{ mt: 2, borderRadius: '10px', backgroundColor: '#f9f9f9' }}\n              InputLabelProps={{ shrink: true }}\n            />\n          </DialogContent>\n          <DialogActions sx={{ justifyContent: 'center', pb: 2 }}>\n            <StyledButton\n              onClick={() => setOpenDialog(false)}\n              sx={{ background: '#B0BEC5', '&:hover': { background: '#90A4AE' } }}\n            >\n              Hủy\n            </StyledButton>\n            <StyledButton\n              onClick={handleAddTransaction}\n              sx={{ background: '#FF5722', '&:hover': { background: '#E64A19' } }}\n            >\n              Lưu\n            </StyledButton>\n          </DialogActions>\n        </StyledDialog>\n      </StyledReportsPageWrapper>\n    // </Layout>\n  );\n};\n\nexport default Reports;"],"names":["defaultDatasetIdKey","reforwardRef","ref","value","current","setLabels","currentData","nextLabels","labels","setDatasets","nextDatasets","datasetIdKey","arguments","length","addedDatasets","datasets","map","nextDataset","currentDataset","find","dataset","data","includes","push","Object","assign","_objectSpread","cloneData","nextData","ChartComponent","props","height","width","redraw","type","options","plugins","fallbackContent","updateMode","canvasProps","_objectWithoutProperties","_excluded","canvasRef","useRef","chartRef","renderChart","Chart$1","destroyChart","destroy","useEffect","chart","nextOptions","setOptions","config","setTimeout","update","React","role","Chart","forwardRef","createTypedChart","registerables","register","Bar","BarController","Pie","PieController","createSvgIcon","_jsx","d","ChartJS","ArcElement","Tooltip","Legend","BarElement","CategoryScale","LinearScale","StyledPaper","styled","Paper","_ref","theme","padding","spacing","borderRadius","background","palette","mode","boxShadow","border","concat","transition","transform","StyledButton","Button","_ref2","fontSize","fontWeight","textTransform","StyledDialog","Dialog","_ref3","StyledSelect","Select","_ref4","backgroundColor","StyledLabel","InputLabel","_ref5","color","StyledTypography","Typography","_ref6","StyledLoadingIndicatorContainer","Box","_ref7","textAlign","StyledReportsPageWrapper","_ref8","minHeight","display","flexDirection","gap","breakpoints","up","StyledPageTitle","_ref9","WebkitBackgroundClip","WebkitTextFillColor","letterSpacing","StyledOverviewContentBox","_ref0","CATEGORY_COLORS","FALLBACK_COLORS","Reports","navigate","useNavigate","useTheme","plan","useSelector","state","subscription","overview","setOverview","useState","income","expenses","balance","monthlyData","setMonthlyData","categoryData","setCategoryData","colors","timeRange","setTimeRange","selectedCategory","setSelectedCategory","transactions","setTransactions","loading","setLoading","error","setError","openDialog","setOpenDialog","isExportingPDF","setIsExportingPDF","formData","setFormData","amount","category","date","Date","toISOString","split","fetchData","async","token","localStorage","getItem","Error","categoriesResponse","axios","get","headers","Authorization","categoryDetailsMap","reduce","acc","cat","index","categoryName","name","_id","icon","now","startDate","endDate","getFullYear","getMonth","query","URLSearchParams","limit","toString","t","categoryDetails","totalIncome","filter","sum","totalExpense","monthlyMap","forEach","key","expense","keys","sort","categoryMap","expenseCategories","values","a","b","c","_error$response","console","message","isAxiosError","response","status","_t$categoryDetails","filteredCategories","overviewChartData","label","borderColor","borderWidth","categoryChartData","_jsxs","children","variant","sx","mt","Grid","container","item","xs","md","mb","justifyContent","alignItems","toLocaleString","Divider","my","FormControl","fullWidth","onChange","e","target","MenuItem","_Fragment","onClick","post","success","alert","wb","XLSX","book_new","summaryData","toLocaleDateString","summarySheet","aoa_to_sheet","s","r","v","font","bold","sz","rgb","alignment","horizontal","vertical","fill","fgColor","top","style","bottom","wch","detailData","detailSheet","row","rowData","book_append_sheet","SheetNames","_error$response2","startIcon","InsertDriveFile","default","jsPDF","autoTable","doc","orientation","unit","format","putOnlyUsedFonts","compress","setFont","setFontSize","setTextColor","text","align","charSpace","finalY","startY","head","body","styles","textColor","cellPadding","halign","overflow","headStyles","fillColor","columnStyles","didDrawPage","cursor","y","pageCount","getNumberOfPages","i","setPage","save","_error$response3","CloudDownload","disabled","responsive","maintainAspectRatio","legend","position","size","scales","ticks","grid","x","minWidth","event","open","onClose","DialogTitle","DialogContent","TextField","Number","InputProps","inputProps","min","InputLabelProps","shrink","DialogActions","pb","payload","description","paymentMethod","_error$response4"],"sourceRoot":""}