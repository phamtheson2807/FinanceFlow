"use strict";(self.webpackChunkquanlythuchi=self.webpackChunkquanlythuchi||[]).push([[3785],{13785:(i,e,n)=>{n.r(e),n.d(e,{default:()=>X});var o=n(89379),a=n(42559),r=n(68362),l=n(71007),s=n(20351),t=n(26240),d=n(96446),c=n(85865),h=n(81637),g=n(67784),p=n(90035),x=n(26600),u=n(35316),m=n(12110),f=n(26494),A=n(81045),y=n(39336),v=n(68903),k=n(29347),b=n(11906),j=n(69285),w=n(32143),L=n(86328),P=n(79722),S=n(55487),C=n(65043),I=n(63471),F=n(95540),E=n(47260),M=n(28076),T=n(79650),W=n(63336),_=n(71806),D=n(84882),K=n(10039),z=n(58093),V=n(73460),H=n(43845),R=n(17392),B=n(70579);const O=(0,S.P)(M.A),N={color:"#ffffff",fontWeight:700,fontSize:"1.1rem",fontFamily:"Poppins, sans-serif",padding:"12px 16px",backgroundColor:"primary.main"},U={fontFamily:"Poppins, sans-serif",fontWeight:500,fontSize:"1rem",color:"#212121",padding:"10px 16px"},Q={fontFamily:"Poppins, sans-serif",fontWeight:600,fontSize:"0.9rem",px:2,py:.5,borderRadius:1,boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},q=i=>{let{users:e,onLock:n,onUnlock:o,onViewDetails:a,onEdit:r,onDelete:l}=i;const s=(0,t.A)(),[h,g]=(0,C.useState)("name"),[p,x]=(0,C.useState)("asc"),u=[...e].sort(((i,e)=>{const n="isLocked"===h?i.isLocked?1:0:i[h]||"",o="isLocked"===h?e.isLocked?1:0:e[h]||"";return"string"===typeof n&&"string"===typeof o?"asc"===p?n.localeCompare(o):o.localeCompare(n):"asc"===p?n-o:o-n}));return(0,B.jsx)(S.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:(0,B.jsx)(T.A,{component:W.A,sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",maxHeight:{xs:"400px",sm:"600px"},overflow:"auto"},children:(0,B.jsxs)(_.A,{stickyHeader:!0,"aria-label":"User management table",children:[(0,B.jsx)(D.A,{children:(0,B.jsx)(M.A,{sx:{bgcolor:s.palette.primary.main},children:[{label:"T\xean",key:"name"},{label:"Email",key:"email"},{label:"Vai tr\xf2",key:"role"},{label:"Tr\u1ea1ng th\xe1i",key:"isLocked"},{label:"H\xe0nh \u0111\u1ed9ng",key:"isLocked"}].map((i=>(0,B.jsx)(K.A,{sx:N,children:(0,B.jsx)(z.A,{active:h===i.key,direction:h===i.key?p:"asc",onClick:()=>{return e=i.key,x(h===e&&"asc"===p?"desc":"asc"),void g(e);var e},sx:{color:"inherit","&:hover":{color:"#e0e0e0"},"&.Mui-active":{color:"#ffffff"},"& .MuiTableSortLabel-icon":{color:"#ffffff !important",fontSize:"1.2rem"}},children:i.label})},i.label)))})}),(0,B.jsx)(V.A,{children:u.length>0?u.map(((i,e)=>(0,B.jsxs)(O,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*e},sx:{"&:hover":{bgcolor:s.palette.action.hover,transition:"background 0.3s ease"}},children:[(0,B.jsx)(K.A,{sx:U,children:i.name||"Kh\xf4ng c\xf3 th\xf4ng tin"}),(0,B.jsx)(K.A,{sx:U,children:i.email||"Kh\xf4ng c\xf3 th\xf4ng tin"}),(0,B.jsx)(K.A,{sx:U,children:(0,B.jsx)(H.A,{label:"admin"===i.role?"Qu\u1ea3n tr\u1ecb vi\xean":"Ng\u01b0\u1eddi d\xf9ng",color:"admin"===i.role?"primary":"default",size:"small",sx:{fontWeight:600,fontFamily:"Poppins, sans-serif",bgcolor:"admin"===i.role?s.palette.primary.light:s.palette.grey[200],color:"admin"===i.role?"#ffffff":"#212121"}})}),(0,B.jsx)(K.A,{sx:U,children:(0,B.jsx)(H.A,{label:i.isLocked?"\u0110\xe3 kh\xf3a":"Ho\u1ea1t \u0111\u1ed9ng",color:i.isLocked?"error":"success",size:"small",sx:{fontWeight:600,fontFamily:"Poppins, sans-serif",bgcolor:i.isLocked?s.palette.error.light:s.palette.success.light,color:"#ffffff"}})}),(0,B.jsx)(K.A,{align:"center",children:(0,B.jsxs)(d.A,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[(0,B.jsx)(S.P.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,B.jsx)(R.A,{color:"primary",onClick:()=>a(i._id),"aria-label":"View user details",children:(0,B.jsx)(E.A,{})})}),(0,B.jsx)(S.P.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,B.jsx)(R.A,{color:"secondary",onClick:()=>r(i),"aria-label":"Edit user",children:(0,B.jsx)(F.A,{})})}),i.isLocked?(0,B.jsx)(S.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,B.jsx)(b.A,{variant:"contained",color:"success",onClick:()=>o(i._id),sx:Q,children:"M\u1edf kh\xf3a"})}):(0,B.jsx)(S.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,B.jsx)(b.A,{variant:"contained",color:"error",onClick:()=>n(i._id),sx:Q,children:"Kh\xf3a"})}),(0,B.jsx)(S.P.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,B.jsx)(R.A,{color:"error",onClick:()=>l(i._id),"aria-label":"Delete user",children:(0,B.jsx)(I.A,{})})})]})})]},i._id))):(0,B.jsx)(M.A,{children:(0,B.jsx)(K.A,{colSpan:5,align:"center",children:(0,B.jsx)(S.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,B.jsx)(c.A,{variant:"h6",color:"text.secondary",sx:{fontFamily:"Poppins, sans-serif",py:4,fontWeight:500,fontSize:"1.2rem",color:s.palette.grey[600]},children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u ng\u01b0\u1eddi d\xf9ng"})})})})})]})})})},X=()=>{var i;const e=(0,t.A)(),[n,I]=(0,C.useState)([]),[F,E]=(0,C.useState)(""),[M,T]=(0,C.useState)(!0),[W,_]=(0,C.useState)(null),[D,K]=(0,C.useState)(null),[z,V]=(0,C.useState)(null),[H,R]=(0,C.useState)(null),O=async()=>{try{const i=localStorage.getItem("token");if(!i)throw new Error("Token kh\xf4ng t\u1ed3n t\u1ea1i");const e=await P.A.get("http://localhost:5000/api/admin/users",{headers:{Authorization:"Bearer ".concat(i)}});if(Array.isArray(e.data)){const i=e.data.map((i=>({_id:i._id||"",name:i.name||void 0,email:i.email||void 0,role:i.role||"user",isLocked:void 0!==i.isLocked&&i.isLocked}))).filter((i=>i._id));I(i),console.log("Danh s\xe1ch ng\u01b0\u1eddi d\xf9ng:",i)}else console.error("API tr\u1ea3 v\u1ec1 d\u1eef li\u1ec7u kh\xf4ng \u0111\xfang:",e.data),I([])}catch(W){console.error("L\u1ed7i khi t\u1ea3i ng\u01b0\u1eddi d\xf9ng:",W),_("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{T(!1)}};(0,C.useEffect)((()=>{O()}),[]);const N=n.filter((i=>{var e,n;return((null===(e=i.name)||void 0===e?void 0:e.toLowerCase())||"").includes(F.toLowerCase())||((null===(n=i.email)||void 0===n?void 0:n.toLowerCase())||"").includes(F.toLowerCase())}));return(0,B.jsxs)(d.A,{sx:{p:{xs:2,sm:3,md:4},bgcolor:"#f0f4f8",minHeight:"calc(100vh - 64px)"},children:[W&&(0,B.jsx)(c.A,{sx:{color:"error.main",mb:2,textAlign:"center"},children:W}),(0,B.jsx)(S.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,type:"spring",stiffness:200,damping:20},children:(0,B.jsx)(c.A,{variant:"h3",gutterBottom:!0,sx:{fontFamily:"Poppins, sans-serif",fontWeight:"bold",color:"#1E3A8A",textShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:"Qu\u1ea3n L\xfd Ng\u01b0\u1eddi D\xf9ng"})}),M?(0,B.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,B.jsx)(S.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,B.jsx)(h.A,{size:60,sx:{color:e.palette.primary.main}})})}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(S.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,B.jsx)(g.A,{label:"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng",variant:"outlined",value:F,onChange:i=>E(i.target.value),sx:{width:{xs:"100%",sm:"50%"},mb:3,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white",boxShadow:"0 2px 5px rgba(0,0,0,0.05)","&:hover fieldset":{borderColor:e.palette.primary.main},"&.Mui-focused fieldset":{borderColor:e.palette.primary.main,boxShadow:"0 0 5px ".concat(e.palette.primary.main,"50")}},"& .MuiInputLabel-root":{fontFamily:"Poppins, sans-serif",color:e.palette.text.secondary},"& .MuiInputLabel-root.Mui-focused":{color:e.palette.primary.main}}})}),(0,B.jsx)(S.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring",stiffness:200,damping:20},children:(0,B.jsx)(q,{users:N,onLock:async i=>{if(!i)return console.error("userId kh\xf4ng h\u1ee3p l\u1ec7:",i),void _("ID ng\u01b0\u1eddi d\xf9ng kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng th\u1eed l\u1ea1i.");console.log("B\u1eaft \u0111\u1ea7u kh\xf3a t\xe0i kho\u1ea3n v\u1edbi userId:",i);try{const e=localStorage.getItem("token");if(!e)throw new Error("Token kh\xf4ng t\u1ed3n t\u1ea1i");const a="http://localhost:5000/api/admin/users/".concat(i,"/lock");console.log("\ud83d\udccc G\u1eedi y\xeau c\u1ea7u kh\xf3a t\xe0i kho\u1ea3n t\u1edbi:",a);const r=await P.A.put(a,{isLocked:!0},{headers:{Authorization:"Bearer ".concat(e)}});if(console.log("\ud83d\udccc Ph\u1ea3n h\u1ed3i t\u1eeb backend khi kh\xf3a:",r.data),r.data.data&&void 0!==r.data.data.isLocked)I(n.map((e=>e._id===i?r.data.data:e)));else{const e=(0,o.A)((0,o.A)({},n.find((e=>e._id===i))),{},{isLocked:!0});I(n.map((n=>n._id===i?e:n)))}await O()}catch(W){var e,a,r,l;if(P.A.isAxiosError(W))console.error("\u274c L\u1ed7i khi kh\xf3a ng\u01b0\u1eddi d\xf9ng:",{status:null===(e=W.response)||void 0===e?void 0:e.status,data:null===(a=W.response)||void 0===a?void 0:a.data,message:W.message}),_("Kh\xf4ng th\u1ec3 kh\xf3a t\xe0i kho\u1ea3n: ".concat((null===(r=W.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh t\u1eeb server."));else console.error("\u274c L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh khi kh\xf3a ng\u01b0\u1eddi d\xf9ng:",W),_("Kh\xf4ng th\u1ec3 kh\xf3a t\xe0i kho\u1ea3n. Vui l\xf2ng th\u1eed l\u1ea1i.")}},onUnlock:async i=>{if(!i)return console.error("userId kh\xf4ng h\u1ee3p l\u1ec7:",i),void _("ID ng\u01b0\u1eddi d\xf9ng kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng th\u1eed l\u1ea1i.");const e=n.find((e=>e._id===i));if(e)if(e.isLocked)try{const a=localStorage.getItem("token");if(!a)throw new Error("Token kh\xf4ng t\u1ed3n t\u1ea1i");const r=await P.A.put("http://localhost:5000/api/admin/users/".concat(i,"/unlock"),{isLocked:!1},{headers:{Authorization:"Bearer ".concat(a)}});if(console.log("\ud83d\udccc Ph\u1ea3n h\u1ed3i t\u1eeb backend khi m\u1edf kh\xf3a:",r.data),r.data.data&&void 0!==r.data.data.isLocked)I(n.map((e=>e._id===i?r.data.data:e)));else{const a=(0,o.A)((0,o.A)({},e),{},{isLocked:!1});I(n.map((e=>e._id===i?a:e)))}await O()}catch(W){var a,r,l;if(P.A.isAxiosError(W))console.error("\u274c L\u1ed7i khi m\u1edf kh\xf3a ng\u01b0\u1eddi d\xf9ng:",(null===(a=W.response)||void 0===a?void 0:a.data)||W.message),_("Kh\xf4ng th\u1ec3 m\u1edf kh\xf3a ng\u01b0\u1eddi d\xf9ng: ".concat((null===(r=W.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"));else console.error("\u274c L\u1ed7i khi m\u1edf kh\xf3a ng\u01b0\u1eddi d\xf9ng:",W),_("Kh\xf4ng th\u1ec3 m\u1edf kh\xf3a ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng th\u1eed l\u1ea1i.")}else _("T\xe0i kho\u1ea3n n\xe0y \u0111ang ho\u1ea1t \u0111\u1ed9ng, kh\xf4ng th\u1ec3 m\u1edf kh\xf3a.");else _("Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng l\xe0m m\u1edbi trang.")},onViewDetails:i=>{console.log("handleViewDetails called with userId:",i);const e=n.find((e=>e._id===i));e?V(e):(console.error("Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi d\xf9ng v\u1edbi userId:",i),_("Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi d\xf9ng."))},onEdit:i=>{console.log("handleOpenEdit called with:",i),R(i)},onDelete:i=>K(i)})}),(0,B.jsxs)(p.A,{open:!!z,onClose:()=>V(null),TransitionComponent:L.A,transitionDuration:400,maxWidth:"sm",fullWidth:!0,children:[(0,B.jsx)(x.A,{sx:{fontFamily:"Poppins, sans-serif",fontWeight:"bold",bgcolor:"#1E3A8A",color:"white",py:2,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:(0,B.jsx)(c.A,{variant:"h6",sx:{fontFamily:"Poppins, sans-serif",fontWeight:"bold"},children:"Th\xf4ng Tin Ng\u01b0\u1eddi D\xf9ng"})}),(0,B.jsx)(u.A,{sx:{bgcolor:"#ffffff",py:4,px:3},children:(0,B.jsx)(m.A,{sx:{boxShadow:"0 4px 20px rgba(0,0,0,0.05)",borderRadius:3,overflow:"hidden"},children:(0,B.jsxs)(f.A,{sx:{p:3},children:[(0,B.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,B.jsx)(A.A,{sx:{bgcolor:e.palette.primary.main,width:60,height:60,mr:2,fontSize:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:(null===z||void 0===z||null===(i=z.name)||void 0===i?void 0:i.charAt(0))||"U"}),(0,B.jsx)(c.A,{variant:"h5",sx:{fontFamily:"Poppins, sans-serif",fontWeight:"bold",color:"#1E3A8A"},children:(null===z||void 0===z?void 0:z.name)||"Kh\xf4ng c\xf3 th\xf4ng tin"})]}),(0,B.jsx)(y.A,{sx:{mb:2,borderColor:"#e0e0e0"}}),(0,B.jsxs)(v.Ay,{container:!0,spacing:2,children:[(0,B.jsxs)(v.Ay,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(a.A,{sx:{color:e.palette.primary.main,mr:1}}),(0,B.jsxs)(d.A,{children:[(0,B.jsx)(c.A,{sx:{fontFamily:"Poppins, sans-serif",color:"#555",fontWeight:"medium"},children:"Email"}),(0,B.jsx)(c.A,{sx:{fontFamily:"Poppins, sans-serif",color:"#333",fontSize:"1rem"},children:(null===z||void 0===z?void 0:z.email)||"Kh\xf4ng c\xf3 th\xf4ng tin"})]})]}),(0,B.jsxs)(v.Ay,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(r.A,{sx:{color:e.palette.primary.main,mr:1}}),(0,B.jsxs)(d.A,{children:[(0,B.jsx)(c.A,{sx:{fontFamily:"Poppins, sans-serif",color:"#555",fontWeight:"medium"},children:"Vai tr\xf2"}),(0,B.jsx)(c.A,{sx:{fontFamily:"Poppins, sans-serif",color:"admin"===(null===z||void 0===z?void 0:z.role)?"#1976D2":"#333",fontSize:"1rem"},children:"admin"===(null===z||void 0===z?void 0:z.role)?"Qu\u1ea3n tr\u1ecb vi\xean":"Ng\u01b0\u1eddi d\xf9ng"})]})]}),(0,B.jsxs)(v.Ay,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[null!==z&&void 0!==z&&z.isLocked?(0,B.jsx)(l.A,{sx:{color:"#f44336",mr:1}}):(0,B.jsx)(s.A,{sx:{color:"#4caf50",mr:1}}),(0,B.jsxs)(d.A,{children:[(0,B.jsx)(c.A,{sx:{fontFamily:"Poppins, sans-serif",color:"#555",fontWeight:"medium"},children:"Tr\u1ea1ng th\xe1i"}),(0,B.jsx)(c.A,{sx:{fontFamily:"Poppins, sans-serif",color:null!==z&&void 0!==z&&z.isLocked?"#f44336":"#4caf50",fontSize:"1rem"},children:null!==z&&void 0!==z&&z.isLocked?"\u0110\xe3 kh\xf3a":"Ho\u1ea1t \u0111\u1ed9ng"})]})]})]})]})})}),(0,B.jsx)(k.A,{sx:{bgcolor:"#f5f5f5",px:3,py:2},children:(0,B.jsx)(b.A,{onClick:()=>V(null),variant:"outlined",sx:{fontFamily:"Poppins, sans-serif",color:"#1E3A8A",borderColor:"#1E3A8A",borderRadius:2,px:3,py:1,"&:hover":{bgcolor:"#1E3A8A",color:"white",borderColor:"#1E3A8A"}},children:"\u0110\xf3ng"})})]}),(0,B.jsxs)(p.A,{open:!!H,onClose:()=>R(null),TransitionComponent:L.A,transitionDuration:400,children:[(0,B.jsx)(x.A,{sx:{fontFamily:"Poppins, sans-serif",fontWeight:"bold",bgcolor:"rgba(245, 245, 245, 0.95)",color:"#1E3A8A",py:2,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:"Ch\u1ec9nh S\u1eeda Ng\u01b0\u1eddi D\xf9ng"}),(0,B.jsxs)(u.A,{sx:{bgcolor:"rgba(245, 245, 245, 0.95)",py:3,px:4},children:[(0,B.jsx)(g.A,{autoFocus:!0,margin:"dense",label:"T\xean",type:"text",fullWidth:!0,value:(null===H||void 0===H?void 0:H.name)||"",onChange:i=>R((0,o.A)((0,o.A)({},H),{},{name:i.target.value||void 0})),variant:"outlined",sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},"& .MuiInputLabel-root":{fontFamily:"Poppins, sans-serif",color:"#555"},"& .MuiInputLabel-root.Mui-focused":{color:e.palette.primary.main}}}),(0,B.jsx)(g.A,{margin:"dense",label:"Email",type:"email",fullWidth:!0,value:(null===H||void 0===H?void 0:H.email)||"",onChange:i=>R((0,o.A)((0,o.A)({},H),{},{email:i.target.value||void 0})),variant:"outlined",sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},"& .MuiInputLabel-root":{fontFamily:"Poppins, sans-serif",color:"#555"},"& .MuiInputLabel-root.Mui-focused":{color:e.palette.primary.main}}}),(0,B.jsxs)(j.A,{margin:"dense",label:"Vai tr\xf2",fullWidth:!0,value:(null===H||void 0===H?void 0:H.role)||"user",onChange:i=>R((0,o.A)((0,o.A)({},H),{},{role:i.target.value})),variant:"outlined",sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},"& .MuiInputLabel-root":{fontFamily:"Poppins, sans-serif",color:"#555"},"& .MuiInputLabel-root.Mui-focused":{color:e.palette.primary.main}},children:[(0,B.jsx)(w.A,{value:"admin",children:"Qu\u1ea3n tr\u1ecb vi\xean"}),(0,B.jsx)(w.A,{value:"user",children:"Ng\u01b0\u1eddi d\xf9ng"})]}),(0,B.jsxs)(j.A,{margin:"dense",label:"Tr\u1ea1ng th\xe1i",fullWidth:!0,value:null!==H&&void 0!==H&&H.isLocked?"locked":"active",onChange:i=>R((0,o.A)((0,o.A)({},H),{},{isLocked:"locked"===i.target.value})),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},"& .MuiInputLabel-root":{fontFamily:"Poppins, sans-serif",color:"#555"},"& .MuiInputLabel-root.Mui-focused":{color:e.palette.primary.main}},children:[(0,B.jsx)(w.A,{value:"active",children:"Ho\u1ea1t \u0111\u1ed9ng"}),(0,B.jsx)(w.A,{value:"locked",children:"\u0110\xe3 kh\xf3a"})]})]}),(0,B.jsxs)(k.A,{sx:{bgcolor:"rgba(245, 245, 245, 0.95)",px:4,py:2},children:[(0,B.jsx)(b.A,{onClick:()=>R(null),sx:{fontFamily:"Poppins, sans-serif",color:"#777","&:hover":{color:"#1E3A8A"}},children:"H\u1ee7y"}),(0,B.jsx)(b.A,{onClick:()=>H&&(async i=>{if(console.log("handleEditUser called with:",i),!i._id)return console.error("userId kh\xf4ng h\u1ee3p l\u1ec7:",i._id),void _("ID ng\u01b0\u1eddi d\xf9ng kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng th\u1eed l\u1ea1i.");try{const e=localStorage.getItem("token");if(!e)throw new Error("Token kh\xf4ng t\u1ed3n t\u1ea1i");const o=await P.A.put("http://localhost:5000/api/admin/users/".concat(i._id),i,{headers:{Authorization:"Bearer ".concat(e)}});console.log("API response:",o.data),I(n.map((e=>e._id===i._id?o.data.data:e))),R(null),await O()}catch(W){var e,o,a;P.A.isAxiosError(W)?(console.error("L\u1ed7i khi ch\u1ec9nh s\u1eeda ng\u01b0\u1eddi d\xf9ng:",(null===(e=W.response)||void 0===e?void 0:e.data)||W.message),_("Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda ng\u01b0\u1eddi d\xf9ng: ".concat((null===(o=W.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"))):(console.error("L\u1ed7i khi ch\u1ec9nh s\u1eeda ng\u01b0\u1eddi d\xf9ng:",W),_("Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng th\u1eed l\u1ea1i."))}})(H),variant:"contained",color:"primary",sx:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(45deg, #3B82F6, #1E3A8A)",borderRadius:3,px:4,py:1,boxShadow:"0 5px 15px rgba(0,0,0,0.1)","&:hover":{background:"linear-gradient(45deg, #4B9EFF, #2A4D9E)"}},children:"L\u01b0u"})]})]}),(0,B.jsxs)(p.A,{open:!!D,onClose:()=>K(null),TransitionComponent:L.A,transitionDuration:400,children:[(0,B.jsx)(x.A,{sx:{fontFamily:"Poppins, sans-serif",fontWeight:"bold",bgcolor:"rgba(245, 245, 245, 0.95)",color:"#1E3A8A",py:2,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:"X\xe1c nh\u1eadn x\xf3a"}),(0,B.jsx)(u.A,{sx:{bgcolor:"rgba(245, 245, 245, 0.95)",py:3,px:4},children:(0,B.jsx)(c.A,{sx:{fontFamily:"Poppins, sans-serif",color:"#555"},children:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."})}),(0,B.jsxs)(k.A,{sx:{bgcolor:"rgba(245, 245, 245, 0.95)",px:4,py:2},children:[(0,B.jsx)(b.A,{onClick:()=>K(null),sx:{fontFamily:"Poppins, sans-serif",color:"#777","&:hover":{color:"#1E3A8A"}},children:"H\u1ee7y"}),(0,B.jsx)(b.A,{onClick:()=>D&&(async i=>{if(!i)return console.error("userId kh\xf4ng h\u1ee3p l\u1ec7:",i),void _("ID ng\u01b0\u1eddi d\xf9ng kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng th\u1eed l\u1ea1i.");try{const e=localStorage.getItem("token");if(!e)throw new Error("Token kh\xf4ng t\u1ed3n t\u1ea1i");await P.A.delete("http://localhost:5000/api/admin/users/".concat(i),{headers:{Authorization:"Bearer ".concat(e)}}),I(n.filter((e=>e._id!==i))),K(null),await O()}catch(W){var e,o,a;P.A.isAxiosError(W)?(console.error("L\u1ed7i khi x\xf3a ng\u01b0\u1eddi d\xf9ng:",(null===(e=W.response)||void 0===e?void 0:e.data)||W.message),_("Kh\xf4ng th\u1ec3 x\xf3a ng\u01b0\u1eddi d\xf9ng: ".concat((null===(o=W.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"))):(console.error("L\u1ed7i khi x\xf3a ng\u01b0\u1eddi d\xf9ng:",W),_("Kh\xf4ng th\u1ec3 x\xf3a ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng th\u1eed l\u1ea1i."))}})(D),variant:"contained",color:"error",sx:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(45deg, #f44336, #d32f2f)",borderRadius:3,px:4,py:1,boxShadow:"0 5px 15px rgba(0,0,0,0.1)","&:hover":{background:"linear-gradient(45deg, #ff5f52, #e64a19)"}},children:"X\xf3a"})]})]})]})]})}}}]);
//# sourceMappingURL=3785.541edd5f.chunk.js.map