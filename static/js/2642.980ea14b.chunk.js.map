{"version":3,"file":"static/js/2642.980ea14b.chunk.js","mappings":"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","sources":["components/investments/InvestmentDetails.tsx","components/investments/InvestmentForm.tsx","components/investments/InvestmentHeader.tsx","components/investments/InvestmentCard.tsx","components/investments/InvestmentList.tsx","components/investments/InvestmentTabs.tsx","pages/user/Investments.tsx"],"sourcesContent":["import {\n    ArrowDownward,\n    ArrowUpward,\n    Edit\n} from '@mui/icons-material';\nimport {\n    alpha,\n    Avatar,\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    Grid,\n    Paper,\n    styled,\n    Typography,\n    useTheme\n} from '@mui/material';\nimport React, { useMemo } from 'react';\nimport {\n    Line,\n    LineChart,\n    ResponsiveContainer,\n    Tooltip,\n    XAxis,\n    YAxis\n} from 'recharts';\nimport { Investment } from './InvestmentCard';\n\nconst SecondaryButton = styled(Button)(({ theme }) => ({\n  borderRadius: '10px',\n  padding: '10px 24px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: theme.palette.mode === 'dark' ? '#2d3748' : '#f7fafc',\n  boxShadow: '0 2px 5px rgba(0,0,0,0.07)',\n  color: theme.palette.mode === 'dark' ? '#fff' : '#4a5568',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)'}`,\n  '&:hover': {\n    boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\n    background: theme.palette.mode === 'dark' ? '#374151' : '#edf2f7',\n  },\n}));\n\nconst GradientButton = styled(Button)(({ theme }) => ({\n  borderRadius: '10px',\n  padding: '10px 24px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n  boxShadow: '0 4px 10px rgba(0, 118, 255, 0.2)',\n  color: '#fff',\n  '&:hover': {\n    boxShadow: '0 6px 14px rgba(0, 118, 255, 0.3)',\n    background: `linear-gradient(45deg, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n  },\n}));\n\ninterface HistoryChartData {\n  date: string;\n  amount: number;\n  type?: 'deposit' | 'withdraw' | 'profit' | 'loss';\n}\n\ninterface InvestmentDetailsProps {\n  open: boolean;\n  onClose: () => void;\n  investment: Investment | null;\n  onEdit: (investment: Investment) => void;\n  formatCurrency: (amount: number) => string;\n  calculateProfitLoss: (investment: Investment) => { \n    amount: number;\n    percentage: string;\n    isProfit: boolean \n  };\n  getTypeDetails: (type: string) => { \n    value: string;\n    label: string;\n    color: string;\n    icon: React.ReactNode \n  };\n}\n\nconst InvestmentDetails: React.FC<InvestmentDetailsProps> = ({\n  open,\n  onClose,\n  investment,\n  onEdit,\n  formatCurrency,\n  calculateProfitLoss,\n  getTypeDetails\n}) => {\n  const theme = useTheme();\n\n  const historyChartData: HistoryChartData[] = useMemo(() => {\n    if (!investment) return [];\n    const data: HistoryChartData[] = [\n      {\n        date: new Date(investment.startDate).toLocaleDateString('vi-VN'),\n        amount: investment.initialAmount,\n      },\n    ];\n    let currentAmount = investment.initialAmount;\n    investment.history.forEach((item) => {\n      if (item.type === 'deposit') {\n        currentAmount += item.amount;\n      } else if (item.type === 'withdraw') {\n        currentAmount -= item.amount;\n      } else if (item.type === 'profit') {\n        currentAmount += item.amount;\n      } else if (item.type === 'loss') {\n        currentAmount -= item.amount;\n      }\n      data.push({\n        date: new Date(item.date).toLocaleDateString('vi-VN'),\n        amount: currentAmount,\n        type: item.type,\n      });\n    });\n    return data;\n  }, [investment]);\n\n  if (!investment) return null;\n\n  const profitLoss = calculateProfitLoss(investment);\n  const typeInfo = getTypeDetails(investment.type);\n  const averageBuyPrice = investment.type === 'crypto' && investment.quantity\n    ? investment.initialAmount / investment.quantity\n    : null;\n  const currentPrice = investment.type === 'crypto' && investment.quantity\n    ? investment.currentAmount / investment.quantity\n    : null;\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"md\"\n      fullWidth\n      PaperProps={{ \n        sx: { \n          borderRadius: 3, \n          p: 2,\n          background: theme.palette.mode === 'dark' \n            ? 'linear-gradient(145deg, rgba(30,42,56,0.95) 0%, rgba(38,50,63,0.95) 100%)' \n            : 'linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)'\n        } \n      }}\n    >\n      <DialogTitle>\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n          <Avatar \n            sx={{ \n              bgcolor: alpha(typeInfo.color, 0.15), \n              color: typeInfo.color,\n              width: 48, \n              height: 48,\n              border: `2px solid ${typeInfo.color}`\n            }}\n          >\n            {typeInfo.icon}\n          </Avatar>\n          <Box>\n            <Typography \n              component=\"div\" \n              variant=\"h5\" \n              fontWeight=\"bold\" \n              sx={{ \n                fontSize: '1.5rem',\n                background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n              }}\n            >\n              {investment.name}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.95rem' }}>\n              Chi tiết khoản đầu tư\n            </Typography>\n          </Box>\n        </Box>\n        <Divider sx={{ mt: 2 }} />\n      </DialogTitle>\n      <DialogContent>\n        <Grid container spacing={3} sx={{ mt: 0.5 }}>\n          <Grid item xs={12} md={6}>\n            <Paper sx={{ \n              p: 3, \n              borderRadius: 3, \n              bgcolor: theme.palette.mode === 'dark' ? alpha('#2d3748', 0.5) : alpha('#f7fafc', 0.8),\n              borderLeft: `4px solid ${theme.palette.primary.main}`\n            }}>\n              <Typography \n                variant=\"h6\" \n                fontWeight=\"bold\" \n                sx={{ \n                  mb: 2.5, \n                  fontSize: '1.2rem',\n                  color: theme.palette.primary.main\n                }}\n              >\n                Thông tin cơ bản\n              </Typography>\n              <Divider sx={{ mb: 2.5 }} />\n              <Grid container spacing={2.5}>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Loại đầu tư\n                  </Typography>\n                  <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                    {typeInfo.label}\n                  </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Trạng thái\n                  </Typography>\n                  <Typography \n                    variant=\"body1\" \n                    fontWeight=\"bold\" \n                    sx={{ \n                      fontSize: '1rem', \n                      mt: 0.5,\n                      color: \n                        investment.status === 'active'\n                          ? theme.palette.success.main\n                          : investment.status === 'completed'\n                          ? theme.palette.info.main\n                          : theme.palette.error.main,\n                    }}\n                  >\n                    {investment.status === 'active'\n                      ? 'Đang hoạt động'\n                      : investment.status === 'completed'\n                      ? 'Hoàn thành'\n                      : 'Đã hủy'}\n                  </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Số tiền ban đầu\n                  </Typography>\n                  <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                    {formatCurrency(investment.initialAmount)}\n                  </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Giá trị hiện tại\n                  </Typography>\n                  <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                    {formatCurrency(investment.currentAmount)}\n                  </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Ngày bắt đầu\n                  </Typography>\n                  <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                    {new Date(investment.startDate).toLocaleDateString('vi-VN')}\n                  </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Ngày kết thúc\n                  </Typography>\n                  <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                    {investment.endDate\n                      ? new Date(investment.endDate).toLocaleDateString('vi-VN')\n                      : 'Chưa xác định'}\n                  </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Lợi nhuận kỳ vọng\n                  </Typography>\n                  <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                    {investment.expectedReturn}%\n                  </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Hiệu suất thực tế\n                  </Typography>\n                  <Typography\n                    variant=\"body1\"\n                    fontWeight=\"bold\"\n                    sx={{\n                      color: profitLoss.isProfit\n                        ? theme.palette.success.main\n                        : theme.palette.error.main,\n                      fontSize: '1rem',\n                      mt: 0.5,\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 0.5\n                    }}\n                  >\n                    {profitLoss.isProfit ? (\n                      <ArrowUpward fontSize=\"small\" sx={{ fontSize: '0.9rem' }} />\n                    ) : (\n                      <ArrowDownward fontSize=\"small\" sx={{ fontSize: '0.9rem' }} />\n                    )}\n                    {profitLoss.percentage}%\n                  </Typography>\n                </Grid>\n                {investment.type === 'crypto' && investment.quantity && (\n                  <>\n                    <Grid item xs={6}>\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                        Số lượng coin\n                      </Typography>\n                      <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                        {investment.quantity}\n                      </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                        Giá mua trung bình\n                      </Typography>\n                      <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '1rem', mt: 0.5 }}>\n                        {formatCurrency(averageBuyPrice || 0)}\n                      </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                        Giá hiện tại\n                      </Typography>\n                      <Typography \n                        variant=\"body1\" \n                        fontWeight=\"bold\" \n                        sx={{ \n                          fontSize: '1rem', \n                          mt: 0.5,\n                          color: (currentPrice || 0) > (averageBuyPrice || 0)\n                            ? theme.palette.success.main\n                            : theme.palette.error.main\n                        }}\n                      >\n                        {formatCurrency(currentPrice || 0)}\n                      </Typography>\n                    </Grid>\n                  </>\n                )}\n              </Grid>\n            </Paper>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Paper sx={{ \n              p: 3, \n              borderRadius: 3, \n              bgcolor: theme.palette.mode === 'dark' ? alpha('#2d3748', 0.5) : alpha('#f7fafc', 0.8),\n              borderLeft: `4px solid ${profitLoss.isProfit ? theme.palette.success.main : theme.palette.error.main}`\n            }}>\n              <Typography \n                variant=\"h6\" \n                fontWeight=\"bold\" \n                sx={{ \n                  mb: 2.5, \n                  fontSize: '1.2rem',\n                  color: profitLoss.isProfit ? theme.palette.success.main : theme.palette.error.main\n                }}\n              >\n                Hiệu suất đầu tư\n              </Typography>\n              <Divider sx={{ mb: 2.5 }} />\n              <Grid container spacing={2.5}>\n                <Grid item xs={6}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem' }}>\n                    Lợi nhuận/Lỗ\n                  </Typography>\n                  <Typography\n                    variant=\"body1\"\n                    fontWeight=\"bold\"\n                    sx={{\n                      color: profitLoss.isProfit\n                        ? theme.palette.success.main\n                        : theme.palette.error.main,\n                      fontSize: '1rem',\n                      mt: 0.5,\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 0.5\n                    }}\n                  >\n                    {profitLoss.isProfit ? (\n                      <ArrowUpward fontSize=\"small\" sx={{ fontSize: '0.9rem' }} />\n                    ) : (\n                      <ArrowDownward fontSize=\"small\" sx={{ fontSize: '0.9rem' }} />\n                    )}\n                    {profitLoss.isProfit ? '+' : '-'}\n                    {formatCurrency(Math.abs(profitLoss.amount))}\n                  </Typography>\n                </Grid>\n                <Grid item xs={12}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.9rem', mb: 1 }}>\n                    Biến động giá trị\n                  </Typography>\n                  <Box sx={{ height: 200 }}>\n                    {historyChartData.length > 1 ? (\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <LineChart data={historyChartData}>\n                          <XAxis \n                            dataKey=\"date\" \n                            tick={{ fontSize: 10 }} \n                            tickLine={false}\n                            axisLine={false}\n                          />\n                          <YAxis \n                            tickFormatter={(value) => formatCurrency(value).split('.')[0]} \n                            tick={{ fontSize: 10 }}\n                            tickLine={false}\n                            axisLine={false}\n                          />\n                          <Tooltip \n                            formatter={(value: number) => formatCurrency(value)}\n                            contentStyle={{ \n                              borderRadius: 8, \n                              border: 'none', \n                              boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                              padding: '10px 14px' \n                            }}\n                          />\n                          <Line \n                            type=\"monotone\" \n                            dataKey=\"amount\" \n                            stroke={theme.palette.primary.main} \n                            strokeWidth={2}\n                            dot={{ fill: theme.palette.background.paper, strokeWidth: 2, r: 4 }}\n                            activeDot={{ r: 6, fill: theme.palette.primary.main }}\n                          />\n                        </LineChart>\n                      </ResponsiveContainer>\n                    ) : (\n                      <Box sx={{ \n                        display: 'flex', \n                        alignItems: 'center', \n                        justifyContent: 'center', \n                        height: '100%',\n                        color: 'text.secondary'\n                      }}>\n                        <Typography variant=\"body2\">Chưa có lịch sử giao dịch</Typography>\n                      </Box>\n                    )}\n                  </Box>\n                </Grid>\n              </Grid>\n              {investment.notes && (\n                <Box sx={{ mt: 3 }}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1, fontSize: '0.9rem' }}>\n                    Ghi chú\n                  </Typography>\n                  <Paper\n                    sx={{\n                      p: 2,\n                      borderRadius: 2,\n                      bgcolor: theme.palette.mode === 'dark' ? alpha('#374151', 0.7) : alpha('#f1f5f9', 0.7),\n                    }}\n                  >\n                    <Typography variant=\"body2\" sx={{ fontSize: '0.9rem' }}>\n                      {investment.notes}\n                    </Typography>\n                  </Paper>\n                </Box>\n              )}\n            </Paper>\n          </Grid>\n          {investment.history.length > 0 && (\n            <Grid item xs={12}>\n              <Paper sx={{ \n                p: 3, \n                borderRadius: 3, \n                bgcolor: theme.palette.mode === 'dark' ? alpha('#2d3748', 0.5) : alpha('#f7fafc', 0.8),\n              }}>\n                <Typography \n                  variant=\"h6\" \n                  fontWeight=\"bold\" \n                  sx={{ \n                    mb: 2.5, \n                    fontSize: '1.2rem',\n                    color: theme.palette.info.main\n                  }}\n                >\n                  Lịch sử giao dịch\n                </Typography>\n                <Divider sx={{ mb: 2.5 }} />\n                <Box sx={{ maxHeight: 250, overflowY: 'auto', pr: 1 }}>\n                  {investment.history.map((item, index) => (\n                    <Box\n                      key={index}\n                      sx={{\n                        p: 2,\n                        mb: 2,\n                        borderRadius: 2,\n                        bgcolor: theme.palette.mode === 'dark' ? alpha('#1e2a38', 0.8) : alpha('#fff', 0.8),\n                        border: '1px solid',\n                        borderColor: \n                          item.type === 'deposit'\n                            ? alpha(theme.palette.info.main, 0.3)\n                            : item.type === 'withdraw'\n                            ? alpha(theme.palette.warning.main, 0.3)\n                            : item.type === 'profit'\n                            ? alpha(theme.palette.success.main, 0.3)\n                            : alpha(theme.palette.error.main, 0.3),\n                      }}\n                    >\n                      <Grid container spacing={2} alignItems=\"center\">\n                        <Grid item xs={3}>\n                          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.85rem' }}>\n                            Ngày\n                          </Typography>\n                          <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ fontSize: '0.95rem' }}>\n                            {new Date(item.date).toLocaleDateString('vi-VN')}\n                          </Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.85rem' }}>\n                            Loại\n                          </Typography>\n                          <Typography \n                            variant=\"body1\" \n                            fontWeight=\"bold\" \n                            sx={{ \n                              fontSize: '0.95rem',\n                              color:\n                                item.type === 'deposit'\n                                  ? theme.palette.info.main\n                                  : item.type === 'withdraw'\n                                  ? theme.palette.warning.main\n                                  : item.type === 'profit'\n                                  ? theme.palette.success.main\n                                  : theme.palette.error.main\n                            }}\n                          >\n                            {item.type === 'deposit'\n                              ? 'Nạp thêm'\n                              : item.type === 'withdraw'\n                              ? 'Rút tiền'\n                              : item.type === 'profit'\n                              ? 'Lợi nhuận'\n                              : 'Thua lỗ'}\n                          </Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.85rem' }}>\n                            Số tiền\n                          </Typography>\n                          <Typography \n                            variant=\"body1\" \n                            fontWeight=\"bold\" \n                            sx={{ \n                              fontSize: '0.95rem',\n                              color:\n                                item.type === 'deposit' || item.type === 'profit'\n                                  ? theme.palette.success.main\n                                  : theme.palette.error.main,\n                              display: 'flex',\n                              alignItems: 'center',\n                              gap: 0.5\n                            }}\n                          >\n                            {item.type === 'deposit' || item.type === 'profit' ? (\n                              <ArrowUpward sx={{ fontSize: '0.8rem' }} />\n                            ) : (\n                              <ArrowDownward sx={{ fontSize: '0.8rem' }} />\n                            )}\n                            {formatCurrency(item.amount)}\n                          </Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                          {item.reason && (\n                            <>\n                              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.85rem' }}>\n                                Lý do\n                              </Typography>\n                              <Typography variant=\"body1\" sx={{ fontSize: '0.95rem' }}>\n                                {item.reason}\n                              </Typography>\n                            </>\n                          )}\n                        </Grid>\n                      </Grid>\n                    </Box>\n                  ))}\n                </Box>\n              </Paper>\n            </Grid>\n          )}\n        </Grid>\n      </DialogContent>\n      <DialogActions sx={{ p: 2 }}>\n        <SecondaryButton onClick={onClose}>Đóng</SecondaryButton>\n        {investment && (\n          <GradientButton\n            startIcon={<Edit />}\n            onClick={() => {\n              onClose();\n              onEdit(investment);\n            }}\n          >\n            Chỉnh sửa\n          </GradientButton>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default InvestmentDetails; ","import {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  FormControl,\n  Grid,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  SelectChangeEvent,\n  TextField,\n  Typography,\n  styled,\n  useTheme\n} from '@mui/material';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Investment } from './InvestmentCard';\nimport { InvestmentType } from './InvestmentHeader';\n\nconst GradientButton = styled(Button)(({ theme }) => ({\n  borderRadius: '10px',\n  padding: '10px 24px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n  boxShadow: '0 4px 10px rgba(0, 118, 255, 0.2)',\n  color: '#fff',\n  '&:hover': {\n    boxShadow: '0 6px 14px rgba(0, 118, 255, 0.3)',\n    background: `linear-gradient(45deg, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n  },\n}));\n\nconst SecondaryButton = styled(Button)(({ theme }) => ({\n  borderRadius: '10px',\n  padding: '10px 24px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: theme.palette.mode === 'dark' ? '#2d3748' : '#f7fafc',\n  boxShadow: '0 2px 5px rgba(0,0,0,0.07)',\n  color: theme.palette.mode === 'dark' ? '#fff' : '#4a5568',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)'}`,\n  '&:hover': {\n    boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\n    background: theme.palette.mode === 'dark' ? '#374151' : '#edf2f7',\n  },\n}));\n\ninterface FormData {\n  name: string;\n  type: string;\n  initialAmount: string;\n  expectedReturn: string;\n  startDate: string;\n  endDate: string;\n  notes: string;\n  status: 'active' | 'completed' | 'cancelled';\n  quantity: string;\n}\n\ninterface FormErrors {\n  name: string;\n  type: string;\n  initialAmount: string;\n  quantity: string;\n}\n\ninterface InvestmentFormProps {\n  open: boolean;\n  onClose: () => void;\n  onSubmit: (data: FormData) => void;\n  selectedInvestment: Investment | null;\n  investmentTypes: InvestmentType[];\n  isLoading: boolean;\n}\n\nconst InvestmentForm: React.FC<InvestmentFormProps> = ({\n  open,\n  onClose,\n  onSubmit,\n  selectedInvestment,\n  investmentTypes,\n  isLoading\n}) => {\n  const theme = useTheme();\n  \n  const initialFormState: FormData = useMemo(() => ({\n    name: '',\n    type: '',\n    initialAmount: '',\n    expectedReturn: '',\n    startDate: new Date().toISOString().split('T')[0],\n    endDate: '',\n    notes: '',\n    status: 'active',\n    quantity: '',\n  }), []);\n\n  const [formData, setFormData] = useState<FormData>(initialFormState);\n  const [formErrors, setFormErrors] = useState<FormErrors>({\n    name: '',\n    type: '',\n    initialAmount: '',\n    quantity: '',\n  });\n\n  useEffect(() => {\n    if (selectedInvestment) {\n      setFormData({\n        name: selectedInvestment.name,\n        type: selectedInvestment.type,\n        initialAmount: selectedInvestment.initialAmount.toString(),\n        expectedReturn: selectedInvestment.expectedReturn.toString(),\n        startDate: selectedInvestment.startDate.split('T')[0],\n        endDate: selectedInvestment.endDate ? selectedInvestment.endDate.split('T')[0] : '',\n        notes: selectedInvestment.notes || '',\n        status: selectedInvestment.status,\n        quantity: selectedInvestment.quantity?.toString() || '',\n      });\n    } else {\n      setFormData(initialFormState);\n    }\n  }, [selectedInvestment, initialFormState]);\n\n  const validateForm = () => {\n    const errors = {\n      name: '',\n      type: '',\n      initialAmount: '',\n      quantity: '',\n    };\n    let isValid = true;\n\n    if (!formData.name) {\n      errors.name = 'Tên đầu tư là bắt buộc';\n      isValid = false;\n    }\n    if (!formData.type) {\n      errors.type = 'Loại đầu tư là bắt buộc';\n      isValid = false;\n    }\n    if (!formData.initialAmount || parseFloat(formData.initialAmount) <= 0) {\n      errors.initialAmount = 'Số tiền ban đầu phải lớn hơn 0';\n      isValid = false;\n    }\n    if (formData.type === 'crypto' && (!formData.quantity || parseFloat(formData.quantity) <= 0)) {\n      errors.quantity = 'Số lượng coin phải lớn hơn 0';\n      isValid = false;\n    }\n\n    setFormErrors(errors);\n    return isValid;\n  };\n\n  const handleSubmit = () => {\n    if (validateForm()) {\n      onSubmit(formData);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | { name?: string; value: unknown }> | SelectChangeEvent<unknown>) => {\n    const name = e.target.name;\n    const value = e.target.value as string;\n\n    if (name) {\n      setFormData((prev) => ({ ...prev, [name]: value }));\n    }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"sm\"\n      fullWidth\n      PaperProps={{ \n        sx: { \n          borderRadius: 3, \n          p: 2,\n          background: theme.palette.mode === 'dark' \n            ? 'linear-gradient(145deg, rgba(30,42,56,0.95) 0%, rgba(38,50,63,0.95) 100%)' \n            : 'linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)'\n        } \n      }}\n    >\n      <DialogTitle>\n        <Typography \n          component=\"div\" \n          variant=\"h5\" \n          fontWeight=\"bold\" \n          sx={{ \n            fontSize: '1.5rem',\n            background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent',\n            mb: 1\n          }}\n        >\n          {selectedInvestment ? 'Chỉnh sửa đầu tư' : 'Thêm đầu tư mới'}\n        </Typography>\n        <Divider sx={{ mt: 2 }} />\n      </DialogTitle>\n      <DialogContent>\n        <Grid container spacing={3} sx={{ mt: 0.5 }}>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Tên đầu tư\"\n              fullWidth\n              name=\"name\"\n              value={formData.name}\n              onChange={handleChange}\n              variant=\"outlined\"\n              error={!!formErrors.name}\n              helperText={formErrors.name}\n              sx={{ \n                '& .MuiInputBase-root': { \n                  fontSize: '0.95rem',\n                  borderRadius: '10px'\n                } \n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <FormControl fullWidth error={!!formErrors.type}>\n              <InputLabel sx={{ fontSize: '0.95rem' }}>Loại đầu tư</InputLabel>\n              <Select\n                name=\"type\"\n                value={formData.type}\n                onChange={handleChange}\n                label=\"Loại đầu tư\"\n                sx={{ \n                  '& .MuiSelect-select': { \n                    fontSize: '0.95rem' \n                  },\n                  borderRadius: '10px'\n                }}\n              >\n                {investmentTypes.map((type) => (\n                  <MenuItem key={type.value} value={type.value} sx={{ fontSize: '0.95rem' }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                      <Box sx={{ color: type.color }}>{type.icon}</Box>\n                      {type.label}\n                    </Box>\n                  </MenuItem>\n                ))}\n              </Select>\n              {formErrors.type && <Typography color=\"error\" sx={{ fontSize: '0.75rem', mt: 0.5 }}>{formErrors.type}</Typography>}\n            </FormControl>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <FormControl fullWidth>\n              <InputLabel sx={{ fontSize: '0.95rem' }}>Trạng thái</InputLabel>\n              <Select\n                name=\"status\"\n                value={formData.status}\n                onChange={handleChange}\n                label=\"Trạng thái\"\n                sx={{ \n                  '& .MuiSelect-select': { fontSize: '0.95rem' },\n                  borderRadius: '10px'\n                }}\n              >\n                <MenuItem value=\"active\" sx={{ fontSize: '0.95rem' }}>Đang hoạt động</MenuItem>\n                <MenuItem value=\"completed\" sx={{ fontSize: '0.95rem' }}>Đã hoàn thành</MenuItem>\n                <MenuItem value=\"cancelled\" sx={{ fontSize: '0.95rem' }}>Đã hủy</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              label=\"Số tiền ban đầu\"\n              fullWidth\n              type=\"number\"\n              name=\"initialAmount\"\n              value={formData.initialAmount}\n              onChange={handleChange}\n              variant=\"outlined\"\n              error={!!formErrors.initialAmount}\n              helperText={formErrors.initialAmount}\n              InputProps={{\n                startAdornment: <InputAdornment position=\"start\">₫</InputAdornment>,\n              }}\n              sx={{ \n                '& .MuiInputBase-root': { \n                  fontSize: '0.95rem',\n                  borderRadius: '10px' \n                } \n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              label=\"Lợi nhuận kỳ vọng (%)\"\n              fullWidth\n              type=\"number\"\n              name=\"expectedReturn\"\n              value={formData.expectedReturn}\n              onChange={handleChange}\n              variant=\"outlined\"\n              InputProps={{\n                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\n              }}\n              sx={{ \n                '& .MuiInputBase-root': { \n                  fontSize: '0.95rem',\n                  borderRadius: '10px'\n                } \n              }}\n            />\n          </Grid>\n          {formData.type === 'crypto' && (\n            <Grid item xs={12}>\n              <TextField\n                label=\"Số lượng coin\"\n                fullWidth\n                type=\"number\"\n                name=\"quantity\"\n                value={formData.quantity}\n                onChange={handleChange}\n                variant=\"outlined\"\n                error={!!formErrors.quantity}\n                helperText={formErrors.quantity}\n                sx={{ \n                  '& .MuiInputBase-root': { \n                    fontSize: '0.95rem',\n                    borderRadius: '10px'\n                  } \n                }}\n              />\n            </Grid>\n          )}\n          <Grid item xs={12} sm={6}>\n            <TextField\n              label=\"Ngày bắt đầu\"\n              fullWidth\n              type=\"date\"\n              name=\"startDate\"\n              value={formData.startDate}\n              onChange={handleChange}\n              variant=\"outlined\"\n              InputLabelProps={{ shrink: true }}\n              sx={{ \n                '& .MuiInputBase-root': { \n                  fontSize: '0.95rem',\n                  borderRadius: '10px'\n                } \n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              label=\"Ngày kết thúc (tùy chọn)\"\n              fullWidth\n              type=\"date\"\n              name=\"endDate\"\n              value={formData.endDate}\n              onChange={handleChange}\n              variant=\"outlined\"\n              InputLabelProps={{ shrink: true }}\n              sx={{ \n                '& .MuiInputBase-root': { \n                  fontSize: '0.95rem',\n                  borderRadius: '10px'\n                } \n              }}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Ghi chú (tùy chọn)\"\n              fullWidth\n              multiline\n              rows={3}\n              name=\"notes\"\n              value={formData.notes}\n              onChange={handleChange}\n              variant=\"outlined\"\n              sx={{ \n                '& .MuiInputBase-root': { \n                  fontSize: '0.95rem',\n                  borderRadius: '10px'\n                } \n              }}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions sx={{ p: 3, pt: 2 }}>\n        <SecondaryButton onClick={onClose}>Hủy</SecondaryButton>\n        <GradientButton onClick={handleSubmit} disabled={isLoading}>\n          {selectedInvestment ? 'Cập nhật' : 'Thêm mới'}\n        </GradientButton>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default InvestmentForm; ","import {\n    AccountBalance,\n    Add,\n    MoreVert,\n    SearchOutlined,\n    TrendingUp,\n} from '@mui/icons-material';\nimport {\n    Box,\n    Button,\n    Card,\n    FormControl,\n    Grid,\n    IconButton,\n    InputBase,\n    InputLabel,\n    ListItemIcon,\n    ListItemText,\n    Menu,\n    MenuItem,\n    Paper,\n    Select,\n    SelectChangeEvent,\n    styled,\n    Tooltip,\n    Typography\n} from '@mui/material';\nimport React, { useState } from 'react';\n\n// Styled components\nconst StyledCard = styled(Card)(({ theme }) => ({\n  borderRadius: '16px',\n  background: theme.palette.mode === 'dark' \n    ? 'linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)' \n    : 'linear-gradient(135deg, #fff 0%, #f7fafc 100%)',\n  boxShadow: theme.palette.mode === 'dark' \n    ? '0 8px 16px rgba(0,0,0,0.2)' \n    : '0 4px 20px rgba(0,0,0,0.05)',\n  padding: theme.spacing(2.5),\n  marginBottom: theme.spacing(2),\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n}));\n\nconst GradientButton = styled(Button)(({ theme }) => ({\n  borderRadius: '12px',\n  padding: '10px 24px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n  boxShadow: '0 4px 10px rgba(0, 118, 255, 0.15)',\n  color: '#fff',\n  border: '1px solid rgba(37, 99, 235, 0.1)',\n  '&:hover': {\n    boxShadow: '0 6px 14px rgba(0, 118, 255, 0.2)',\n    background: `linear-gradient(45deg, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n    transform: 'translateY(-2px)',\n  },\n}));\n\nconst SearchWrapper = styled(Paper)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  borderRadius: '12px',\n  paddingLeft: theme.spacing(2),\n  paddingRight: theme.spacing(1),\n  marginRight: theme.spacing(2),\n  backgroundColor: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(241, 245, 249, 0.8)',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    backgroundColor: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.08)' : 'rgba(226, 232, 240, 0.8)',\n    transform: 'translateY(-2px)',\n  },\n}));\n\n// Define investment type interface\nexport interface InvestmentType {\n  value: string;\n  label: string;\n  color: string;\n  icon: React.ReactNode;\n}\n\ninterface InvestmentHeaderProps {\n  onAddInvestment: () => void;\n  filterType: string;\n  onFilterChange: (type: string) => void;\n  sortOption: string;\n  onSortChange: (sort: string) => void;\n  onSearch?: (term: string) => void;\n  investmentTypes: InvestmentType[];\n}\n\nconst InvestmentHeader: React.FC<InvestmentHeaderProps> = ({\n  onAddInvestment,\n  filterType,\n  onFilterChange,\n  sortOption,\n  onSortChange,\n  onSearch,\n  investmentTypes\n}) => {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const handleMenuOpen = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleFilterChange = (event: SelectChangeEvent) => {\n    onFilterChange(event.target.value);\n  };\n\n  const handleSortChange = (event: SelectChangeEvent) => {\n    onSortChange(event.target.value);\n  };\n\n  const handleSearch = () => {\n    if (onSearch) {\n      onSearch(searchTerm);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && onSearch) {\n      onSearch(searchTerm);\n    }\n  };\n\n  return (\n    <StyledCard>\n      <Grid container spacing={2}>\n        <Grid item xs={12} md={5} lg={6}>\n          <Box>\n            <Typography \n              variant=\"h4\" \n              fontWeight=\"bold\" \n              sx={{ \n                mb: 1, \n                fontSize: { xs: '1.5rem', sm: '1.8rem', md: '2rem' },\n                background: `linear-gradient(45deg, #2563eb, #3b82f6)`,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                letterSpacing: '-0.02em',\n              }}\n            >\n              Quản Lý Đầu Tư\n            </Typography>\n            <Typography \n              variant=\"body1\" \n              sx={{ \n                fontSize: { xs: '0.9rem', sm: '0.95rem' },\n                color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                fontWeight: 500,\n              }}\n            >\n              Theo dõi và quản lý danh mục đầu tư của bạn một cách dễ dàng\n            </Typography>\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={7} lg={6}>\n          <Box sx={{ \n            display: 'flex', \n            flexDirection: { xs: 'column', sm: 'row' }, \n            gap: { xs: 1.5, sm: 1.5 }, \n            justifyContent: { sm: 'flex-end' },\n            alignItems: { xs: 'stretch', sm: 'center' },\n            height: '100%',\n            mt: { xs: 2, md: 0 }\n          }}>\n            {onSearch && (\n              <SearchWrapper sx={{ maxWidth: { xs: '100%', sm: '100%', md: 200 } }}>\n                <InputBase\n                  placeholder=\"Tìm kiếm đầu tư...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  fullWidth\n                  sx={{ \n                    fontSize: '0.95rem',\n                    color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#334155',\n                  }}\n                />\n                <IconButton \n                  type=\"button\" \n                  onClick={handleSearch}\n                  sx={{\n                    color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                  }}\n                >\n                  <SearchOutlined />\n                </IconButton>\n              </SearchWrapper>\n            )}\n            \n            <Box sx={{ \n              display: 'flex', \n              gap: { xs: 2, sm: 2 }, \n              flexDirection: { xs: 'column', sm: 'row' },\n              width: '100%',\n              flexWrap: { xs: 'nowrap', sm: 'wrap', md: 'nowrap' }\n            }}>\n              <FormControl \n                size=\"small\" \n                sx={{ \n                  minWidth: { xs: '100%', sm: 140 },\n                  '& .MuiOutlinedInput-root': {\n                    borderRadius: '12px',\n                    backgroundColor: (theme) => \n                      theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(241, 245, 249, 0.8)',\n                    border: (theme) => \n                      `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n                    transition: 'all 0.2s ease',\n                    '&:hover': {\n                      backgroundColor: (theme) => \n                        theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.08)' : 'rgba(226, 232, 240, 0.8)',\n                      transform: 'translateY(-2px)',\n                    },\n                  },\n                }}\n              >\n                <InputLabel sx={{ \n                  fontSize: '0.95rem',\n                  color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                }}>\n                  Loại đầu tư\n                </InputLabel>\n                <Select\n                  value={filterType}\n                  onChange={handleFilterChange}\n                  label=\"Loại đầu tư\"\n                  sx={{ '& .MuiSelect-select': { fontSize: '0.95rem' } }}\n                >\n                  <MenuItem value=\"all\" sx={{ fontSize: '0.95rem' }}>Tất cả</MenuItem>\n                  {investmentTypes.map((type) => (\n                    <MenuItem key={type.value} value={type.value} sx={{ fontSize: '0.95rem' }}>\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <Box sx={{ color: type.color }}>{type.icon}</Box>\n                        {type.label}\n                      </Box>\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n\n              <FormControl \n                size=\"small\" \n                sx={{ \n                  minWidth: { xs: '100%', sm: 140 },\n                  '& .MuiOutlinedInput-root': {\n                    borderRadius: '12px',\n                    backgroundColor: (theme) => \n                      theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(241, 245, 249, 0.8)',\n                    border: (theme) => \n                      `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n                    transition: 'all 0.2s ease',\n                    '&:hover': {\n                      backgroundColor: (theme) => \n                        theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.08)' : 'rgba(226, 232, 240, 0.8)',\n                      transform: 'translateY(-2px)',\n                    },\n                  },\n                }}\n              >\n                <InputLabel sx={{ \n                  fontSize: '0.95rem',\n                  color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                }}>\n                  Sắp xếp\n                </InputLabel>\n                <Select\n                  value={sortOption}\n                  onChange={handleSortChange}\n                  label=\"Sắp xếp\"\n                  sx={{ '& .MuiSelect-select': { fontSize: '0.95rem' } }}\n                >\n                  <MenuItem value=\"profitDesc\" sx={{ fontSize: '0.95rem' }}>Lợi nhuận (cao → thấp)</MenuItem>\n                  <MenuItem value=\"profitAsc\" sx={{ fontSize: '0.95rem' }}>Lợi nhuận (thấp → cao)</MenuItem>\n                  <MenuItem value=\"amountDesc\" sx={{ fontSize: '0.95rem' }}>Giá trị (cao → thấp)</MenuItem>\n                  <MenuItem value=\"amountAsc\" sx={{ fontSize: '0.95rem' }}>Giá trị (thấp → cao)</MenuItem>\n                  <MenuItem value=\"nameAsc\" sx={{ fontSize: '0.95rem' }}>Tên (A → Z)</MenuItem>\n                  <MenuItem value=\"nameDesc\" sx={{ fontSize: '0.95rem' }}>Tên (Z → A)</MenuItem>\n                </Select>\n              </FormControl>\n              \n              <Tooltip title=\"Thêm khoản đầu tư mới\" arrow>\n                <GradientButton \n                  startIcon={<Add />} \n                  onClick={onAddInvestment}\n                  sx={{ \n                    whiteSpace: 'nowrap',\n                    flex: { xs: '1', sm: '0 0 auto' } \n                  }}\n                >\n                  Thêm đầu tư\n                </GradientButton>\n              </Tooltip>\n              \n              <Tooltip title=\"Tùy chọn khác\" arrow>\n                <IconButton \n                  onClick={handleMenuOpen}\n                  sx={{ \n                    borderRadius: '12px', \n                    backgroundColor: (theme) => \n                      theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(241, 245, 249, 0.8)',\n                    border: (theme) => \n                      `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n                    transition: 'all 0.2s ease',\n                    '&:hover': {\n                      backgroundColor: (theme) => \n                        theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.08)' : 'rgba(226, 232, 240, 0.8)',\n                      transform: 'translateY(-2px)',\n                    },\n                    display: { xs: 'flex', sm: 'none' }\n                  }}\n                >\n                  <MoreVert />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n      \n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n        PaperProps={{\n          elevation: 3,\n          sx: {\n            borderRadius: '12px',\n            minWidth: 200,\n            p: 1,\n            border: (theme) => \n              `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n            boxShadow: '0 4px 20px rgba(0, 0, 0, 0.1)',\n          }\n        }}\n      >\n        <MenuItem onClick={onAddInvestment}>\n          <ListItemIcon>\n            <Add fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Thêm đầu tư mới\" />\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <TrendingUp fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Biểu đồ phân tích\" />\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <AccountBalance fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Xem giao dịch\" />\n        </MenuItem>\n      </Menu>\n    </StyledCard>\n  );\n};\n\nexport default InvestmentHeader; ","import {\n    ArrowDownward,\n    ArrowUpward,\n    AttachMoney,\n    Delete, Edit, MoreVert,\n    Visibility,\n} from '@mui/icons-material';\nimport {\n    alpha,\n    Avatar,\n    Box,\n    Card,\n    CardContent,\n    CardHeader,\n    Chip,\n    Divider,\n    Grid,\n    IconButton,\n    LinearProgress,\n    ListItemIcon,\n    Menu,\n    MenuItem,\n    styled,\n    Typography,\n    useTheme,\n} from '@mui/material';\nimport React, { useState } from 'react';\n\n// Styled Components\nconst StyledCard = styled(Card)(({ theme }) => ({\n  borderRadius: '16px',\n  background: theme.palette.mode === 'dark' \n    ? 'linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)' \n    : 'linear-gradient(135deg, #fff 0%, #f7fafc 100%)',\n  boxShadow: theme.palette.mode === 'dark' \n    ? '0 8px 16px rgba(0,0,0,0.2)' \n    : '0 4px 20px rgba(0,0,0,0.05)',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n  transition: 'all 0.2s ease',\n  height: '100%',\n  width: '100%',\n  position: 'relative',\n  overflow: 'visible',\n  marginLeft: 0,\n  '&:hover': {\n    transform: 'translateY(-5px)',\n    boxShadow: theme.palette.mode === 'dark' \n      ? '0 12px 24px rgba(0,0,0,0.3)' \n      : '0 12px 24px rgba(0,0,0,0.1)',\n  },\n}));\n\nconst SecondaryButton = styled(IconButton)(({ theme }) => ({\n  borderRadius: '12px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(241, 245, 249, 0.8)',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n  color: theme.palette.mode === 'dark' ? '#e2e8f0' : '#334155',\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    background: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.08)' : 'rgba(226, 232, 240, 0.8)',\n    transform: 'translateY(-2px)',\n  },\n}));\n\nconst GradientButton = styled(IconButton)(({ theme }) => ({\n  borderRadius: '12px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n  boxShadow: '0 4px 10px rgba(37, 99, 235, 0.15)',\n  border: '1px solid rgba(37, 99, 235, 0.1)',\n  color: '#fff',\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    boxShadow: '0 6px 14px rgba(37, 99, 235, 0.2)',\n    background: `linear-gradient(45deg, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n    transform: 'translateY(-2px)',\n  },\n}));\n\nexport interface Investment {\n  _id: string;\n  name: string;\n  type: string;\n  initialAmount: number;\n  currentAmount: number;\n  expectedReturn: number;\n  startDate: string;\n  endDate?: string;\n  status: 'active' | 'completed' | 'cancelled';\n  notes?: string;\n  quantity?: number;\n  history: {\n    date: string;\n    amount: number;\n    type: 'deposit' | 'withdraw' | 'profit' | 'loss';\n    reason?: string;\n  }[];\n}\n\ninterface InvestmentCardProps {\n  investment: Investment;\n  onViewDetails: (investment: Investment) => void;\n  onWithdraw: (investment: Investment) => void;\n  onEdit: (investment: Investment) => void;\n  onDelete: (id: string) => void;\n  formatCurrency: (amount: number) => string;\n  calculateProfitLoss: (investment: Investment) => { \n    amount: number;\n    percentage: string;\n    isProfit: boolean \n  };\n  getTypeDetails: (type: string) => { \n    value: string;\n    label: string;\n    color: string;\n    icon: React.ReactNode \n  };\n}\n\nexport const InvestmentCard: React.FC<InvestmentCardProps> = ({\n  investment,\n  onViewDetails,\n  onWithdraw,\n  onEdit,\n  onDelete,\n  formatCurrency,\n  calculateProfitLoss,\n  getTypeDetails\n}) => {\n  const theme = useTheme();\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  \n  const profitLoss = calculateProfitLoss(investment);\n  const typeInfo = getTypeDetails(investment.type);\n  const progress = (investment.currentAmount / (investment.initialAmount * (1 + investment.expectedReturn / 100))) * 100;\n  \n  const handleMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <StyledCard\n      sx={{\n        '&::before': {\n          content: '\"\"',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '6px',\n          background: `linear-gradient(45deg, ${typeInfo.color}, ${alpha(typeInfo.color, 0.6)})`,\n          borderRadius: '16px 16px 0 0',\n        }\n      }}\n    >\n      <CardHeader\n        avatar={\n          <Avatar \n            sx={{ \n              bgcolor: alpha(typeInfo.color, 0.15), \n              color: typeInfo.color,\n              width: { xs: 36, sm: 40 },\n              height: { xs: 36, sm: 40 },\n              border: `2px solid ${typeInfo.color}`,\n              boxShadow: `0 0 0 4px ${alpha(typeInfo.color, 0.1)}`,\n              transition: 'all 0.2s ease',\n              '&:hover': {\n                transform: 'scale(1.05)',\n              },\n            }}\n          >\n            {typeInfo.icon}\n          </Avatar>\n        }\n        title={\n          <Typography \n            variant=\"h6\" \n            sx={{ \n              fontWeight: 600,\n              fontSize: { xs: '1.1rem', sm: '1.2rem' },\n              color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n            }}\n          >\n            {investment.name}\n          </Typography>\n        }\n        action={\n          <IconButton \n            onClick={handleMenuOpen}\n            sx={{\n              color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              '&:hover': {\n                color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n              },\n            }}\n          >\n            <MoreVert />\n          </IconButton>\n        }\n        subheader={\n          <Box sx={{ display: 'flex', gap: 1, mt: 0.8, flexWrap: 'wrap' }}>\n            <Chip\n              size=\"small\"\n              label={typeInfo.label}\n              sx={{\n                bgcolor: alpha(typeInfo.color, 0.1),\n                color: typeInfo.color,\n                fontWeight: 600,\n                fontSize: '0.8rem',\n                borderRadius: '8px',\n                height: '26px',\n                border: `1px solid ${alpha(typeInfo.color, 0.2)}`,\n              }}\n            />\n            <Chip\n              size=\"small\"\n              label={\n                investment.status === 'active'\n                  ? 'Đang hoạt động'\n                  : investment.status === 'completed'\n                  ? 'Hoàn thành'\n                  : 'Đã hủy'\n              }\n              sx={{\n                bgcolor:\n                  investment.status === 'active'\n                    ? alpha(theme.palette.success.main, 0.1)\n                    : investment.status === 'completed'\n                    ? alpha(theme.palette.info.main, 0.1)\n                    : alpha(theme.palette.error.main, 0.1),\n                color:\n                  investment.status === 'active'\n                    ? theme.palette.success.main\n                    : investment.status === 'completed'\n                    ? theme.palette.info.main\n                    : theme.palette.error.main,\n                fontWeight: 600,\n                fontSize: '0.8rem',\n                borderRadius: '8px',\n                height: '26px',\n                border: `1px solid ${alpha(\n                  investment.status === 'active'\n                    ? theme.palette.success.main\n                    : investment.status === 'completed'\n                    ? theme.palette.info.main\n                    : theme.palette.error.main,\n                  0.2\n                )}`,\n              }}\n            />\n          </Box>\n        }\n        sx={{ pb: 0.5, px: 2 }}\n      />\n      <CardContent sx={{ pt: 1, px: 2, pb: 2 }}>\n        <Box \n          sx={{ \n            mb: 2, \n            fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n            display: 'flex', \n            gap: 1, \n            alignItems: 'center',\n            flexWrap: { xs: 'wrap', sm: 'nowrap' },\n            color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n          }}\n        >\n          <Box component=\"span\" sx={{ \n            display: 'inline-flex', \n            alignItems: 'center', \n            justifyContent: 'center',\n            borderRadius: '50%',\n            width: 20,\n            height: 20,\n            bgcolor: (theme) => alpha(theme.palette.primary.main, 0.1),\n            color: (theme) => theme.palette.primary.main,\n            border: (theme) => `1px solid ${alpha(theme.palette.primary.main, 0.2)}`,\n            flexShrink: 0\n          }}>\n            <Box sx={{ width: 16, height: 16 }}>\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z\" />\n              </svg>\n            </Box>\n          </Box>\n          <Box component=\"span\">\n            Bắt đầu: {new Date(investment.startDate).toLocaleDateString('vi-VN')}\n            {investment.endDate &&\n              ` | Kết thúc: ${new Date(investment.endDate).toLocaleDateString('vi-VN')}`}\n          </Box>\n        </Box>\n\n        <Box sx={{ mb: 2.5 }}>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 0.5 }}>\n            <Typography \n              variant=\"body2\" \n              sx={{ \n                fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n                fontWeight: 500,\n                color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              }}\n            >\n              Tiến độ đầu tư\n            </Typography>\n            <Typography \n              variant=\"body2\" \n              sx={{ \n                fontSize: { xs: '0.8rem', sm: '0.85rem' }, \n                fontWeight: 600,\n                color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n              }}\n            >\n              {Math.min(progress, 100).toFixed(0)}%\n            </Typography>\n          </Box>\n          <LinearProgress\n            variant=\"determinate\"\n            value={Math.min(progress, 100)}\n            sx={{\n              height: 8,\n              borderRadius: 4,\n              bgcolor: (theme) => theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(241, 245, 249, 0.8)',\n              border: (theme) => `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n              '& .MuiLinearProgress-bar': {\n                bgcolor: profitLoss.isProfit ? theme.palette.success.main : theme.palette.error.main,\n                borderRadius: 4,\n                transition: 'transform 0.4s linear',\n              },\n            }}\n          />\n        </Box>\n\n        <Grid container spacing={2}>\n          <Grid item xs={6}>\n            <Typography \n              variant=\"body2\" \n              sx={{ \n                fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n                fontWeight: 500,\n                color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              }}\n            >\n              Số tiền ban đầu\n            </Typography>\n            <Typography \n              variant=\"body1\" \n              sx={{ \n                fontSize: { xs: '0.9rem', sm: '1rem' }, \n                mt: 0.5,\n                fontWeight: 600,\n                color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n              }}\n            >\n              {formatCurrency(investment.initialAmount)}\n            </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography \n              variant=\"body2\" \n              sx={{ \n                fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n                fontWeight: 500,\n                color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              }}\n            >\n              Giá trị hiện tại\n            </Typography>\n            <Typography \n              variant=\"body1\" \n              sx={{ \n                fontSize: { xs: '0.9rem', sm: '1rem' }, \n                mt: 0.5,\n                fontWeight: 600,\n                color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n              }}\n            >\n              {formatCurrency(investment.currentAmount)}\n            </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography \n              variant=\"body2\" \n              sx={{ \n                fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n                fontWeight: 500,\n                color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              }}\n            >\n              Lợi nhuận/Lỗ\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              sx={{\n                color: profitLoss.isProfit ? theme.palette.success.main : theme.palette.error.main,\n                fontSize: { xs: '0.9rem', sm: '1rem' },\n                display: 'flex',\n                alignItems: 'center',\n                gap: { xs: 0.5, sm: 1 },\n                mt: 0.5,\n                flexWrap: 'wrap',\n                fontWeight: 600,\n              }}\n            >\n              {profitLoss.isProfit ? (\n                <ArrowUpward fontSize=\"small\" sx={{ fontSize: { xs: '0.9rem', sm: '1rem' } }} />\n              ) : (\n                <ArrowDownward fontSize=\"small\" sx={{ fontSize: { xs: '0.9rem', sm: '1rem' } }} />\n              )}\n              <span>{profitLoss.isProfit ? '+' : '-'}{formatCurrency(Math.abs(profitLoss.amount))}</span>\n              <Typography\n                component=\"span\"\n                sx={{\n                  fontSize: { xs: '0.7rem', sm: '0.75rem' },\n                  bgcolor: alpha(\n                    profitLoss.isProfit ? theme.palette.success.main : theme.palette.error.main,\n                    0.15\n                  ),\n                  px: 0.75,\n                  py: 0.25,\n                  borderRadius: '6px',\n                  fontWeight: 600,\n                  ml: { xs: 0, sm: 0.5 },\n                  mt: { xs: 0.5, sm: 0 },\n                  border: `1px solid ${alpha(\n                    profitLoss.isProfit ? theme.palette.success.main : theme.palette.error.main,\n                    0.2\n                  )}`,\n                }}\n              >\n                {profitLoss.isProfit ? '+' : '-'}{Math.abs(parseFloat(profitLoss.percentage))}%\n              </Typography>\n            </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography \n              variant=\"body2\" \n              sx={{ \n                fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n                fontWeight: 500,\n                color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              }}\n            >\n              Lợi nhuận kỳ vọng\n            </Typography>\n            <Typography \n              variant=\"body1\" \n              sx={{ \n                fontSize: { xs: '0.9rem', sm: '1rem' }, \n                mt: 0.5,\n                fontWeight: 600,\n                color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n              }}\n            >\n              {investment.expectedReturn}%\n            </Typography>\n          </Grid>\n          {investment.type === 'crypto' && investment.quantity && (\n            <>\n              <Grid item xs={6}>\n                <Typography \n                  variant=\"body2\" \n                  sx={{ \n                    fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n                    fontWeight: 500,\n                    color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                  }}\n                >\n                  Số lượng coin\n                </Typography>\n                <Typography \n                  variant=\"body1\" \n                  sx={{ \n                    fontSize: { xs: '0.9rem', sm: '1rem' }, \n                    mt: 0.5,\n                    fontWeight: 600,\n                    color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n                  }}\n                >\n                  {investment.quantity}\n                </Typography>\n              </Grid>\n              <Grid item xs={6}>\n                <Typography \n                  variant=\"body2\" \n                  sx={{ \n                    fontSize: { xs: '0.85rem', sm: '0.9rem' }, \n                    fontWeight: 500,\n                    color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                  }}\n                >\n                  Giá mua TB\n                </Typography>\n                <Typography \n                  variant=\"body1\" \n                  sx={{ \n                    fontSize: { xs: '0.9rem', sm: '1rem' }, \n                    mt: 0.5,\n                    fontWeight: 600,\n                    color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n                  }}\n                >\n                  {formatCurrency((investment.initialAmount / investment.quantity) || 0)}\n                </Typography>\n              </Grid>\n            </>\n          )}\n        </Grid>\n\n        <Box sx={{ mt: 2, display: 'flex', gap: 1.5, justifyContent: 'flex-end' }}>\n          <SecondaryButton\n            size=\"small\"\n            onClick={() => onViewDetails(investment)}\n          >\n            <Visibility sx={{ fontSize: { xs: '1rem', sm: '1.1rem' } }} />\n          </SecondaryButton>\n          <GradientButton\n            size=\"small\"\n            onClick={() => onWithdraw(investment)}\n          >\n            <AttachMoney sx={{ fontSize: { xs: '1rem', sm: '1.1rem' } }} />\n          </GradientButton>\n        </Box>\n      </CardContent>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n        PaperProps={{\n          elevation: 3,\n          sx: {\n            borderRadius: '12px',\n            minWidth: 200,\n            p: 1,\n            border: (theme) => \n              `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n            boxShadow: '0 4px 20px rgba(0, 0, 0, 0.1)',\n          }\n        }}\n      >\n        <MenuItem\n          onClick={() => {\n            onEdit(investment);\n            handleMenuClose();\n          }}\n          sx={{\n            borderRadius: '8px',\n            '&:hover': {\n              bgcolor: (theme) => \n                theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(241, 245, 249, 0.8)',\n            },\n          }}\n        >\n          <ListItemIcon>\n            <Edit fontSize=\"small\" />\n          </ListItemIcon>\n          Chỉnh sửa\n        </MenuItem>\n        <Divider sx={{ my: 1 }} />\n        <MenuItem\n          onClick={() => {\n            onDelete(investment._id);\n            handleMenuClose();\n          }}\n          sx={{\n            borderRadius: '8px',\n            color: 'error.main',\n            '&:hover': {\n              bgcolor: (theme) => alpha(theme.palette.error.main, 0.1),\n            },\n          }}\n        >\n          <ListItemIcon>\n            <Delete fontSize=\"small\" color=\"error\" />\n          </ListItemIcon>\n          <Typography color=\"error\">Xóa</Typography>\n        </MenuItem>\n      </Menu>\n    </StyledCard>\n  );\n};\n\nexport default InvestmentCard; ","import { TrendingUp } from '@mui/icons-material';\nimport { Box, Card, Grid, styled, Typography } from '@mui/material';\nimport React from 'react';\nimport InvestmentCard, { Investment } from './InvestmentCard';\n\nconst EmptyStateCard = styled(Card)(({ theme }) => ({\n  padding: theme.spacing(8),\n  borderRadius: '16px',\n  textAlign: 'center',\n  background: theme.palette.mode === 'dark' \n    ? 'linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)' \n    : 'linear-gradient(135deg, #fff 0%, #f7fafc 100%)',\n  boxShadow: theme.palette.mode === 'dark' \n    ? '0 8px 16px rgba(0,0,0,0.2)' \n    : '0 4px 20px rgba(0,0,0,0.05)',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n  width: '100%',\n  maxWidth: 600,\n  margin: '0 auto',\n}));\n\ninterface InvestmentListProps {\n  investments: Investment[];\n  filteredInvestments: Investment[];\n  filterType: string;\n  onViewDetails: (investment: Investment) => void;\n  onWithdraw: (investment: Investment) => void;\n  onEdit: (investment: Investment) => void;\n  onDelete: (id: string) => void;\n  onAddInvestment: () => void;\n  formatCurrency: (amount: number) => string;\n  calculateProfitLoss: (investment: Investment) => { \n    amount: number;\n    percentage: string;\n    isProfit: boolean \n  };\n  getTypeDetails: (type: string) => { \n    value: string;\n    label: string;\n    color: string;\n    icon: React.ReactNode \n  };\n}\n\nconst InvestmentList: React.FC<InvestmentListProps> = ({\n  investments,\n  filteredInvestments,\n  filterType,\n  onViewDetails,\n  onWithdraw,\n  onEdit,\n  onDelete,\n  onAddInvestment,\n  formatCurrency,\n  calculateProfitLoss,\n  getTypeDetails\n}) => {\n  if (investments.length === 0) {\n    return (\n      <EmptyStateCard>\n        <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 2 }}>\n          <Box\n            sx={{\n              width: 80,\n              height: 80,\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              background: (theme) => `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n              color: 'white',\n              mb: 2,\n              boxShadow: '0 8px 16px rgba(37, 99, 235, 0.2)',\n              border: '4px solid rgba(255, 255, 255, 0.1)',\n            }}\n          >\n            <TrendingUp sx={{ fontSize: 36 }} />\n          </Box>\n          <Typography \n            variant=\"h6\" \n            sx={{ \n              mb: 2, \n              fontSize: '1.25rem',\n              fontWeight: 600,\n              color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n            }}\n          >\n            Chưa có khoản đầu tư nào\n          </Typography>\n          <Typography \n            variant=\"body2\" \n            sx={{ \n              mb: 3, \n              fontSize: '0.95rem',\n              color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              maxWidth: '80%',\n              textAlign: 'center',\n              lineHeight: 1.6,\n            }}\n          >\n            Hãy thêm khoản đầu tư mới để bắt đầu theo dõi!\n          </Typography>\n          <Box\n            component=\"button\"\n            onClick={onAddInvestment}\n            sx={{\n              bgcolor: 'primary.main',\n              color: 'white',\n              border: '1px solid rgba(37, 99, 235, 0.1)',\n              borderRadius: '12px',\n              px: 4,\n              py: 1.5,\n              fontSize: '0.95rem',\n              fontWeight: 600,\n              cursor: 'pointer',\n              background: (theme) => `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n              boxShadow: '0 4px 10px rgba(37, 99, 235, 0.15)',\n              transition: 'all 0.2s ease',\n              '&:hover': {\n                transform: 'translateY(-2px)',\n                boxShadow: '0 6px 14px rgba(37, 99, 235, 0.2)',\n              },\n            }}\n          >\n            Thêm đầu tư mới\n          </Box>\n        </Box>\n      </EmptyStateCard>\n    );\n  }\n\n  if (filterType !== 'all' && filteredInvestments.length === 0) {\n    return (\n      <EmptyStateCard>\n        <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 2 }}>\n          <Box\n            sx={{\n              width: 80,\n              height: 80,\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              background: (theme) => `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n              color: 'white',\n              mb: 2,\n              boxShadow: '0 8px 16px rgba(37, 99, 235, 0.2)',\n              border: '4px solid rgba(255, 255, 255, 0.1)',\n            }}\n          >\n            <TrendingUp sx={{ fontSize: 36 }} />\n          </Box>\n          <Typography \n            variant=\"h6\" \n            sx={{ \n              mb: 2, \n              fontSize: '1.25rem',\n              fontWeight: 600,\n              color: (theme) => theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n            }}\n          >\n            Không tìm thấy khoản đầu tư nào\n          </Typography>\n          <Typography \n            variant=\"body2\" \n            sx={{ \n              mb: 3, \n              fontSize: '0.95rem',\n              color: (theme) => theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n              maxWidth: '80%',\n              textAlign: 'center',\n              lineHeight: 1.6,\n            }}\n          >\n            Không có khoản đầu tư nào thuộc loại {getTypeDetails(filterType).label}\n          </Typography>\n        </Box>\n      </EmptyStateCard>\n    );\n  }\n\n  return (\n    <Grid container spacing={2}>\n      {filteredInvestments.map((investment) => (\n        <Grid item xs={12} sm={6} md={4} lg={3} key={investment._id}>\n          <InvestmentCard\n            investment={investment}\n            onViewDetails={onViewDetails}\n            onWithdraw={onWithdraw}\n            onEdit={onEdit}\n            onDelete={onDelete}\n            formatCurrency={formatCurrency}\n            calculateProfitLoss={calculateProfitLoss}\n            getTypeDetails={getTypeDetails}\n          />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default InvestmentList; ","import { AccountBalance, TrendingUp } from '@mui/icons-material';\nimport { Box, Tab, Tabs, styled } from '@mui/material';\nimport React from 'react';\n\nconst StyledTabs = styled(Tabs)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === 'dark' \n    ? 'linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)' \n    : 'linear-gradient(135deg, #fff 0%, #f7fafc 100%)',\n  borderRadius: '16px',\n  boxShadow: theme.palette.mode === 'dark' \n    ? '0 8px 16px rgba(0,0,0,0.2)' \n    : '0 4px 20px rgba(0,0,0,0.05)',\n  border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n  padding: theme.spacing(1),\n  '& .MuiTabs-indicator': {\n    height: 4,\n    borderRadius: '4px 4px 0 0',\n    background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n  },\n  '& .MuiTab-root': {\n    color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n    transition: 'all 0.2s ease',\n    '&:hover': {\n      color: theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n    },\n    '&.Mui-selected': {\n      color: theme.palette.primary.main,\n      fontWeight: 600,\n    },\n  },\n}));\n\nconst StyledTab = styled(Tab)(({ theme }) => ({\n  textTransform: 'none',\n  fontWeight: 500,\n  fontSize: '1rem',\n  padding: theme.spacing(2),\n  borderRadius: '12px',\n  minHeight: 'unset',\n  '& .MuiSvgIcon-root': {\n    marginBottom: '4px',\n    marginRight: '8px',\n    transition: 'all 0.2s ease',\n  },\n  '&:hover': {\n    backgroundColor: theme.palette.mode === 'dark' \n      ? 'rgba(255,255,255,0.05)' \n      : 'rgba(241, 245, 249, 0.8)',\n    transform: 'translateY(-2px)',\n    '& .MuiSvgIcon-root': {\n      transform: 'scale(1.1)',\n    },\n  },\n  '&.Mui-selected': {\n    backgroundColor: theme.palette.mode === 'dark' \n      ? 'rgba(219, 234, 254, 0.1)' \n      : 'rgba(219, 234, 254, 0.5)',\n    border: `1px solid ${theme.palette.mode === 'dark' \n      ? 'rgba(37, 99, 235, 0.2)' \n      : 'rgba(37, 99, 235, 0.1)'}`,\n  },\n  [theme.breakpoints.down('sm')]: {\n    fontSize: '0.9rem',\n    padding: theme.spacing(1.5),\n    '& .MuiSvgIcon-root': {\n      fontSize: '1.2rem',\n    }\n  }\n}));\n\ninterface InvestmentTabsProps {\n  activeTab: number;\n  onTabChange: (event: React.SyntheticEvent, newValue: number) => void;\n}\n\nconst InvestmentTabs: React.FC<InvestmentTabsProps> = ({ activeTab, onTabChange }) => {\n  // const theme = useTheme(); // Removed unused theme variable\n\n  return (\n    <Box mb={3} sx={{ width: '100%' }}>\n      <StyledTabs\n        value={activeTab}\n        onChange={onTabChange}\n        variant=\"fullWidth\"\n        aria-label=\"Tabs quản lý đầu tư\"\n      >\n        <StyledTab\n          icon={<AccountBalance sx={{ fontSize: { xs: '1.2rem', sm: '1.4rem' } }} />}\n          iconPosition=\"start\"\n          label=\"Danh mục đầu tư\"\n          id=\"investment-tab-0\"\n          aria-controls=\"investment-tabpanel-0\"\n        />\n        <StyledTab\n          icon={<TrendingUp sx={{ fontSize: { xs: '1.2rem', sm: '1.4rem' } }} />}\n          iconPosition=\"start\"\n          label=\"Phân tích\"\n          id=\"investment-tab-1\"\n          aria-controls=\"investment-tabpanel-1\"\n        />\n      </StyledTabs>\n    </Box>\n  );\n};\n\nexport default InvestmentTabs; ","import {\n    AttachMoney,\n    CalendarToday,\n    Delete,\n    Description,\n    MonetizationOn,\n} from '@mui/icons-material';\nimport {\n    Alert,\n    alpha,\n    Avatar,\n    Box,\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    FormControl,\n    InputAdornment,\n    InputLabel,\n    OutlinedInput,\n    Snackbar,\n    styled,\n    TextField,\n    Typography,\n    useTheme\n} from '@mui/material';\nimport { Theme, ThemeProvider } from '@mui/material/styles';\nimport axios from 'axios';\nimport { lazy, Suspense, useCallback, useEffect, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { Investment } from '../../components/investments/InvestmentCard';\nimport InvestmentDetails from '../../components/investments/InvestmentDetails';\nimport InvestmentForm from '../../components/investments/InvestmentForm';\nimport InvestmentHeader, { InvestmentType } from '../../components/investments/InvestmentHeader';\nimport InvestmentList from '../../components/investments/InvestmentList';\nimport InvestmentTabs from '../../components/investments/InvestmentTabs';\nimport { RootState } from '../../redux/store';\n\n// Lazy load analytics component to improve initial load performance\nconst InvestmentAnalytics = lazy(() => import('../../components/investments/InvestmentAnalytics'));\n\n// Animation styles\nconst FadeIn = styled(Box)(({ theme }) => ({\n  animation: 'fadeIn 0.5s ease-in-out',\n  '@keyframes fadeIn': {\n    from: { opacity: 0, transform: 'translateY(20px)' },\n    to: { opacity: 1, transform: 'translateY(0)' }\n  }\n}));\n\nconst ScaleIn = styled(Box)(({ theme }) => ({\n  animation: 'scaleIn 0.4s ease-out',\n  '@keyframes scaleIn': {\n    from: { opacity: 0, transform: 'scale(0.9)' },\n    to: { opacity: 1, transform: 'scale(1)' }\n  }\n}));\n\nconst SlideIn = styled(Box)(({ theme }) => ({\n  animation: 'slideIn 0.5s ease-out',\n  '@keyframes slideIn': {\n    from: { opacity: 0, transform: 'translateX(-20px)' },\n    to: { opacity: 1, transform: 'translateX(0)' }\n  }\n}));\n\n// Premium feature card\nconst StyledCard = styled(Box)(({ theme }: { theme: Theme }) => ({\n  borderRadius: '12px',\n  background: theme.palette.mode === 'dark' ? '#1e2a38' : '#fff',\n  boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n  transition: 'transform 0.3s ease, box-shadow 0.3s ease',\n  padding: theme.spacing(4, 5),\n  textAlign: 'center',\n  maxWidth: 600,\n  margin: '0 auto',\n  '&:hover': {\n    transform: 'translateY(-5px)',\n    boxShadow: '0 12px 20px rgba(0,0,0,0.12)',\n  },\n}));\n\nconst GradientButton = styled(Button)(({ theme }: { theme: Theme }) => ({\n  borderRadius: '10px',\n  padding: '10px 24px',\n  textTransform: 'none',\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n  boxShadow: '0 4px 10px rgba(0, 118, 255, 0.2)',\n  color: '#fff',\n  '&:hover': {\n    boxShadow: '0 6px 14px rgba(0, 118, 255, 0.3)',\n    background: `linear-gradient(45deg, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n  },\n}));\n\ninterface WithdrawalData {\n  amount: string;\n  reason: string;\n  date: string;\n}\n\n// Investment type definitions\nconst INVESTMENT_TYPES: InvestmentType[] = [\n  { value: 'stock', label: 'Cổ phiếu', color: '#4caf50', icon: <span>📈</span> },\n  { value: 'crypto', label: 'Tiền điện tử', color: '#ff9800', icon: <span>₿</span> },\n  { value: 'realestate', label: 'Bất động sản', color: '#2196f3', icon: <span>🏢</span> },\n  { value: 'bonds', label: 'Trái phiếu', color: '#9c27b0', icon: <span>📊</span> },\n  { value: 'savings', label: 'Tiết kiệm', color: '#00bcd4', icon: <span>💰</span> },\n  { value: 'other', label: 'Khác', color: '#f44336', icon: <span>💼</span> },\n];\n\n// Thêm interface cho Category\ninterface Category {\n  _id: string;\n  name: string;\n  type: string;\n  icon: string;\n  color: string;\n  description?: string;\n}\n\n// Thêm hàm lấy giá tiền điện tử với retry và delay\nconst getCryptoPrice = async (cryptoId: string, retryCount = 3, delayMs = 2000): Promise<number> => {\n  for (let i = 0; i < retryCount; i++) {\n    try {\n      const response = await axios.get(\n        `https://api.coingecko.com/api/v3/simple/price?ids=${cryptoId}&vs_currencies=vnd`\n      );\n      return response.data[cryptoId].vnd;\n    } catch (error: any) {\n      if (error.response?.status === 429) {\n        // Rate limit hit, wait and retry\n        await new Promise(resolve => setTimeout(resolve, delayMs));\n        continue;\n      }\n      throw error;\n    }\n  }\n  throw new Error('Không thể lấy giá tiền điện tử sau nhiều lần thử');\n};\n\nconst Investments = () => {\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const { plan, loading: subscriptionLoading, error: subscriptionError } = useSelector((state: RootState) => state.subscription);\n\n  // State\n  const [investments, setInvestments] = useState<Investment[]>([]);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [openDetailsDialog, setOpenDetailsDialog] = useState(false);\n  const [openWithdrawDialog, setOpenWithdrawDialog] = useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [selectedInvestment, setSelectedInvestment] = useState<Investment | null>(null);\n  const [withdrawalData, setWithdrawalData] = useState<WithdrawalData>({\n    amount: '',\n    reason: '',\n    date: new Date().toISOString().split('T')[0],\n  });\n  const [withdrawalError, setWithdrawalError] = useState('');\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success' as 'success' | 'error',\n  });\n  const [activeTab, setActiveTab] = useState(0);\n  const [filterType, setFilterType] = useState<string>('all');\n  const [sortOption, setSortOption] = useState<string>('profitDesc');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [categories, setCategories] = useState<any[]>([]);\n  \n  // Fetch investments from API\n  const fetchInvestments = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:5000/api/investments', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setInvestments(response.data);\n    } catch (error: any) {\n      console.error('❌ Lỗi khi lấy danh sách đầu tư:', error.response?.data || error.message);\n      showSnackbar('Không thể tải danh sách đầu tư', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Load investments when component mounts\n  useEffect(() => {\n    fetchInvestments();\n  }, [fetchInvestments]);\n\n  // Fetch categories\n  const fetchCategories = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:5000/api/categories', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setCategories(response.data);\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy danh mục:', error);\n    }\n  }, []);\n\n  // Load categories when component mounts\n  useEffect(() => {\n    fetchCategories();\n  }, [fetchCategories]);\n\n  // Filter and sort investments\n  const filteredInvestments = useMemo(() => {\n    // First apply type filter\n    let filtered = [...investments];\n    if (filterType !== 'all') {\n      filtered = filtered.filter((investment) => investment.type === filterType);\n    }\n    \n    // Apply search term filter if present\n    if (searchTerm.trim()) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter((inv) => \n        inv.name.toLowerCase().includes(term) || \n        getTypeDetails(inv.type).label.toLowerCase().includes(term)\n      );\n    }\n    \n    // Apply sorting\n    switch (sortOption) {\n      case 'profitDesc':\n        filtered.sort((a, b) => b.currentAmount - b.initialAmount - (a.currentAmount - a.initialAmount));\n        break;\n      case 'profitAsc':\n        filtered.sort((a, b) => a.currentAmount - a.initialAmount - (b.currentAmount - b.initialAmount));\n        break;\n      case 'amountDesc':\n        filtered.sort((a, b) => b.currentAmount - a.currentAmount);\n        break;\n      case 'amountAsc':\n        filtered.sort((a, b) => a.currentAmount - b.currentAmount);\n        break;\n      case 'nameAsc':\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'nameDesc':\n        filtered.sort((a, b) => b.name.localeCompare(a.name));\n        break;\n      default:\n        break;\n    }\n    return filtered;\n  }, [investments, filterType, sortOption, searchTerm]);\n\n  // Form submission\n  const handleSubmit = async (formData: any) => {\n    setIsLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n\n      // Tìm category đầu tư chi phí\n      let investmentExpenseCategory = categories.find(cat => \n        (cat.name.toLowerCase().includes('đầu tư') || cat.name.toLowerCase().includes('investment')) &&\n        cat.type === 'expense'\n      );\n\n      // Nếu không tìm thấy category chi phí, tạo mới\n      if (!investmentExpenseCategory) {\n        try {\n          const newExpenseCategory = {\n            name: 'Chi phí đầu tư',\n            type: 'expense',\n            icon: '📈',\n            color: '#f44336',\n            description: 'Danh mục cho các khoản chi đầu tư'\n          };\n\n          const categoryResponse = await axios.post(\n            'http://localhost:5000/api/categories',\n            newExpenseCategory,\n            {\n              headers: { Authorization: `Bearer ${token}` },\n            }\n          );\n          investmentExpenseCategory = categoryResponse.data;\n        } catch (error) {\n          console.error('❌ Lỗi khi thêm danh mục chi phí đầu tư:', error);\n          throw new Error('Không thể tạo danh mục chi phí đầu tư');\n        }\n      }\n\n      const data = {\n        name: formData.name,\n        type: formData.type,\n        initialAmount: parseFloat(formData.initialAmount),\n        currentAmount: parseFloat(formData.initialAmount),\n        expectedReturn: parseFloat(formData.expectedReturn) || 0,\n        startDate: formData.startDate,\n        endDate: formData.endDate || undefined,\n        notes: formData.notes || undefined,\n        status: formData.status,\n        quantity: formData.type === 'crypto' ? parseFloat(formData.quantity) : undefined,\n        history: [],\n      };\n\n      if (selectedInvestment) {\n        await axios.put(`http://localhost:5000/api/investments/${selectedInvestment._id}`, data, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        showSnackbar('Cập nhật khoản đầu tư thành công', 'success');\n      } else {\n        await axios.post('http://localhost:5000/api/investments', data, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        // Tạo giao dịch chi phí cho đầu tư mới\n        const transactionData = {\n          type: 'expense',\n          amount: parseFloat(formData.initialAmount),\n          category: investmentExpenseCategory._id,\n          description: `Đầu tư mới: ${formData.name}`,\n          date: formData.startDate,\n          paymentMethod: 'Wallet',\n          status: 'completed',\n          notes: formData.notes || undefined\n        };\n\n        await axios.post(\n          'http://localhost:5000/api/transactions',\n          transactionData,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        showSnackbar('Thêm khoản đầu tư thành công', 'success');\n      }\n\n      fetchInvestments();\n      handleCloseDialog();\n    } catch (error) {\n      console.error('❌ Lỗi khi lưu đầu tư:', error);\n      showSnackbar('Có lỗi xảy ra', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Handle withdrawal \n  const handleWithdrawal = async () => {\n    if (!selectedInvestment) return;\n    if (!withdrawalData.amount || parseFloat(withdrawalData.amount) <= 0) {\n      setWithdrawalError('Số tiền phải lớn hơn 0');\n      return;\n    }\n\n    const withdrawalAmount = parseFloat(withdrawalData.amount);\n    if (withdrawalAmount > selectedInvestment.currentAmount) {\n      setWithdrawalError(`Số tiền rút không được vượt quá ${formatCurrency(selectedInvestment.currentAmount)}`);\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n\n      // Nếu là tiền điện tử, cập nhật giá trị hiện tại\n      let currentAmount = selectedInvestment.currentAmount;\n      if (selectedInvestment.type === 'crypto') {\n        try {\n          const cryptoId = selectedInvestment.name.toLowerCase();\n          const currentPrice = await getCryptoPrice(cryptoId);\n          if (currentPrice && selectedInvestment.quantity) {\n            currentAmount = currentPrice * selectedInvestment.quantity;\n          }\n        } catch (error) {\n          console.warn('⚠️ Không thể lấy giá tiền điện tử:', error);\n          // Tiếp tục với giá trị hiện tại nếu không lấy được giá mới\n        }\n      }\n\n      // Kiểm tra lại số tiền rút với giá trị hiện tại\n      if (withdrawalAmount > currentAmount) {\n        setWithdrawalError(`Số tiền rút không được vượt quá ${formatCurrency(currentAmount)}`);\n        return;\n      }\n\n      // Step 1: Cập nhật thông tin khoản đầu tư\n      const updatedInvestment = {\n        ...selectedInvestment,\n        currentAmount: currentAmount - withdrawalAmount,\n        history: [\n          ...selectedInvestment.history,\n          {\n            date: withdrawalData.date,\n            amount: withdrawalAmount,\n            type: 'withdraw',\n            reason: withdrawalData.reason || undefined,\n          },\n        ],\n      };\n\n      try {\n        await axios.put(\n          `http://localhost:5000/api/investments/${selectedInvestment._id}`,\n          updatedInvestment,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n      } catch (error) {\n        console.error('❌ Lỗi khi cập nhật đầu tư:', error);\n        throw new Error('Không thể cập nhật thông tin đầu tư');\n      }\n\n      // Tìm hoặc tạo category thu nhập đầu tư\n      let investmentIncomeCategory;\n      try {\n        const categoriesResponse = await axios.get('http://localhost:5000/api/categories', {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        \n        investmentIncomeCategory = categoriesResponse.data.find((cat: Category) => \n          (cat.name.toLowerCase().includes('đầu tư') || cat.name.toLowerCase().includes('investment')) &&\n          cat.type === 'income'\n        );\n\n        if (!investmentIncomeCategory) {\n          const newIncomeCategory = {\n            name: 'Thu nhập đầu tư',\n            type: 'income',\n            icon: '💰',\n            color: '#4caf50',\n            description: 'Danh mục cho các khoản thu từ đầu tư'\n          };\n\n          const createResponse = await axios.post(\n            'http://localhost:5000/api/categories',\n            newIncomeCategory,\n            {\n              headers: { Authorization: `Bearer ${token}` },\n            }\n          );\n          investmentIncomeCategory = createResponse.data;\n        }\n      } catch (error) {\n        console.error('❌ Lỗi khi xử lý danh mục:', error);\n        throw new Error('Không thể xử lý danh mục đầu tư');\n      }\n\n      if (!investmentIncomeCategory?._id) {\n        throw new Error('Không tìm thấy hoặc không thể tạo danh mục đầu tư');\n      }\n\n      // Step 2: Tạo giao dịch thu nhập\n      const transactionData = {\n        type: 'income',\n        amount: withdrawalAmount,\n        category: investmentIncomeCategory._id,\n        description: `Rút tiền từ đầu tư ${selectedInvestment.name}`,\n        date: withdrawalData.date,\n        paymentMethod: 'Wallet',\n        status: 'completed',\n        notes: withdrawalData.reason || undefined\n      };\n\n      try {\n        await axios.post(\n          'http://localhost:5000/api/transactions',\n          transactionData,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n      } catch (error) {\n        console.error('❌ Lỗi khi tạo giao dịch:', error);\n        throw new Error('Không thể tạo giao dịch rút tiền');\n      }\n\n      showSnackbar('Rút tiền về ví thành công', 'success');\n      fetchInvestments();\n      fetchCategories();\n      handleCloseWithdrawDialog();\n    } catch (error: any) {\n      console.error('❌ Lỗi khi rút tiền:', error);\n      let errorMessage = 'Có lỗi xảy ra khi rút tiền';\n      if (error.message) {\n        errorMessage = error.message;\n      } else if (error.response?.data?.message) {\n        errorMessage = error.response.data.message;\n      }\n      showSnackbar(errorMessage, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Delete investment\n  const handleDelete = async (id: string) => {\n    setSelectedInvestment(investments.find((inv) => inv._id === id) || null);\n    setOpenDeleteDialog(true);\n  };\n\n  const confirmDelete = async () => {\n    if (!selectedInvestment) return;\n    setIsLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/investments/${selectedInvestment._id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      showSnackbar('Xóa khoản đầu tư thành công', 'success');\n      fetchInvestments();\n      setOpenDeleteDialog(false);\n      setSelectedInvestment(null);\n    } catch (error) {\n      console.error('❌ Lỗi khi xóa đầu tư:', error);\n      showSnackbar('Không thể xóa khoản đầu tư', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Event Handlers\n  const handleEdit = (investment: Investment) => {\n    setSelectedInvestment(investment);\n    setOpenDialog(true);\n  };\n\n  const handleDetails = (investment: Investment) => {\n    setSelectedInvestment(investment);\n    setOpenDetailsDialog(true);\n  };\n\n  const handleWithdraw = (investment: Investment) => {\n    setSelectedInvestment(investment);\n    setWithdrawalData({\n      amount: '',\n      reason: '',\n      date: new Date().toISOString().split('T')[0],\n    });\n    setOpenWithdrawDialog(true);\n  };\n\n  const handleAddInvestment = () => {\n    setSelectedInvestment(null);\n    setOpenDialog(true);\n  };\n\n  const handleFilterChange = (type: string) => {\n    setFilterType(type);\n  };\n\n  const handleSortChange = (sort: string) => {\n    setSortOption(sort);\n  };\n\n  const handleSearchChange = (term: string) => {\n    setSearchTerm(term);\n  };\n\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n    setActiveTab(newValue);\n  };\n\n  // Dialog close handlers\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setSelectedInvestment(null);\n  };\n\n  const handleCloseDetailsDialog = () => {\n    setOpenDetailsDialog(false);\n    setSelectedInvestment(null);\n  };\n\n  const handleCloseWithdrawDialog = () => {\n    setOpenWithdrawDialog(false);\n    setSelectedInvestment(null);\n    setWithdrawalData({\n      amount: '',\n      reason: '',\n      date: new Date().toISOString().split('T')[0],\n    });\n    setWithdrawalError('');\n  };\n\n  // Utility functions\n  const calculateProfitLoss = (investment: Investment) => {\n    const difference = investment.currentAmount - investment.initialAmount;\n    return {\n      amount: difference,\n      percentage: ((difference / investment.initialAmount) * 100).toFixed(2),\n      isProfit: difference >= 0,\n    };\n  };\n\n  const calculateTotalProfitLoss = () => {\n    const total = investments.reduce(\n      (acc, inv) => {\n        const { amount, isProfit } = calculateProfitLoss(inv);\n        return {\n          profit: isProfit ? acc.profit + amount : acc.profit,\n          loss: !isProfit ? acc.loss + Math.abs(amount) : acc.loss,\n          totalInvested: acc.totalInvested + inv.initialAmount,\n          totalCurrent: acc.totalCurrent + inv.currentAmount,\n        };\n      },\n      { profit: 0, loss: 0, totalInvested: 0, totalCurrent: 0 }\n    );\n    return total;\n  };\n\n  const getTypeDetails = (type: string) => {\n    return INVESTMENT_TYPES.find((t) => t.value === type) || INVESTMENT_TYPES[5];\n  };\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);\n  };\n\n  const showSnackbar = (message: string, severity: 'success' | 'error') => {\n    setSnackbar({ open: true, message, severity });\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      {/* <Layout> */}\n        <Box\n          sx={{\n            minHeight: '100vh',\n            background: theme.palette.mode === 'dark' ? '#121212' : '#f8fafc',\n            p: { xs: 2, sm: 2, md: 2 },\n            pl: { xs: 2, sm: 2, md: 0 },\n            width: '100%',\n            borderRadius: { xs: 0, md: '16px' },\n            boxShadow: '0 4px 20px rgba(0, 0, 0, 0.05)',\n          }}\n        >\n          {isLoading && (\n            <Box\n              sx={{\n                position: 'fixed',\n                top: 0,\n                left: 0,\n                width: '100%',\n                height: '100%',\n                bgcolor: 'rgba(0,0,0,0.5)',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                zIndex: 9999,\n              }}\n            >\n              <ScaleIn>\n                <CircularProgress size={60} thickness={4} />\n              </ScaleIn>\n            </Box>\n          )}\n  \n          {/* Subscription loading and errors */}\n          {subscriptionLoading && (\n            <Box sx={{ p: 4, textAlign: 'center' }}>\n              <CircularProgress size={60} thickness={4} />\n              <Typography variant=\"h6\" sx={{ mt: 2 }}>\n                Đang tải trạng thái subscription...\n              </Typography>\n            </Box>\n          )}\n  \n          {subscriptionError && (\n            <Typography variant=\"body1\" color=\"error\" align=\"center\" sx={{ mb: 2 }}>\n              Lỗi subscription: {subscriptionError}\n            </Typography>\n          )}\n  \n          {/* Main content */}\n          {!subscriptionLoading && (\n            <FadeIn sx={{ width: '100%', pl: { xs: 0, sm: 0, md: 2 } }}>\n              {/* Header with filters */}\n              <InvestmentHeader\n                onAddInvestment={() => setOpenDialog(true)}\n                filterType={filterType}\n                onFilterChange={(type) => setFilterType(type)}\n                sortOption={sortOption}\n                onSortChange={(sort) => setSortOption(sort)}\n                onSearch={handleSearchChange}\n                investmentTypes={INVESTMENT_TYPES}\n              />\n              \n              {/* Tabs */}\n              <Box sx={{ mt: 2 }}>\n              <InvestmentTabs activeTab={activeTab} onTabChange={handleTabChange} />\n              </Box>\n              \n              {/* Tab content */}\n              <Box sx={{ mt: 2 }}>\n              {activeTab === 0 ? (\n                <FadeIn>\n                  <InvestmentList\n                    investments={investments}\n                    filteredInvestments={filteredInvestments}\n                    filterType={filterType}\n                    onViewDetails={handleDetails}\n                    onWithdraw={handleWithdraw}\n                    onEdit={handleEdit}\n                    onDelete={handleDelete}\n                    onAddInvestment={() => setOpenDialog(true)}\n                    formatCurrency={formatCurrency}\n                    calculateProfitLoss={calculateProfitLoss}\n                    getTypeDetails={getTypeDetails}\n                  />\n                </FadeIn>\n              ) : (\n                <Suspense fallback={\n                    <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\n                    <CircularProgress size={40} />\n                  </Box>\n                }>\n                  <FadeIn>\n                    <InvestmentAnalytics\n                      investments={investments}\n                      investmentTypes={INVESTMENT_TYPES}\n                      formatCurrency={formatCurrency}\n                      calculateProfitLoss={calculateProfitLoss}\n                      getTypeDetails={getTypeDetails}\n                    />\n                  </FadeIn>\n                </Suspense>\n              )}\n              </Box>\n            </FadeIn>\n          )}\n\n          {/* Investment Form Dialog */}\n          <InvestmentForm\n            open={openDialog}\n            onClose={handleCloseDialog}\n            onSubmit={handleSubmit}\n            selectedInvestment={selectedInvestment}\n            investmentTypes={INVESTMENT_TYPES}\n            isLoading={isLoading}\n          />\n\n          {/* Investment Details Dialog */}\n          <InvestmentDetails\n            open={openDetailsDialog}\n            onClose={handleCloseDetailsDialog}\n            investment={selectedInvestment}\n            onEdit={handleEdit}\n            formatCurrency={formatCurrency}\n            calculateProfitLoss={calculateProfitLoss}\n            getTypeDetails={getTypeDetails}\n          />\n\n          {/* Withdraw Dialog */}\n          <Dialog\n            open={openWithdrawDialog}\n            onClose={handleCloseWithdrawDialog}\n            maxWidth=\"sm\"\n            fullWidth\n            PaperProps={{ \n              sx: { \n                borderRadius: 3, \n                background: theme.palette.mode === 'dark' \n                  ? 'linear-gradient(145deg, rgba(30,42,56,0.95) 0%, rgba(38,50,63,0.95) 100%)' \n                  : 'linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)',\n                border: `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)'}`,\n                backdropFilter: 'blur(10px)',\n              } \n            }}\n          >\n            {selectedInvestment && (\n              <>\n                <DialogTitle>\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                    <Avatar \n                      sx={{ \n                        bgcolor: alpha(theme.palette.success.main, 0.15), \n                        color: theme.palette.success.main,\n                        width: 48, \n                        height: 48,\n                        border: `2px solid ${alpha(theme.palette.success.main, 0.2)}`,\n                      }}\n                    >\n                      <AttachMoney />\n                    </Avatar>\n                    <Box>\n                      <Typography \n                        component=\"div\" \n                        variant=\"h5\" \n                        sx={{ \n                          fontSize: '1.4rem',\n                          fontWeight: 600,\n                          color: theme.palette.success.main,\n                          mb: 0.5\n                        }}\n                      >\n                        Rút tiền về ví\n                      </Typography>\n                      <Typography \n                        variant=\"body2\" \n                        sx={{ \n                          fontSize: '0.95rem',\n                          color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                        }}\n                      >\n                        Từ đầu tư: {selectedInvestment.name}\n                      </Typography>\n                    </Box>\n                  </Box>\n                  <Divider sx={{ mt: 2 }} />\n                </DialogTitle>\n\n                <DialogContent sx={{ pt: 2 }}>\n                  <Box sx={{ mb: 3 }}>\n                    <Typography \n                      variant=\"body2\" \n                      sx={{ \n                        fontSize: '0.9rem',\n                        color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                        mb: 1\n                      }}\n                    >\n                      Số dư khả dụng\n                    </Typography>\n                    <Typography \n                      variant=\"h6\" \n                      sx={{ \n                        fontSize: '1.5rem',\n                        fontWeight: 600,\n                        color: theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n                      }}\n                    >\n                      {formatCurrency(selectedInvestment.currentAmount)}\n                    </Typography>\n                  </Box>\n\n                  <FormControl fullWidth sx={{ mb: 2.5 }}>\n                    <InputLabel \n                      sx={{ \n                        fontSize: '0.95rem',\n                        color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b',\n                      }}\n                    >\n                      Số tiền rút\n                    </InputLabel>\n                    <OutlinedInput\n                      value={withdrawalData.amount}\n                      onChange={(e) => setWithdrawalData({ ...withdrawalData, amount: e.target.value })}\n                      startAdornment={\n                        <InputAdornment position=\"start\">\n                          <MonetizationOn sx={{ color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b' }} />\n                        </InputAdornment>\n                      }\n                      label=\"Số tiền rút\"\n                      type=\"number\"\n                      error={!!withdrawalError}\n                      sx={{\n                        borderRadius: '12px',\n                        '& .MuiOutlinedInput-notchedOutline': {\n                          borderColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)',\n                        },\n                      }}\n                    />\n                    {withdrawalError && (\n                      <Typography \n                        color=\"error\" \n                        variant=\"caption\" \n                        sx={{ mt: 0.5, fontSize: '0.85rem' }}\n                      >\n                        {withdrawalError}\n                      </Typography>\n                    )}\n                  </FormControl>\n\n                  <FormControl fullWidth sx={{ mb: 2.5 }}>\n                    <TextField\n                      label=\"Ngày rút tiền\"\n                      type=\"date\"\n                      value={withdrawalData.date}\n                      onChange={(e) => setWithdrawalData({ ...withdrawalData, date: e.target.value })}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <CalendarToday sx={{ color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b' }} />\n                          </InputAdornment>\n                        ),\n                      }}\n                      sx={{\n                        '& .MuiOutlinedInput-root': {\n                          borderRadius: '12px',\n                          '& .MuiOutlinedInput-notchedOutline': {\n                            borderColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)',\n                          },\n                        },\n                      }}\n                    />\n                  </FormControl>\n\n                  <FormControl fullWidth>\n                    <TextField\n                      label=\"Ghi chú\"\n                      multiline\n                      rows={3}\n                      value={withdrawalData.reason}\n                      onChange={(e) => setWithdrawalData({ ...withdrawalData, reason: e.target.value })}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <Description sx={{ color: theme.palette.mode === 'dark' ? '#94a3b8' : '#64748b' }} />\n                          </InputAdornment>\n                        ),\n                      }}\n                      sx={{\n                        '& .MuiOutlinedInput-root': {\n                          borderRadius: '12px',\n                          '& .MuiOutlinedInput-notchedOutline': {\n                            borderColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)',\n                          },\n                        },\n                      }}\n                    />\n                  </FormControl>\n\n                  <Alert \n                    severity=\"info\" \n                    variant=\"outlined\"\n                    sx={{ \n                      mt: 2.5, \n                      borderRadius: '12px',\n                      border: `1px solid ${alpha(theme.palette.info.main, 0.2)}`,\n                      '& .MuiAlert-icon': {\n                        color: theme.palette.info.main,\n                      },\n                    }}\n                  >\n                    <Typography variant=\"body2\" sx={{ fontSize: '0.9rem' }}>\n                      Số tiền sẽ được chuyển vào ví của bạn sau khi xác nhận rút tiền\n                    </Typography>\n                  </Alert>\n                </DialogContent>\n\n                <DialogActions sx={{ p: 3, pt: 2 }}>\n                  <Button \n                    onClick={handleCloseWithdrawDialog}\n                    variant=\"outlined\"\n                    sx={{\n                      textTransform: 'none',\n                      fontWeight: 600,\n                      borderRadius: '10px',\n                      px: 3,\n                      borderColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(226, 232, 240, 0.8)',\n                      color: theme.palette.mode === 'dark' ? '#e2e8f0' : '#1e293b',\n                    }}\n                  >\n                    Hủy\n                  </Button>\n                  <Button \n                    onClick={handleWithdrawal} \n                    disabled={isLoading}\n                    variant=\"contained\"\n                    color=\"success\"\n                    sx={{ \n                      textTransform: 'none',\n                      fontWeight: 600,\n                      borderRadius: '10px',\n                      px: 3,\n                      background: `linear-gradient(45deg, ${theme.palette.success.main}, ${theme.palette.success.light})`,\n                      boxShadow: `0 4px 10px ${alpha(theme.palette.success.main, 0.25)}`,\n                      border: `1px solid ${alpha(theme.palette.success.main, 0.1)}`,\n                      '&:hover': {\n                        background: `linear-gradient(45deg, ${theme.palette.success.dark}, ${theme.palette.success.main})`,\n                        boxShadow: `0 6px 15px ${alpha(theme.palette.success.main, 0.35)}`,\n                      },\n                    }}\n                    startIcon={<AttachMoney />}\n                  >\n                    {isLoading ? 'Đang xử lý...' : 'Rút tiền'}\n                  </Button>\n                </DialogActions>\n              </>\n            )}\n          </Dialog>\n\n          {/* Delete Confirmation Dialog */}\n          <Dialog\n            open={openDeleteDialog}\n            onClose={() => setOpenDeleteDialog(false)}\n            PaperProps={{ \n              sx: { \n                borderRadius: 3, \n                p: 2,\n                maxWidth: 450,\n              } \n            }}\n          >\n            <DialogTitle sx={{ pb: 1 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                <Avatar sx={{ bgcolor: alpha(theme.palette.error.main, 0.1), color: theme.palette.error.main }}>\n                  <Delete />\n                </Avatar>\n                <Typography component=\"div\" variant=\"h6\" fontWeight=\"bold\" color=\"error\" sx={{ fontSize: '1.3rem' }}>\n                  Xác nhận xóa\n                </Typography>\n              </Box>\n              <Divider sx={{ mt: 2 }} />\n            </DialogTitle>\n            <DialogContent>\n              <Typography variant=\"body1\" sx={{ mt: 1, fontSize: '0.95rem' }}>\n                Bạn có chắc chắn muốn xóa khoản đầu tư{' '}\n                <Typography component=\"span\" fontWeight=\"bold\">\n                  {selectedInvestment?.name}\n                </Typography>{' '}\n                không?\n              </Typography>\n              <Alert \n                severity=\"warning\" \n                variant=\"outlined\" \n                sx={{ \n                  mt: 2, \n                  borderRadius: 2,\n                  '& .MuiAlert-icon': {\n                    alignItems: 'center'\n                  }\n                }}\n              >\n                <Typography variant=\"body2\" sx={{ fontSize: '0.9rem' }}>\n                  Thao tác này <strong>không thể hoàn tác</strong>. Tất cả dữ liệu liên quan đến khoản đầu tư này sẽ bị xóa vĩnh viễn.\n                </Typography>\n              </Alert>\n            </DialogContent>\n            <DialogActions sx={{ p: 2, pt: 1 }}>\n              <Button \n                onClick={() => setOpenDeleteDialog(false)}\n                variant=\"outlined\"\n                sx={{\n                  textTransform: 'none',\n                  fontWeight: 600,\n                  borderRadius: '10px',\n                  px: 3,\n                }}\n              >\n                Hủy\n              </Button>\n              <Button\n                onClick={confirmDelete}\n                color=\"error\"\n                variant=\"contained\"\n                disabled={isLoading}\n                startIcon={<Delete />}\n                sx={{\n                  textTransform: 'none',\n                  fontWeight: 600,\n                  borderRadius: '10px',\n                  px: 3,\n                }}\n              >\n                Xóa\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          {/* Snackbar for notifications */}\n          <Snackbar\n            open={snackbar.open}\n            autoHideDuration={5000}\n            onClose={() => setSnackbar({ ...snackbar, open: false })}\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n          >\n            <Alert\n              onClose={() => setSnackbar({ ...snackbar, open: false })}\n              severity={snackbar.severity}\n              variant=\"filled\"\n              sx={{ \n                width: '100%',\n                borderRadius: 2,\n                boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                alignItems: 'center',\n                '& .MuiAlert-icon': {\n                  fontSize: '1.2rem'\n                }\n              }}\n            >\n              <Typography variant=\"body2\" sx={{ fontWeight: 500, fontSize: '0.95rem' }}>\n                {snackbar.message}\n              </Typography>\n            </Alert>\n          </Snackbar>\n        </Box>\n      {/* </Layout> */}\n    </ThemeProvider>\n  );\n};\n\nexport default Investments;"],"names":["SecondaryButton","styled","Button","_ref","theme","borderRadius","padding","textTransform","fontWeight","fontSize","background","palette","mode","boxShadow","color","border","concat","GradientButton","_ref2","primary","main","light","dark","_ref3","open","onClose","investment","onEdit","formatCurrency","calculateProfitLoss","getTypeDetails","useTheme","historyChartData","useMemo","data","date","Date","startDate","toLocaleDateString","amount","initialAmount","currentAmount","history","forEach","item","type","push","profitLoss","typeInfo","averageBuyPrice","quantity","currentPrice","_jsxs","Dialog","maxWidth","fullWidth","PaperProps","sx","p","children","DialogTitle","Box","display","alignItems","gap","_jsx","Avatar","bgcolor","alpha","width","height","icon","Typography","component","variant","WebkitBackgroundClip","WebkitTextFillColor","name","Divider","mt","DialogContent","Grid","container","spacing","xs","md","Paper","borderLeft","mb","label","status","success","info","error","endDate","expectedReturn","isProfit","ArrowUpward","ArrowDownward","percentage","_Fragment","Math","abs","length","ResponsiveContainer","LineChart","XAxis","dataKey","tick","tickLine","axisLine","YAxis","tickFormatter","value","split","Tooltip","formatter","contentStyle","Line","stroke","strokeWidth","dot","fill","paper","r","activeDot","justifyContent","notes","maxHeight","overflowY","pr","map","index","borderColor","warning","reason","DialogActions","onClick","startIcon","Edit","onSubmit","selectedInvestment","investmentTypes","isLoading","initialFormState","toISOString","formData","setFormData","useState","formErrors","setFormErrors","useEffect","_selectedInvestment$q","toString","handleChange","e","target","prev","_objectSpread","TextField","onChange","helperText","sm","FormControl","InputLabel","Select","MenuItem","InputProps","startAdornment","InputAdornment","position","endAdornment","InputLabelProps","shrink","multiline","rows","pt","handleSubmit","validateForm","errors","isValid","parseFloat","disabled","StyledCard","Card","marginBottom","transform","SearchWrapper","paddingLeft","paddingRight","marginRight","backgroundColor","transition","_ref4","onAddInvestment","filterType","onFilterChange","sortOption","onSortChange","onSearch","anchorEl","setAnchorEl","searchTerm","setSearchTerm","lg","letterSpacing","flexDirection","InputBase","placeholder","onKeyPress","key","IconButton","handleSearch","SearchOutlined","flexWrap","size","minWidth","event","title","arrow","Add","whiteSpace","flex","currentTarget","MoreVert","Menu","Boolean","handleMenuClose","elevation","ListItemIcon","ListItemText","TrendingUp","AccountBalance","overflow","marginLeft","onViewDetails","onWithdraw","onDelete","progress","content","top","left","CardHeader","avatar","action","subheader","Chip","pb","px","CardContent","flexShrink","viewBox","d","min","toFixed","LinearProgress","py","ml","Visibility","AttachMoney","my","_id","Delete","EmptyStateCard","textAlign","margin","investments","filteredInvestments","lineHeight","cursor","InvestmentCard","StyledTabs","Tabs","StyledTab","Tab","minHeight","breakpoints","down","activeTab","onTabChange","iconPosition","id","InvestmentAnalytics","lazy","FadeIn","animation","from","opacity","to","ScaleIn","INVESTMENT_TYPES","_ref5","Investments","plan","loading","subscriptionLoading","subscriptionError","useNavigate","useSelector","state","subscription","setInvestments","openDialog","setOpenDialog","openDetailsDialog","setOpenDetailsDialog","openWithdrawDialog","setOpenWithdrawDialog","openDeleteDialog","setOpenDeleteDialog","setSelectedInvestment","withdrawalData","setWithdrawalData","withdrawalError","setWithdrawalError","snackbar","setSnackbar","message","severity","setActiveTab","setFilterType","setSortOption","setIsLoading","categories","setCategories","fetchInvestments","useCallback","async","token","localStorage","getItem","response","axios","get","headers","Authorization","_error$response2","console","showSnackbar","fetchCategories","filtered","filter","trim","term","toLowerCase","inv","includes","sort","a","b","localeCompare","handleEdit","handleCloseDialog","handleCloseWithdrawDialog","difference","find","t","Intl","NumberFormat","style","currency","format","ThemeProvider","pl","zIndex","CircularProgress","thickness","align","InvestmentHeader","InvestmentTabs","handleTabChange","newValue","InvestmentList","Suspense","fallback","InvestmentForm","investmentExpenseCategory","cat","newExpenseCategory","description","post","Error","undefined","put","transactionData","category","paymentMethod","InvestmentDetails","handleCloseDetailsDialog","backdropFilter","OutlinedInput","MonetizationOn","CalendarToday","Description","Alert","withdrawalAmount","_investmentIncomeCate","cryptoId","retryCount","arguments","delayMs","i","vnd","_error$response","Promise","resolve","setTimeout","getCryptoPrice","warn","updatedInvestment","investmentIncomeCategory","newIncomeCategory","_error$response3","_error$response3$data","errorMessage","delete","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal"],"sourceRoot":""}