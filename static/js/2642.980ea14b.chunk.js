"use strict";(self.webpackChunkquanlythuchi=self.webpackChunkquanlythuchi||[]).push([[2642],{72642:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Me});var a=r(89379),n=r(67957),o=r(27012),i=r(47225),s=r(43360),l=r(51387),d=r(34535),c=r(96446),x=r(11906),m=r(26240),p=r(81637),h=r(85865),u=r(90035),g=r(26600),b=r(81045),f=r(90310),A=r(39336),y=r(35316),j=r(53193),v=r(79190),S=r(69859),k=r(51787),z=r(67784),w=r(14194),C=r(29347),W=r(40794),R=r(45969),T=r(79722),I=r(65043),D=r(83003),L=r(73216),P=r(59540),X=r(88645),M=r(83560),q=r(68903),B=r(63336),F=r(50108),E=r(75748),N=r(52185),O=r(6026),K=r(86150),H=r(90168),V=r(70579);const Y=(0,d.Ay)(x.A)((e=>{let{theme:t}=e;return{borderRadius:"10px",padding:"10px 24px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"dark"===t.palette.mode?"#2d3748":"#f7fafc",boxShadow:"0 2px 5px rgba(0,0,0,0.07)",color:"dark"===t.palette.mode?"#fff":"#4a5568",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)"),"&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"dark"===t.palette.mode?"#374151":"#edf2f7"}}})),G=(0,d.Ay)(x.A)((e=>{let{theme:t}=e;return{borderRadius:"10px",padding:"10px 24px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"linear-gradient(45deg, ".concat(t.palette.primary.main,", ").concat(t.palette.primary.light,")"),boxShadow:"0 4px 10px rgba(0, 118, 255, 0.2)",color:"#fff","&:hover":{boxShadow:"0 6px 14px rgba(0, 118, 255, 0.3)",background:"linear-gradient(45deg, ".concat(t.palette.primary.dark,", ").concat(t.palette.primary.main,")")}}})),_=e=>{let{open:t,onClose:r,investment:a,onEdit:n,formatCurrency:o,calculateProfitLoss:i,getTypeDetails:s}=e;const l=(0,m.A)(),d=(0,I.useMemo)((()=>{if(!a)return[];const e=[{date:new Date(a.startDate).toLocaleDateString("vi-VN"),amount:a.initialAmount}];let t=a.initialAmount;return a.history.forEach((r=>{"deposit"===r.type?t+=r.amount:"withdraw"===r.type?t-=r.amount:"profit"===r.type?t+=r.amount:"loss"===r.type&&(t-=r.amount),e.push({date:new Date(r.date).toLocaleDateString("vi-VN"),amount:t,type:r.type})})),e}),[a]);if(!a)return null;const x=i(a),p=s(a.type),j="crypto"===a.type&&a.quantity?a.initialAmount/a.quantity:null,v="crypto"===a.type&&a.quantity?a.currentAmount/a.quantity:null;return(0,V.jsxs)(u.A,{open:t,onClose:r,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:2,background:"dark"===l.palette.mode?"linear-gradient(145deg, rgba(30,42,56,0.95) 0%, rgba(38,50,63,0.95) 100%)":"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)"}},children:[(0,V.jsxs)(g.A,{children:[(0,V.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,V.jsx)(b.A,{sx:{bgcolor:(0,f.X4)(p.color,.15),color:p.color,width:48,height:48,border:"2px solid ".concat(p.color)},children:p.icon}),(0,V.jsxs)(c.A,{children:[(0,V.jsx)(h.A,{component:"div",variant:"h5",fontWeight:"bold",sx:{fontSize:"1.5rem",background:"linear-gradient(45deg, ".concat(l.palette.primary.main,", ").concat(l.palette.primary.light,")"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:a.name}),(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.95rem"},children:"Chi ti\u1ebft kho\u1ea3n \u0111\u1ea7u t\u01b0"})]})]}),(0,V.jsx)(A.A,{sx:{mt:2}})]}),(0,V.jsx)(y.A,{children:(0,V.jsxs)(q.Ay,{container:!0,spacing:3,sx:{mt:.5},children:[(0,V.jsx)(q.Ay,{item:!0,xs:12,md:6,children:(0,V.jsxs)(B.A,{sx:{p:3,borderRadius:3,bgcolor:"dark"===l.palette.mode?(0,f.X4)("#2d3748",.5):(0,f.X4)("#f7fafc",.8),borderLeft:"4px solid ".concat(l.palette.primary.main)},children:[(0,V.jsx)(h.A,{variant:"h6",fontWeight:"bold",sx:{mb:2.5,fontSize:"1.2rem",color:l.palette.primary.main},children:"Th\xf4ng tin c\u01a1 b\u1ea3n"}),(0,V.jsx)(A.A,{sx:{mb:2.5}}),(0,V.jsxs)(q.Ay,{container:!0,spacing:2.5,children:[(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Lo\u1ea1i \u0111\u1ea7u t\u01b0"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:p.label})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Tr\u1ea1ng th\xe1i"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5,color:"active"===a.status?l.palette.success.main:"completed"===a.status?l.palette.info.main:l.palette.error.main},children:"active"===a.status?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"completed"===a.status?"Ho\xe0n th\xe0nh":"\u0110\xe3 h\u1ee7y"})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"S\u1ed1 ti\u1ec1n ban \u0111\u1ea7u"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:o(a.initialAmount)})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Gi\xe1 tr\u1ecb hi\u1ec7n t\u1ea1i"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:o(a.currentAmount)})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Ng\xe0y b\u1eaft \u0111\u1ea7u"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:new Date(a.startDate).toLocaleDateString("vi-VN")})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Ng\xe0y k\u1ebft th\xfac"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:a.endDate?new Date(a.endDate).toLocaleDateString("vi-VN"):"Ch\u01b0a x\xe1c \u0111\u1ecbnh"})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"L\u1ee3i nhu\u1eadn k\u1ef3 v\u1ecdng"}),(0,V.jsxs)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:[a.expectedReturn,"%"]})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Hi\u1ec7u su\u1ea5t th\u1ef1c t\u1ebf"}),(0,V.jsxs)(h.A,{variant:"body1",fontWeight:"bold",sx:{color:x.isProfit?l.palette.success.main:l.palette.error.main,fontSize:"1rem",mt:.5,display:"flex",alignItems:"center",gap:.5},children:[x.isProfit?(0,V.jsx)(P.A,{fontSize:"small",sx:{fontSize:"0.9rem"}}):(0,V.jsx)(X.A,{fontSize:"small",sx:{fontSize:"0.9rem"}}),x.percentage,"%"]})]}),"crypto"===a.type&&a.quantity&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"S\u1ed1 l\u01b0\u1ee3ng coin"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:a.quantity})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Gi\xe1 mua trung b\xecnh"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5},children:o(j||0)})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"Gi\xe1 hi\u1ec7n t\u1ea1i"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"1rem",mt:.5,color:(v||0)>(j||0)?l.palette.success.main:l.palette.error.main},children:o(v||0)})]})]})]})]})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,md:6,children:(0,V.jsxs)(B.A,{sx:{p:3,borderRadius:3,bgcolor:"dark"===l.palette.mode?(0,f.X4)("#2d3748",.5):(0,f.X4)("#f7fafc",.8),borderLeft:"4px solid ".concat(x.isProfit?l.palette.success.main:l.palette.error.main)},children:[(0,V.jsx)(h.A,{variant:"h6",fontWeight:"bold",sx:{mb:2.5,fontSize:"1.2rem",color:x.isProfit?l.palette.success.main:l.palette.error.main},children:"Hi\u1ec7u su\u1ea5t \u0111\u1ea7u t\u01b0"}),(0,V.jsx)(A.A,{sx:{mb:2.5}}),(0,V.jsxs)(q.Ay,{container:!0,spacing:2.5,children:[(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:"L\u1ee3i nhu\u1eadn/L\u1ed7"}),(0,V.jsxs)(h.A,{variant:"body1",fontWeight:"bold",sx:{color:x.isProfit?l.palette.success.main:l.palette.error.main,fontSize:"1rem",mt:.5,display:"flex",alignItems:"center",gap:.5},children:[x.isProfit?(0,V.jsx)(P.A,{fontSize:"small",sx:{fontSize:"0.9rem"}}):(0,V.jsx)(X.A,{fontSize:"small",sx:{fontSize:"0.9rem"}}),x.isProfit?"+":"-",o(Math.abs(x.amount))]})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:12,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem",mb:1},children:"Bi\u1ebfn \u0111\u1ed9ng gi\xe1 tr\u1ecb"}),(0,V.jsx)(c.A,{sx:{height:200},children:d.length>1?(0,V.jsx)(F.u,{width:"100%",height:"100%",children:(0,V.jsxs)(E.b,{data:d,children:[(0,V.jsx)(N.W,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),(0,V.jsx)(O.h,{tickFormatter:e=>o(e).split(".")[0],tick:{fontSize:10},tickLine:!1,axisLine:!1}),(0,V.jsx)(K.m,{formatter:e=>o(e),contentStyle:{borderRadius:8,border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"10px 14px"}}),(0,V.jsx)(H.N,{type:"monotone",dataKey:"amount",stroke:l.palette.primary.main,strokeWidth:2,dot:{fill:l.palette.background.paper,strokeWidth:2,r:4},activeDot:{r:6,fill:l.palette.primary.main}})]})}):(0,V.jsx)(c.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"text.secondary"},children:(0,V.jsx)(h.A,{variant:"body2",children:"Ch\u01b0a c\xf3 l\u1ecbch s\u1eed giao d\u1ecbch"})})})]})]}),a.notes&&(0,V.jsxs)(c.A,{sx:{mt:3},children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{mb:1,fontSize:"0.9rem"},children:"Ghi ch\xfa"}),(0,V.jsx)(B.A,{sx:{p:2,borderRadius:2,bgcolor:"dark"===l.palette.mode?(0,f.X4)("#374151",.7):(0,f.X4)("#f1f5f9",.7)},children:(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:"0.9rem"},children:a.notes})})]})]})}),a.history.length>0&&(0,V.jsx)(q.Ay,{item:!0,xs:12,children:(0,V.jsxs)(B.A,{sx:{p:3,borderRadius:3,bgcolor:"dark"===l.palette.mode?(0,f.X4)("#2d3748",.5):(0,f.X4)("#f7fafc",.8)},children:[(0,V.jsx)(h.A,{variant:"h6",fontWeight:"bold",sx:{mb:2.5,fontSize:"1.2rem",color:l.palette.info.main},children:"L\u1ecbch s\u1eed giao d\u1ecbch"}),(0,V.jsx)(A.A,{sx:{mb:2.5}}),(0,V.jsx)(c.A,{sx:{maxHeight:250,overflowY:"auto",pr:1},children:a.history.map(((e,t)=>(0,V.jsx)(c.A,{sx:{p:2,mb:2,borderRadius:2,bgcolor:"dark"===l.palette.mode?(0,f.X4)("#1e2a38",.8):(0,f.X4)("#fff",.8),border:"1px solid",borderColor:"deposit"===e.type?(0,f.X4)(l.palette.info.main,.3):"withdraw"===e.type?(0,f.X4)(l.palette.warning.main,.3):"profit"===e.type?(0,f.X4)(l.palette.success.main,.3):(0,f.X4)(l.palette.error.main,.3)},children:(0,V.jsxs)(q.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,V.jsxs)(q.Ay,{item:!0,xs:3,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem"},children:"Ng\xe0y"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"0.95rem"},children:new Date(e.date).toLocaleDateString("vi-VN")})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:3,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem"},children:"Lo\u1ea1i"}),(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"0.95rem",color:"deposit"===e.type?l.palette.info.main:"withdraw"===e.type?l.palette.warning.main:"profit"===e.type?l.palette.success.main:l.palette.error.main},children:"deposit"===e.type?"N\u1ea1p th\xeam":"withdraw"===e.type?"R\xfat ti\u1ec1n":"profit"===e.type?"L\u1ee3i nhu\u1eadn":"Thua l\u1ed7"})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:3,children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem"},children:"S\u1ed1 ti\u1ec1n"}),(0,V.jsxs)(h.A,{variant:"body1",fontWeight:"bold",sx:{fontSize:"0.95rem",color:"deposit"===e.type||"profit"===e.type?l.palette.success.main:l.palette.error.main,display:"flex",alignItems:"center",gap:.5},children:["deposit"===e.type||"profit"===e.type?(0,V.jsx)(P.A,{sx:{fontSize:"0.8rem"}}):(0,V.jsx)(X.A,{sx:{fontSize:"0.8rem"}}),o(e.amount)]})]}),(0,V.jsx)(q.Ay,{item:!0,xs:3,children:e.reason&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem"},children:"L\xfd do"}),(0,V.jsx)(h.A,{variant:"body1",sx:{fontSize:"0.95rem"},children:e.reason})]})})]})},t)))})]})})]})}),(0,V.jsxs)(C.A,{sx:{p:2},children:[(0,V.jsx)(Y,{onClick:r,children:"\u0110\xf3ng"}),a&&(0,V.jsx)(G,{startIcon:(0,V.jsx)(M.A,{}),onClick:()=>{r(),n(a)},children:"Ch\u1ec9nh s\u1eeda"})]})]})};var Z=r(69285),Q=r(32143);const J=(0,d.Ay)(x.A)((e=>{let{theme:t}=e;return{borderRadius:"10px",padding:"10px 24px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"linear-gradient(45deg, ".concat(t.palette.primary.main,", ").concat(t.palette.primary.light,")"),boxShadow:"0 4px 10px rgba(0, 118, 255, 0.2)",color:"#fff","&:hover":{boxShadow:"0 6px 14px rgba(0, 118, 255, 0.3)",background:"linear-gradient(45deg, ".concat(t.palette.primary.dark,", ").concat(t.palette.primary.main,")")}}})),U=(0,d.Ay)(x.A)((e=>{let{theme:t}=e;return{borderRadius:"10px",padding:"10px 24px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"dark"===t.palette.mode?"#2d3748":"#f7fafc",boxShadow:"0 2px 5px rgba(0,0,0,0.07)",color:"dark"===t.palette.mode?"#fff":"#4a5568",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)"),"&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"dark"===t.palette.mode?"#374151":"#edf2f7"}}})),$=e=>{let{open:t,onClose:r,onSubmit:n,selectedInvestment:o,investmentTypes:i,isLoading:s}=e;const l=(0,m.A)(),d=(0,I.useMemo)((()=>({name:"",type:"",initialAmount:"",expectedReturn:"",startDate:(new Date).toISOString().split("T")[0],endDate:"",notes:"",status:"active",quantity:""})),[]),[x,p]=(0,I.useState)(d),[b,f]=(0,I.useState)({name:"",type:"",initialAmount:"",quantity:""});(0,I.useEffect)((()=>{var e;o?p({name:o.name,type:o.type,initialAmount:o.initialAmount.toString(),expectedReturn:o.expectedReturn.toString(),startDate:o.startDate.split("T")[0],endDate:o.endDate?o.endDate.split("T")[0]:"",notes:o.notes||"",status:o.status,quantity:(null===(e=o.quantity)||void 0===e?void 0:e.toString())||""}):p(d)}),[o,d]);const S=e=>{const t=e.target.name,r=e.target.value;t&&p((e=>(0,a.A)((0,a.A)({},e),{},{[t]:r})))};return(0,V.jsxs)(u.A,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:2,background:"dark"===l.palette.mode?"linear-gradient(145deg, rgba(30,42,56,0.95) 0%, rgba(38,50,63,0.95) 100%)":"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)"}},children:[(0,V.jsxs)(g.A,{children:[(0,V.jsx)(h.A,{component:"div",variant:"h5",fontWeight:"bold",sx:{fontSize:"1.5rem",background:"linear-gradient(45deg, ".concat(l.palette.primary.main,", ").concat(l.palette.primary.light,")"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1},children:o?"Ch\u1ec9nh s\u1eeda \u0111\u1ea7u t\u01b0":"Th\xeam \u0111\u1ea7u t\u01b0 m\u1edbi"}),(0,V.jsx)(A.A,{sx:{mt:2}})]}),(0,V.jsx)(y.A,{children:(0,V.jsxs)(q.Ay,{container:!0,spacing:3,sx:{mt:.5},children:[(0,V.jsx)(q.Ay,{item:!0,xs:12,children:(0,V.jsx)(z.A,{label:"T\xean \u0111\u1ea7u t\u01b0",fullWidth:!0,name:"name",value:x.name,onChange:S,variant:"outlined",error:!!b.name,helperText:b.name,sx:{"& .MuiInputBase-root":{fontSize:"0.95rem",borderRadius:"10px"}}})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,sm:6,children:(0,V.jsxs)(j.A,{fullWidth:!0,error:!!b.type,children:[(0,V.jsx)(v.A,{sx:{fontSize:"0.95rem"},children:"Lo\u1ea1i \u0111\u1ea7u t\u01b0"}),(0,V.jsx)(Z.A,{name:"type",value:x.type,onChange:S,label:"Lo\u1ea1i \u0111\u1ea7u t\u01b0",sx:{"& .MuiSelect-select":{fontSize:"0.95rem"},borderRadius:"10px"},children:i.map((e=>(0,V.jsx)(Q.A,{value:e.value,sx:{fontSize:"0.95rem"},children:(0,V.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,V.jsx)(c.A,{sx:{color:e.color},children:e.icon}),e.label]})},e.value)))}),b.type&&(0,V.jsx)(h.A,{color:"error",sx:{fontSize:"0.75rem",mt:.5},children:b.type})]})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,sm:6,children:(0,V.jsxs)(j.A,{fullWidth:!0,children:[(0,V.jsx)(v.A,{sx:{fontSize:"0.95rem"},children:"Tr\u1ea1ng th\xe1i"}),(0,V.jsxs)(Z.A,{name:"status",value:x.status,onChange:S,label:"Tr\u1ea1ng th\xe1i",sx:{"& .MuiSelect-select":{fontSize:"0.95rem"},borderRadius:"10px"},children:[(0,V.jsx)(Q.A,{value:"active",sx:{fontSize:"0.95rem"},children:"\u0110ang ho\u1ea1t \u0111\u1ed9ng"}),(0,V.jsx)(Q.A,{value:"completed",sx:{fontSize:"0.95rem"},children:"\u0110\xe3 ho\xe0n th\xe0nh"}),(0,V.jsx)(Q.A,{value:"cancelled",sx:{fontSize:"0.95rem"},children:"\u0110\xe3 h\u1ee7y"})]})]})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,sm:6,children:(0,V.jsx)(z.A,{label:"S\u1ed1 ti\u1ec1n ban \u0111\u1ea7u",fullWidth:!0,type:"number",name:"initialAmount",value:x.initialAmount,onChange:S,variant:"outlined",error:!!b.initialAmount,helperText:b.initialAmount,InputProps:{startAdornment:(0,V.jsx)(k.A,{position:"start",children:"\u20ab"})},sx:{"& .MuiInputBase-root":{fontSize:"0.95rem",borderRadius:"10px"}}})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,sm:6,children:(0,V.jsx)(z.A,{label:"L\u1ee3i nhu\u1eadn k\u1ef3 v\u1ecdng (%)",fullWidth:!0,type:"number",name:"expectedReturn",value:x.expectedReturn,onChange:S,variant:"outlined",InputProps:{endAdornment:(0,V.jsx)(k.A,{position:"end",children:"%"})},sx:{"& .MuiInputBase-root":{fontSize:"0.95rem",borderRadius:"10px"}}})}),"crypto"===x.type&&(0,V.jsx)(q.Ay,{item:!0,xs:12,children:(0,V.jsx)(z.A,{label:"S\u1ed1 l\u01b0\u1ee3ng coin",fullWidth:!0,type:"number",name:"quantity",value:x.quantity,onChange:S,variant:"outlined",error:!!b.quantity,helperText:b.quantity,sx:{"& .MuiInputBase-root":{fontSize:"0.95rem",borderRadius:"10px"}}})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,sm:6,children:(0,V.jsx)(z.A,{label:"Ng\xe0y b\u1eaft \u0111\u1ea7u",fullWidth:!0,type:"date",name:"startDate",value:x.startDate,onChange:S,variant:"outlined",InputLabelProps:{shrink:!0},sx:{"& .MuiInputBase-root":{fontSize:"0.95rem",borderRadius:"10px"}}})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,sm:6,children:(0,V.jsx)(z.A,{label:"Ng\xe0y k\u1ebft th\xfac (t\xf9y ch\u1ecdn)",fullWidth:!0,type:"date",name:"endDate",value:x.endDate,onChange:S,variant:"outlined",InputLabelProps:{shrink:!0},sx:{"& .MuiInputBase-root":{fontSize:"0.95rem",borderRadius:"10px"}}})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,children:(0,V.jsx)(z.A,{label:"Ghi ch\xfa (t\xf9y ch\u1ecdn)",fullWidth:!0,multiline:!0,rows:3,name:"notes",value:x.notes,onChange:S,variant:"outlined",sx:{"& .MuiInputBase-root":{fontSize:"0.95rem",borderRadius:"10px"}}})})]})}),(0,V.jsxs)(C.A,{sx:{p:3,pt:2},children:[(0,V.jsx)(U,{onClick:r,children:"H\u1ee7y"}),(0,V.jsx)(J,{onClick:()=>{(()=>{const e={name:"",type:"",initialAmount:"",quantity:""};let t=!0;return x.name||(e.name="T\xean \u0111\u1ea7u t\u01b0 l\xe0 b\u1eaft bu\u1ed9c",t=!1),x.type||(e.type="Lo\u1ea1i \u0111\u1ea7u t\u01b0 l\xe0 b\u1eaft bu\u1ed9c",t=!1),(!x.initialAmount||parseFloat(x.initialAmount)<=0)&&(e.initialAmount="S\u1ed1 ti\u1ec1n ban \u0111\u1ea7u ph\u1ea3i l\u1edbn h\u01a1n 0",t=!1),"crypto"===x.type&&(!x.quantity||parseFloat(x.quantity)<=0)&&(e.quantity="S\u1ed1 l\u01b0\u1ee3ng coin ph\u1ea3i l\u1edbn h\u01a1n 0",t=!1),f(e),t})()&&n(x)},disabled:s,children:o?"C\u1eadp nh\u1eadt":"Th\xeam m\u1edbi"})]})]})};var ee=r(14854),te=r(70141),re=r(58558),ae=r(42796),ne=r(79641),oe=r(12110),ie=r(62559),se=r(17392),le=r(18483),de=r(70378),ce=r(2050),xe=r(48734);const me=(0,d.Ay)(oe.A)((e=>{let{theme:t}=e;return{borderRadius:"16px",background:"dark"===t.palette.mode?"linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)":"linear-gradient(135deg, #fff 0%, #f7fafc 100%)",boxShadow:"dark"===t.palette.mode?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 20px rgba(0,0,0,0.05)",padding:t.spacing(2.5),marginBottom:t.spacing(2),border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)")}})),pe=(0,d.Ay)(x.A)((e=>{let{theme:t}=e;return{borderRadius:"12px",padding:"10px 24px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"linear-gradient(45deg, ".concat(t.palette.primary.main,", ").concat(t.palette.primary.light,")"),boxShadow:"0 4px 10px rgba(0, 118, 255, 0.15)",color:"#fff",border:"1px solid rgba(37, 99, 235, 0.1)","&:hover":{boxShadow:"0 6px 14px rgba(0, 118, 255, 0.2)",background:"linear-gradient(45deg, ".concat(t.palette.primary.dark,", ").concat(t.palette.primary.main,")"),transform:"translateY(-2px)"}}})),he=(0,d.Ay)(B.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",width:"100%",borderRadius:"12px",paddingLeft:t.spacing(2),paddingRight:t.spacing(1),marginRight:t.spacing(2),backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(241, 245, 249, 0.8)",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(226, 232, 240, 0.8)"),transition:"all 0.2s ease","&:hover":{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, 0.08)":"rgba(226, 232, 240, 0.8)",transform:"translateY(-2px)"}}})),ue=e=>{let{onAddInvestment:t,filterType:r,onFilterChange:a,sortOption:n,onSortChange:o,onSearch:i,investmentTypes:s}=e;const[l,d]=(0,I.useState)(null),[x,m]=(0,I.useState)("");return(0,V.jsxs)(me,{children:[(0,V.jsxs)(q.Ay,{container:!0,spacing:2,children:[(0,V.jsx)(q.Ay,{item:!0,xs:12,md:5,lg:6,children:(0,V.jsxs)(c.A,{children:[(0,V.jsx)(h.A,{variant:"h4",fontWeight:"bold",sx:{mb:1,fontSize:{xs:"1.5rem",sm:"1.8rem",md:"2rem"},background:"linear-gradient(45deg, #2563eb, #3b82f6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"-0.02em"},children:"Qu\u1ea3n L\xfd \u0110\u1ea7u T\u01b0"}),(0,V.jsx)(h.A,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"0.95rem"},color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b",fontWeight:500},children:"Theo d\xf5i v\xe0 qu\u1ea3n l\xfd danh m\u1ee5c \u0111\u1ea7u t\u01b0 c\u1ee7a b\u1ea1n m\u1ed9t c\xe1ch d\u1ec5 d\xe0ng"})]})}),(0,V.jsx)(q.Ay,{item:!0,xs:12,md:7,lg:6,children:(0,V.jsxs)(c.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1.5,sm:1.5},justifyContent:{sm:"flex-end"},alignItems:{xs:"stretch",sm:"center"},height:"100%",mt:{xs:2,md:0}},children:[i&&(0,V.jsxs)(he,{sx:{maxWidth:{xs:"100%",sm:"100%",md:200}},children:[(0,V.jsx)(ie.Ay,{placeholder:"T\xecm ki\u1ebfm \u0111\u1ea7u t\u01b0...",value:x,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"===e.key&&i&&i(x)},fullWidth:!0,sx:{fontSize:"0.95rem",color:e=>"dark"===e.palette.mode?"#e2e8f0":"#334155"}}),(0,V.jsx)(se.A,{type:"button",onClick:()=>{i&&i(x)},sx:{color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:(0,V.jsx)(ee.A,{})})]}),(0,V.jsxs)(c.A,{sx:{display:"flex",gap:{xs:2,sm:2},flexDirection:{xs:"column",sm:"row"},width:"100%",flexWrap:{xs:"nowrap",sm:"wrap",md:"nowrap"}},children:[(0,V.jsxs)(j.A,{size:"small",sx:{minWidth:{xs:"100%",sm:140},"& .MuiOutlinedInput-root":{borderRadius:"12px",backgroundColor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.05)":"rgba(241, 245, 249, 0.8)",border:e=>"1px solid ".concat("dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),transition:"all 0.2s ease","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.08)":"rgba(226, 232, 240, 0.8)",transform:"translateY(-2px)"}}},children:[(0,V.jsx)(v.A,{sx:{fontSize:"0.95rem",color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"Lo\u1ea1i \u0111\u1ea7u t\u01b0"}),(0,V.jsxs)(Z.A,{value:r,onChange:e=>{a(e.target.value)},label:"Lo\u1ea1i \u0111\u1ea7u t\u01b0",sx:{"& .MuiSelect-select":{fontSize:"0.95rem"}},children:[(0,V.jsx)(Q.A,{value:"all",sx:{fontSize:"0.95rem"},children:"T\u1ea5t c\u1ea3"}),s.map((e=>(0,V.jsx)(Q.A,{value:e.value,sx:{fontSize:"0.95rem"},children:(0,V.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,V.jsx)(c.A,{sx:{color:e.color},children:e.icon}),e.label]})},e.value)))]})]}),(0,V.jsxs)(j.A,{size:"small",sx:{minWidth:{xs:"100%",sm:140},"& .MuiOutlinedInput-root":{borderRadius:"12px",backgroundColor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.05)":"rgba(241, 245, 249, 0.8)",border:e=>"1px solid ".concat("dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),transition:"all 0.2s ease","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.08)":"rgba(226, 232, 240, 0.8)",transform:"translateY(-2px)"}}},children:[(0,V.jsx)(v.A,{sx:{fontSize:"0.95rem",color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"S\u1eafp x\u1ebfp"}),(0,V.jsxs)(Z.A,{value:n,onChange:e=>{o(e.target.value)},label:"S\u1eafp x\u1ebfp",sx:{"& .MuiSelect-select":{fontSize:"0.95rem"}},children:[(0,V.jsx)(Q.A,{value:"profitDesc",sx:{fontSize:"0.95rem"},children:"L\u1ee3i nhu\u1eadn (cao \u2192 th\u1ea5p)"}),(0,V.jsx)(Q.A,{value:"profitAsc",sx:{fontSize:"0.95rem"},children:"L\u1ee3i nhu\u1eadn (th\u1ea5p \u2192 cao)"}),(0,V.jsx)(Q.A,{value:"amountDesc",sx:{fontSize:"0.95rem"},children:"Gi\xe1 tr\u1ecb (cao \u2192 th\u1ea5p)"}),(0,V.jsx)(Q.A,{value:"amountAsc",sx:{fontSize:"0.95rem"},children:"Gi\xe1 tr\u1ecb (th\u1ea5p \u2192 cao)"}),(0,V.jsx)(Q.A,{value:"nameAsc",sx:{fontSize:"0.95rem"},children:"T\xean (A \u2192 Z)"}),(0,V.jsx)(Q.A,{value:"nameDesc",sx:{fontSize:"0.95rem"},children:"T\xean (Z \u2192 A)"})]})]}),(0,V.jsx)(le.A,{title:"Th\xeam kho\u1ea3n \u0111\u1ea7u t\u01b0 m\u1edbi",arrow:!0,children:(0,V.jsx)(pe,{startIcon:(0,V.jsx)(te.A,{}),onClick:t,sx:{whiteSpace:"nowrap",flex:{xs:"1",sm:"0 0 auto"}},children:"Th\xeam \u0111\u1ea7u t\u01b0"})}),(0,V.jsx)(le.A,{title:"T\xf9y ch\u1ecdn kh\xe1c",arrow:!0,children:(0,V.jsx)(se.A,{onClick:e=>{d(e.currentTarget)},sx:{borderRadius:"12px",backgroundColor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.05)":"rgba(241, 245, 249, 0.8)",border:e=>"1px solid ".concat("dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),transition:"all 0.2s ease","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.08)":"rgba(226, 232, 240, 0.8)",transform:"translateY(-2px)"},display:{xs:"flex",sm:"none"}},children:(0,V.jsx)(re.A,{})})})]})]})})]}),(0,V.jsxs)(de.A,{anchorEl:l,open:Boolean(l),onClose:()=>{d(null)},PaperProps:{elevation:3,sx:{borderRadius:"12px",minWidth:200,p:1,border:e=>"1px solid ".concat("dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"}},children:[(0,V.jsxs)(Q.A,{onClick:t,children:[(0,V.jsx)(ce.A,{children:(0,V.jsx)(te.A,{fontSize:"small"})}),(0,V.jsx)(xe.A,{primary:"Th\xeam \u0111\u1ea7u t\u01b0 m\u1edbi"})]}),(0,V.jsxs)(Q.A,{children:[(0,V.jsx)(ce.A,{children:(0,V.jsx)(ae.A,{fontSize:"small"})}),(0,V.jsx)(xe.A,{primary:"Bi\u1ec3u \u0111\u1ed3 ph\xe2n t\xedch"})]}),(0,V.jsxs)(Q.A,{children:[(0,V.jsx)(ce.A,{children:(0,V.jsx)(ne.A,{fontSize:"small"})}),(0,V.jsx)(xe.A,{primary:"Xem giao d\u1ecbch"})]})]})]})};var ge=r(3632),be=r(79958),fe=r(43845),Ae=r(26494),ye=r(10611);const je=(0,d.Ay)(oe.A)((e=>{let{theme:t}=e;return{borderRadius:"16px",background:"dark"===t.palette.mode?"linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)":"linear-gradient(135deg, #fff 0%, #f7fafc 100%)",boxShadow:"dark"===t.palette.mode?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 20px rgba(0,0,0,0.05)",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),transition:"all 0.2s ease",height:"100%",width:"100%",position:"relative",overflow:"visible",marginLeft:0,"&:hover":{transform:"translateY(-5px)",boxShadow:"dark"===t.palette.mode?"0 12px 24px rgba(0,0,0,0.3)":"0 12px 24px rgba(0,0,0,0.1)"}}})),ve=(0,d.Ay)(se.A)((e=>{let{theme:t}=e;return{borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"dark"===t.palette.mode?"rgba(255,255,255,0.05)":"rgba(241, 245, 249, 0.8)",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),color:"dark"===t.palette.mode?"#e2e8f0":"#334155",transition:"all 0.2s ease","&:hover":{background:"dark"===t.palette.mode?"rgba(255,255,255,0.08)":"rgba(226, 232, 240, 0.8)",transform:"translateY(-2px)"}}})),Se=(0,d.Ay)(se.A)((e=>{let{theme:t}=e;return{borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"linear-gradient(45deg, ".concat(t.palette.primary.main,", ").concat(t.palette.primary.light,")"),boxShadow:"0 4px 10px rgba(37, 99, 235, 0.15)",border:"1px solid rgba(37, 99, 235, 0.1)",color:"#fff",transition:"all 0.2s ease","&:hover":{boxShadow:"0 6px 14px rgba(37, 99, 235, 0.2)",background:"linear-gradient(45deg, ".concat(t.palette.primary.dark,", ").concat(t.palette.primary.main,")"),transform:"translateY(-2px)"}}})),ke=e=>{let{investment:t,onViewDetails:r,onWithdraw:a,onEdit:o,onDelete:i,formatCurrency:s,calculateProfitLoss:d,getTypeDetails:x}=e;const p=(0,m.A)(),[u,g]=(0,I.useState)(null),y=d(t),j=x(t.type),v=t.currentAmount/(t.initialAmount*(1+t.expectedReturn/100))*100,S=()=>{g(null)};return(0,V.jsxs)(je,{sx:{"&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"6px",background:"linear-gradient(45deg, ".concat(j.color,", ").concat((0,f.X4)(j.color,.6),")"),borderRadius:"16px 16px 0 0"}},children:[(0,V.jsx)(be.A,{avatar:(0,V.jsx)(b.A,{sx:{bgcolor:(0,f.X4)(j.color,.15),color:j.color,width:{xs:36,sm:40},height:{xs:36,sm:40},border:"2px solid ".concat(j.color),boxShadow:"0 0 0 4px ".concat((0,f.X4)(j.color,.1)),transition:"all 0.2s ease","&:hover":{transform:"scale(1.05)"}},children:j.icon}),title:(0,V.jsx)(h.A,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.2rem"},color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:t.name}),action:(0,V.jsx)(se.A,{onClick:e=>{g(e.currentTarget)},sx:{color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b","&:hover":{color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"}},children:(0,V.jsx)(re.A,{})}),subheader:(0,V.jsxs)(c.A,{sx:{display:"flex",gap:1,mt:.8,flexWrap:"wrap"},children:[(0,V.jsx)(fe.A,{size:"small",label:j.label,sx:{bgcolor:(0,f.X4)(j.color,.1),color:j.color,fontWeight:600,fontSize:"0.8rem",borderRadius:"8px",height:"26px",border:"1px solid ".concat((0,f.X4)(j.color,.2))}}),(0,V.jsx)(fe.A,{size:"small",label:"active"===t.status?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"completed"===t.status?"Ho\xe0n th\xe0nh":"\u0110\xe3 h\u1ee7y",sx:{bgcolor:"active"===t.status?(0,f.X4)(p.palette.success.main,.1):"completed"===t.status?(0,f.X4)(p.palette.info.main,.1):(0,f.X4)(p.palette.error.main,.1),color:"active"===t.status?p.palette.success.main:"completed"===t.status?p.palette.info.main:p.palette.error.main,fontWeight:600,fontSize:"0.8rem",borderRadius:"8px",height:"26px",border:"1px solid ".concat((0,f.X4)("active"===t.status?p.palette.success.main:"completed"===t.status?p.palette.info.main:p.palette.error.main,.2))}})]}),sx:{pb:.5,px:2}}),(0,V.jsxs)(Ae.A,{sx:{pt:1,px:2,pb:2},children:[(0,V.jsxs)(c.A,{sx:{mb:2,fontSize:{xs:"0.85rem",sm:"0.9rem"},display:"flex",gap:1,alignItems:"center",flexWrap:{xs:"wrap",sm:"nowrap"},color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:[(0,V.jsx)(c.A,{component:"span",sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",width:20,height:20,bgcolor:e=>(0,f.X4)(e.palette.primary.main,.1),color:e=>e.palette.primary.main,border:e=>"1px solid ".concat((0,f.X4)(e.palette.primary.main,.2)),flexShrink:0},children:(0,V.jsx)(c.A,{sx:{width:16,height:16},children:(0,V.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,V.jsx)("path",{d:"M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"})})})}),(0,V.jsxs)(c.A,{component:"span",children:["B\u1eaft \u0111\u1ea7u: ",new Date(t.startDate).toLocaleDateString("vi-VN"),t.endDate&&" | K\u1ebft th\xfac: ".concat(new Date(t.endDate).toLocaleDateString("vi-VN"))]})]}),(0,V.jsxs)(c.A,{sx:{mb:2.5},children:[(0,V.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.85rem",sm:"0.9rem"},fontWeight:500,color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"Ti\u1ebfn \u0111\u1ed9 \u0111\u1ea7u t\u01b0"}),(0,V.jsxs)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.8rem",sm:"0.85rem"},fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:[Math.min(v,100).toFixed(0),"%"]})]}),(0,V.jsx)(ye.A,{variant:"determinate",value:Math.min(v,100),sx:{height:8,borderRadius:4,bgcolor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.05)":"rgba(241, 245, 249, 0.8)",border:e=>"1px solid ".concat("dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),"& .MuiLinearProgress-bar":{bgcolor:y.isProfit?p.palette.success.main:p.palette.error.main,borderRadius:4,transition:"transform 0.4s linear"}}})]}),(0,V.jsxs)(q.Ay,{container:!0,spacing:2,children:[(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.85rem",sm:"0.9rem"},fontWeight:500,color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"S\u1ed1 ti\u1ec1n ban \u0111\u1ea7u"}),(0,V.jsx)(h.A,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"},mt:.5,fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:s(t.initialAmount)})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.85rem",sm:"0.9rem"},fontWeight:500,color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"Gi\xe1 tr\u1ecb hi\u1ec7n t\u1ea1i"}),(0,V.jsx)(h.A,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"},mt:.5,fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:s(t.currentAmount)})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.85rem",sm:"0.9rem"},fontWeight:500,color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"L\u1ee3i nhu\u1eadn/L\u1ed7"}),(0,V.jsxs)(h.A,{variant:"body1",sx:{color:y.isProfit?p.palette.success.main:p.palette.error.main,fontSize:{xs:"0.9rem",sm:"1rem"},display:"flex",alignItems:"center",gap:{xs:.5,sm:1},mt:.5,flexWrap:"wrap",fontWeight:600},children:[y.isProfit?(0,V.jsx)(P.A,{fontSize:"small",sx:{fontSize:{xs:"0.9rem",sm:"1rem"}}}):(0,V.jsx)(X.A,{fontSize:"small",sx:{fontSize:{xs:"0.9rem",sm:"1rem"}}}),(0,V.jsxs)("span",{children:[y.isProfit?"+":"-",s(Math.abs(y.amount))]}),(0,V.jsxs)(h.A,{component:"span",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"},bgcolor:(0,f.X4)(y.isProfit?p.palette.success.main:p.palette.error.main,.15),px:.75,py:.25,borderRadius:"6px",fontWeight:600,ml:{xs:0,sm:.5},mt:{xs:.5,sm:0},border:"1px solid ".concat((0,f.X4)(y.isProfit?p.palette.success.main:p.palette.error.main,.2))},children:[y.isProfit?"+":"-",Math.abs(parseFloat(y.percentage)),"%"]})]})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.85rem",sm:"0.9rem"},fontWeight:500,color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"L\u1ee3i nhu\u1eadn k\u1ef3 v\u1ecdng"}),(0,V.jsxs)(h.A,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"},mt:.5,fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:[t.expectedReturn,"%"]})]}),"crypto"===t.type&&t.quantity&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.85rem",sm:"0.9rem"},fontWeight:500,color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"S\u1ed1 l\u01b0\u1ee3ng coin"}),(0,V.jsx)(h.A,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"},mt:.5,fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:t.quantity})]}),(0,V.jsxs)(q.Ay,{item:!0,xs:6,children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:{xs:"0.85rem",sm:"0.9rem"},fontWeight:500,color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"Gi\xe1 mua TB"}),(0,V.jsx)(h.A,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"},mt:.5,fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:s(t.initialAmount/t.quantity||0)})]})]})]}),(0,V.jsxs)(c.A,{sx:{mt:2,display:"flex",gap:1.5,justifyContent:"flex-end"},children:[(0,V.jsx)(ve,{size:"small",onClick:()=>r(t),children:(0,V.jsx)(ge.A,{sx:{fontSize:{xs:"1rem",sm:"1.1rem"}}})}),(0,V.jsx)(Se,{size:"small",onClick:()=>a(t),children:(0,V.jsx)(n.A,{sx:{fontSize:{xs:"1rem",sm:"1.1rem"}}})})]})]}),(0,V.jsxs)(de.A,{anchorEl:u,open:Boolean(u),onClose:S,PaperProps:{elevation:3,sx:{borderRadius:"12px",minWidth:200,p:1,border:e=>"1px solid ".concat("dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"}},children:[(0,V.jsxs)(Q.A,{onClick:()=>{o(t),S()},sx:{borderRadius:"8px","&:hover":{bgcolor:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.05)":"rgba(241, 245, 249, 0.8)"}},children:[(0,V.jsx)(ce.A,{children:(0,V.jsx)(M.A,{fontSize:"small"})}),"Ch\u1ec9nh s\u1eeda"]}),(0,V.jsx)(A.A,{sx:{my:1}}),(0,V.jsxs)(Q.A,{onClick:()=>{i(t._id),S()},sx:{borderRadius:"8px",color:"error.main","&:hover":{bgcolor:e=>(0,f.X4)(e.palette.error.main,.1)}},children:[(0,V.jsx)(ce.A,{children:(0,V.jsx)(l.A,{fontSize:"small",color:"error"})}),(0,V.jsx)(h.A,{color:"error",children:"X\xf3a"})]})]})]})},ze=(0,d.Ay)(oe.A)((e=>{let{theme:t}=e;return{padding:t.spacing(8),borderRadius:"16px",textAlign:"center",background:"dark"===t.palette.mode?"linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)":"linear-gradient(135deg, #fff 0%, #f7fafc 100%)",boxShadow:"dark"===t.palette.mode?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 20px rgba(0,0,0,0.05)",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),width:"100%",maxWidth:600,margin:"0 auto"}})),we=e=>{let{investments:t,filteredInvestments:r,filterType:a,onViewDetails:n,onWithdraw:o,onEdit:i,onDelete:s,onAddInvestment:l,formatCurrency:d,calculateProfitLoss:x,getTypeDetails:m}=e;return 0===t.length?(0,V.jsx)(ze,{children:(0,V.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[(0,V.jsx)(c.A,{sx:{width:80,height:80,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:e=>"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.light,")"),color:"white",mb:2,boxShadow:"0 8px 16px rgba(37, 99, 235, 0.2)",border:"4px solid rgba(255, 255, 255, 0.1)"},children:(0,V.jsx)(ae.A,{sx:{fontSize:36}})}),(0,V.jsx)(h.A,{variant:"h6",sx:{mb:2,fontSize:"1.25rem",fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:"Ch\u01b0a c\xf3 kho\u1ea3n \u0111\u1ea7u t\u01b0 n\xe0o"}),(0,V.jsx)(h.A,{variant:"body2",sx:{mb:3,fontSize:"0.95rem",color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b",maxWidth:"80%",textAlign:"center",lineHeight:1.6},children:"H\xe3y th\xeam kho\u1ea3n \u0111\u1ea7u t\u01b0 m\u1edbi \u0111\u1ec3 b\u1eaft \u0111\u1ea7u theo d\xf5i!"}),(0,V.jsx)(c.A,{component:"button",onClick:l,sx:{bgcolor:"primary.main",color:"white",border:"1px solid rgba(37, 99, 235, 0.1)",borderRadius:"12px",px:4,py:1.5,fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:e=>"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.light,")"),boxShadow:"0 4px 10px rgba(37, 99, 235, 0.15)",transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 14px rgba(37, 99, 235, 0.2)"}},children:"Th\xeam \u0111\u1ea7u t\u01b0 m\u1edbi"})]})}):"all"!==a&&0===r.length?(0,V.jsx)(ze,{children:(0,V.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[(0,V.jsx)(c.A,{sx:{width:80,height:80,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:e=>"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.light,")"),color:"white",mb:2,boxShadow:"0 8px 16px rgba(37, 99, 235, 0.2)",border:"4px solid rgba(255, 255, 255, 0.1)"},children:(0,V.jsx)(ae.A,{sx:{fontSize:36}})}),(0,V.jsx)(h.A,{variant:"h6",sx:{mb:2,fontSize:"1.25rem",fontWeight:600,color:e=>"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:"Kh\xf4ng t\xecm th\u1ea5y kho\u1ea3n \u0111\u1ea7u t\u01b0 n\xe0o"}),(0,V.jsxs)(h.A,{variant:"body2",sx:{mb:3,fontSize:"0.95rem",color:e=>"dark"===e.palette.mode?"#94a3b8":"#64748b",maxWidth:"80%",textAlign:"center",lineHeight:1.6},children:["Kh\xf4ng c\xf3 kho\u1ea3n \u0111\u1ea7u t\u01b0 n\xe0o thu\u1ed9c lo\u1ea1i ",m(a).label]})]})}):(0,V.jsx)(q.Ay,{container:!0,spacing:2,children:r.map((e=>(0,V.jsx)(q.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,V.jsx)(ke,{investment:e,onViewDetails:n,onWithdraw:o,onEdit:i,onDelete:s,formatCurrency:d,calculateProfitLoss:x,getTypeDetails:m})},e._id)))})};var Ce=r(54669),We=r(24056);const Re=(0,d.Ay)(Ce.A)((e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"linear-gradient(135deg, #1e2a38 0%, #2d3748 100%)":"linear-gradient(135deg, #fff 0%, #f7fafc 100%)",borderRadius:"16px",boxShadow:"dark"===t.palette.mode?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 20px rgba(0,0,0,0.05)",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),padding:t.spacing(1),"& .MuiTabs-indicator":{height:4,borderRadius:"4px 4px 0 0",background:"linear-gradient(45deg, ".concat(t.palette.primary.main,", ").concat(t.palette.primary.light,")")},"& .MuiTab-root":{color:"dark"===t.palette.mode?"#94a3b8":"#64748b",transition:"all 0.2s ease","&:hover":{color:"dark"===t.palette.mode?"#e2e8f0":"#1e293b"},"&.Mui-selected":{color:t.palette.primary.main,fontWeight:600}}}})),Te=(0,d.Ay)(We.A)((e=>{let{theme:t}=e;return{textTransform:"none",fontWeight:500,fontSize:"1rem",padding:t.spacing(2),borderRadius:"12px",minHeight:"unset","& .MuiSvgIcon-root":{marginBottom:"4px",marginRight:"8px",transition:"all 0.2s ease"},"&:hover":{backgroundColor:"dark"===t.palette.mode?"rgba(255,255,255,0.05)":"rgba(241, 245, 249, 0.8)",transform:"translateY(-2px)","& .MuiSvgIcon-root":{transform:"scale(1.1)"}},"&.Mui-selected":{backgroundColor:"dark"===t.palette.mode?"rgba(219, 234, 254, 0.1)":"rgba(219, 234, 254, 0.5)",border:"1px solid ".concat("dark"===t.palette.mode?"rgba(37, 99, 235, 0.2)":"rgba(37, 99, 235, 0.1)")},[t.breakpoints.down("sm")]:{fontSize:"0.9rem",padding:t.spacing(1.5),"& .MuiSvgIcon-root":{fontSize:"1.2rem"}}}})),Ie=e=>{let{activeTab:t,onTabChange:r}=e;return(0,V.jsx)(c.A,{mb:3,sx:{width:"100%"},children:(0,V.jsxs)(Re,{value:t,onChange:r,variant:"fullWidth","aria-label":"Tabs qu\u1ea3n l\xfd \u0111\u1ea7u t\u01b0",children:[(0,V.jsx)(Te,{icon:(0,V.jsx)(ne.A,{sx:{fontSize:{xs:"1.2rem",sm:"1.4rem"}}}),iconPosition:"start",label:"Danh m\u1ee5c \u0111\u1ea7u t\u01b0",id:"investment-tab-0","aria-controls":"investment-tabpanel-0"}),(0,V.jsx)(Te,{icon:(0,V.jsx)(ae.A,{sx:{fontSize:{xs:"1.2rem",sm:"1.4rem"}}}),iconPosition:"start",label:"Ph\xe2n t\xedch",id:"investment-tab-1","aria-controls":"investment-tabpanel-1"})]})})},De=(0,I.lazy)((()=>Promise.all([r.e(163),r.e(8199)]).then(r.bind(r,98199)))),Le=(0,d.Ay)(c.A)((e=>{let{theme:t}=e;return{animation:"fadeIn 0.5s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}}})),Pe=(0,d.Ay)(c.A)((e=>{let{theme:t}=e;return{animation:"scaleIn 0.4s ease-out","@keyframes scaleIn":{from:{opacity:0,transform:"scale(0.9)"},to:{opacity:1,transform:"scale(1)"}}}})),Xe=((0,d.Ay)(c.A)((e=>{let{theme:t}=e;return{animation:"slideIn 0.5s ease-out","@keyframes slideIn":{from:{opacity:0,transform:"translateX(-20px)"},to:{opacity:1,transform:"translateX(0)"}}}})),(0,d.Ay)(c.A)((e=>{let{theme:t}=e;return{borderRadius:"12px",background:"dark"===t.palette.mode?"#1e2a38":"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",transition:"transform 0.3s ease, box-shadow 0.3s ease",padding:t.spacing(4,5),textAlign:"center",maxWidth:600,margin:"0 auto","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.12)"}}})),(0,d.Ay)(x.A)((e=>{let{theme:t}=e;return{borderRadius:"10px",padding:"10px 24px",textTransform:"none",fontWeight:600,fontSize:"0.95rem",background:"linear-gradient(45deg, ".concat(t.palette.primary.main,", ").concat(t.palette.primary.light,")"),boxShadow:"0 4px 10px rgba(0, 118, 255, 0.2)",color:"#fff","&:hover":{boxShadow:"0 6px 14px rgba(0, 118, 255, 0.3)",background:"linear-gradient(45deg, ".concat(t.palette.primary.dark,", ").concat(t.palette.primary.main,")")}}})),[{value:"stock",label:"C\u1ed5 phi\u1ebfu",color:"#4caf50",icon:(0,V.jsx)("span",{children:"\ud83d\udcc8"})},{value:"crypto",label:"Ti\u1ec1n \u0111i\u1ec7n t\u1eed",color:"#ff9800",icon:(0,V.jsx)("span",{children:"\u20bf"})},{value:"realestate",label:"B\u1ea5t \u0111\u1ed9ng s\u1ea3n",color:"#2196f3",icon:(0,V.jsx)("span",{children:"\ud83c\udfe2"})},{value:"bonds",label:"Tr\xe1i phi\u1ebfu",color:"#9c27b0",icon:(0,V.jsx)("span",{children:"\ud83d\udcca"})},{value:"savings",label:"Ti\u1ebft ki\u1ec7m",color:"#00bcd4",icon:(0,V.jsx)("span",{children:"\ud83d\udcb0"})},{value:"other",label:"Kh\xe1c",color:"#f44336",icon:(0,V.jsx)("span",{children:"\ud83d\udcbc"})}]),Me=()=>{const e=(0,m.A)(),{plan:t,loading:r,error:d}=((0,L.Zp)(),(0,D.d4)((e=>e.subscription))),[P,X]=(0,I.useState)([]),[M,q]=(0,I.useState)(!1),[B,F]=(0,I.useState)(!1),[E,N]=(0,I.useState)(!1),[O,K]=(0,I.useState)(!1),[H,Y]=(0,I.useState)(null),[G,Z]=(0,I.useState)({amount:"",reason:"",date:(new Date).toISOString().split("T")[0]}),[Q,J]=(0,I.useState)(""),[U,ee]=(0,I.useState)({open:!1,message:"",severity:"success"}),[te,re]=(0,I.useState)(0),[ae,ne]=(0,I.useState)("all"),[oe,ie]=(0,I.useState)("profitDesc"),[se,le]=(0,I.useState)(""),[de,ce]=(0,I.useState)(!1),[xe,me]=(0,I.useState)([]),pe=(0,I.useCallback)((async()=>{ce(!0);try{const e=localStorage.getItem("token"),t=await T.A.get("http://localhost:5000/api/investments",{headers:{Authorization:"Bearer ".concat(e)}});X(t.data)}catch(t){var e;console.error("\u274c L\u1ed7i khi l\u1ea5y danh s\xe1ch \u0111\u1ea7u t\u01b0:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),Se("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch \u0111\u1ea7u t\u01b0","error")}finally{ce(!1)}}),[]);(0,I.useEffect)((()=>{pe()}),[pe]);const he=(0,I.useCallback)((async()=>{try{const e=localStorage.getItem("token"),t=await T.A.get("http://localhost:5000/api/categories",{headers:{Authorization:"Bearer ".concat(e)}});me(t.data)}catch(e){console.error("\u274c L\u1ed7i khi l\u1ea5y danh m\u1ee5c:",e)}}),[]);(0,I.useEffect)((()=>{he()}),[he]);const ge=(0,I.useMemo)((()=>{let e=[...P];if("all"!==ae&&(e=e.filter((e=>e.type===ae))),se.trim()){const t=se.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||je(e.type).label.toLowerCase().includes(t)))}switch(oe){case"profitDesc":e.sort(((e,t)=>t.currentAmount-t.initialAmount-(e.currentAmount-e.initialAmount)));break;case"profitAsc":e.sort(((e,t)=>e.currentAmount-e.initialAmount-(t.currentAmount-t.initialAmount)));break;case"amountDesc":e.sort(((e,t)=>t.currentAmount-e.currentAmount));break;case"amountAsc":e.sort(((e,t)=>e.currentAmount-t.currentAmount));break;case"nameAsc":e.sort(((e,t)=>e.name.localeCompare(t.name)));break;case"nameDesc":e.sort(((e,t)=>t.name.localeCompare(e.name)))}return e}),[P,ae,oe,se]),be=e=>{Y(e),q(!0)},fe=()=>{q(!1),Y(null)},Ae=()=>{N(!1),Y(null),Z({amount:"",reason:"",date:(new Date).toISOString().split("T")[0]}),J("")},ye=e=>{const t=e.currentAmount-e.initialAmount;return{amount:t,percentage:(t/e.initialAmount*100).toFixed(2),isProfit:t>=0}},je=e=>Xe.find((t=>t.value===e))||Xe[5],ve=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),Se=(e,t)=>{ee({open:!0,message:e,severity:t})};return(0,V.jsx)(R.A,{theme:e,children:(0,V.jsxs)(c.A,{sx:{minHeight:"100vh",background:"dark"===e.palette.mode?"#121212":"#f8fafc",p:{xs:2,sm:2,md:2},pl:{xs:2,sm:2,md:0},width:"100%",borderRadius:{xs:0,md:"16px"},boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)"},children:[de&&(0,V.jsx)(c.A,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:(0,V.jsx)(Pe,{children:(0,V.jsx)(p.A,{size:60,thickness:4})})}),r&&(0,V.jsxs)(c.A,{sx:{p:4,textAlign:"center"},children:[(0,V.jsx)(p.A,{size:60,thickness:4}),(0,V.jsx)(h.A,{variant:"h6",sx:{mt:2},children:"\u0110ang t\u1ea3i tr\u1ea1ng th\xe1i subscription..."})]}),d&&(0,V.jsxs)(h.A,{variant:"body1",color:"error",align:"center",sx:{mb:2},children:["L\u1ed7i subscription: ",d]}),!r&&(0,V.jsxs)(Le,{sx:{width:"100%",pl:{xs:0,sm:0,md:2}},children:[(0,V.jsx)(ue,{onAddInvestment:()=>q(!0),filterType:ae,onFilterChange:e=>ne(e),sortOption:oe,onSortChange:e=>ie(e),onSearch:e=>{le(e)},investmentTypes:Xe}),(0,V.jsx)(c.A,{sx:{mt:2},children:(0,V.jsx)(Ie,{activeTab:te,onTabChange:(e,t)=>{re(t)}})}),(0,V.jsx)(c.A,{sx:{mt:2},children:0===te?(0,V.jsx)(Le,{children:(0,V.jsx)(we,{investments:P,filteredInvestments:ge,filterType:ae,onViewDetails:e=>{Y(e),F(!0)},onWithdraw:e=>{Y(e),Z({amount:"",reason:"",date:(new Date).toISOString().split("T")[0]}),N(!0)},onEdit:be,onDelete:async e=>{Y(P.find((t=>t._id===e))||null),K(!0)},onAddInvestment:()=>q(!0),formatCurrency:ve,calculateProfitLoss:ye,getTypeDetails:je})}):(0,V.jsx)(I.Suspense,{fallback:(0,V.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,V.jsx)(p.A,{size:40})}),children:(0,V.jsx)(Le,{children:(0,V.jsx)(De,{investments:P,investmentTypes:Xe,formatCurrency:ve,calculateProfitLoss:ye,getTypeDetails:je})})})})]}),(0,V.jsx)($,{open:M,onClose:fe,onSubmit:async e=>{ce(!0);try{const r=localStorage.getItem("token");let a=xe.find((e=>(e.name.toLowerCase().includes("\u0111\u1ea7u t\u01b0")||e.name.toLowerCase().includes("investment"))&&"expense"===e.type));if(!a)try{const e={name:"Chi ph\xed \u0111\u1ea7u t\u01b0",type:"expense",icon:"\ud83d\udcc8",color:"#f44336",description:"Danh m\u1ee5c cho c\xe1c kho\u1ea3n chi \u0111\u1ea7u t\u01b0"};a=(await T.A.post("http://localhost:5000/api/categories",e,{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(t){throw console.error("\u274c L\u1ed7i khi th\xeam danh m\u1ee5c chi ph\xed \u0111\u1ea7u t\u01b0:",t),new Error("Kh\xf4ng th\u1ec3 t\u1ea1o danh m\u1ee5c chi ph\xed \u0111\u1ea7u t\u01b0")}const n={name:e.name,type:e.type,initialAmount:parseFloat(e.initialAmount),currentAmount:parseFloat(e.initialAmount),expectedReturn:parseFloat(e.expectedReturn)||0,startDate:e.startDate,endDate:e.endDate||void 0,notes:e.notes||void 0,status:e.status,quantity:"crypto"===e.type?parseFloat(e.quantity):void 0,history:[]};if(H)await T.A.put("http://localhost:5000/api/investments/".concat(H._id),n,{headers:{Authorization:"Bearer ".concat(r)}}),Se("C\u1eadp nh\u1eadt kho\u1ea3n \u0111\u1ea7u t\u01b0 th\xe0nh c\xf4ng","success");else{await T.A.post("http://localhost:5000/api/investments",n,{headers:{Authorization:"Bearer ".concat(r)}});const t={type:"expense",amount:parseFloat(e.initialAmount),category:a._id,description:"\u0110\u1ea7u t\u01b0 m\u1edbi: ".concat(e.name),date:e.startDate,paymentMethod:"Wallet",status:"completed",notes:e.notes||void 0};await T.A.post("http://localhost:5000/api/transactions",t,{headers:{Authorization:"Bearer ".concat(r)}}),Se("Th\xeam kho\u1ea3n \u0111\u1ea7u t\u01b0 th\xe0nh c\xf4ng","success")}pe(),fe()}catch(t){console.error("\u274c L\u1ed7i khi l\u01b0u \u0111\u1ea7u t\u01b0:",t),Se("C\xf3 l\u1ed7i x\u1ea3y ra","error")}finally{ce(!1)}},selectedInvestment:H,investmentTypes:Xe,isLoading:de}),(0,V.jsx)(_,{open:B,onClose:()=>{F(!1),Y(null)},investment:H,onEdit:be,formatCurrency:ve,calculateProfitLoss:ye,getTypeDetails:je}),(0,V.jsx)(u.A,{open:E,onClose:Ae,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,background:"dark"===e.palette.mode?"linear-gradient(145deg, rgba(30,42,56,0.95) 0%, rgba(38,50,63,0.95) 100%)":"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)",border:"1px solid ".concat("dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"),backdropFilter:"blur(10px)"}},children:H&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(g.A,{children:[(0,V.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,V.jsx)(b.A,{sx:{bgcolor:(0,f.X4)(e.palette.success.main,.15),color:e.palette.success.main,width:48,height:48,border:"2px solid ".concat((0,f.X4)(e.palette.success.main,.2))},children:(0,V.jsx)(n.A,{})}),(0,V.jsxs)(c.A,{children:[(0,V.jsx)(h.A,{component:"div",variant:"h5",sx:{fontSize:"1.4rem",fontWeight:600,color:e.palette.success.main,mb:.5},children:"R\xfat ti\u1ec1n v\u1ec1 v\xed"}),(0,V.jsxs)(h.A,{variant:"body2",sx:{fontSize:"0.95rem",color:"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:["T\u1eeb \u0111\u1ea7u t\u01b0: ",H.name]})]})]}),(0,V.jsx)(A.A,{sx:{mt:2}})]}),(0,V.jsxs)(y.A,{sx:{pt:2},children:[(0,V.jsxs)(c.A,{sx:{mb:3},children:[(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:"0.9rem",color:"dark"===e.palette.mode?"#94a3b8":"#64748b",mb:1},children:"S\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng"}),(0,V.jsx)(h.A,{variant:"h6",sx:{fontSize:"1.5rem",fontWeight:600,color:"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:ve(H.currentAmount)})]}),(0,V.jsxs)(j.A,{fullWidth:!0,sx:{mb:2.5},children:[(0,V.jsx)(v.A,{sx:{fontSize:"0.95rem",color:"dark"===e.palette.mode?"#94a3b8":"#64748b"},children:"S\u1ed1 ti\u1ec1n r\xfat"}),(0,V.jsx)(S.A,{value:G.amount,onChange:e=>Z((0,a.A)((0,a.A)({},G),{},{amount:e.target.value})),startAdornment:(0,V.jsx)(k.A,{position:"start",children:(0,V.jsx)(o.A,{sx:{color:"dark"===e.palette.mode?"#94a3b8":"#64748b"}})}),label:"S\u1ed1 ti\u1ec1n r\xfat",type:"number",error:!!Q,sx:{borderRadius:"12px","& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"}}}),Q&&(0,V.jsx)(h.A,{color:"error",variant:"caption",sx:{mt:.5,fontSize:"0.85rem"},children:Q})]}),(0,V.jsx)(j.A,{fullWidth:!0,sx:{mb:2.5},children:(0,V.jsx)(z.A,{label:"Ng\xe0y r\xfat ti\u1ec1n",type:"date",value:G.date,onChange:e=>Z((0,a.A)((0,a.A)({},G),{},{date:e.target.value})),InputProps:{startAdornment:(0,V.jsx)(k.A,{position:"start",children:(0,V.jsx)(i.A,{sx:{color:"dark"===e.palette.mode?"#94a3b8":"#64748b"}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"}}}})}),(0,V.jsx)(j.A,{fullWidth:!0,children:(0,V.jsx)(z.A,{label:"Ghi ch\xfa",multiline:!0,rows:3,value:G.reason,onChange:e=>Z((0,a.A)((0,a.A)({},G),{},{reason:e.target.value})),InputProps:{startAdornment:(0,V.jsx)(k.A,{position:"start",children:(0,V.jsx)(s.A,{sx:{color:"dark"===e.palette.mode?"#94a3b8":"#64748b"}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)"}}}})}),(0,V.jsx)(w.A,{severity:"info",variant:"outlined",sx:{mt:2.5,borderRadius:"12px",border:"1px solid ".concat((0,f.X4)(e.palette.info.main,.2)),"& .MuiAlert-icon":{color:e.palette.info.main}},children:(0,V.jsx)(h.A,{variant:"body2",sx:{fontSize:"0.9rem"},children:"S\u1ed1 ti\u1ec1n s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o v\xed c\u1ee7a b\u1ea1n sau khi x\xe1c nh\u1eadn r\xfat ti\u1ec1n"})})]}),(0,V.jsxs)(C.A,{sx:{p:3,pt:2},children:[(0,V.jsx)(x.A,{onClick:Ae,variant:"outlined",sx:{textTransform:"none",fontWeight:600,borderRadius:"10px",px:3,borderColor:"dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(226, 232, 240, 0.8)",color:"dark"===e.palette.mode?"#e2e8f0":"#1e293b"},children:"H\u1ee7y"}),(0,V.jsx)(x.A,{onClick:async()=>{if(!H)return;if(!G.amount||parseFloat(G.amount)<=0)return void J("S\u1ed1 ti\u1ec1n ph\u1ea3i l\u1edbn h\u01a1n 0");const e=parseFloat(G.amount);if(e>H.currentAmount)J("S\u1ed1 ti\u1ec1n r\xfat kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 ".concat(ve(H.currentAmount)));else{ce(!0);try{var t;const r=localStorage.getItem("token");let n=H.currentAmount;if("crypto"===H.type)try{const e=H.name.toLowerCase(),t=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;for(let o=0;o<t;o++)try{return(await T.A.get("https://api.coingecko.com/api/v3/simple/price?ids=".concat(e,"&vs_currencies=vnd"))).data[e].vnd}catch(n){var a;if(429===(null===(a=n.response)||void 0===a?void 0:a.status)){await new Promise((e=>setTimeout(e,r)));continue}throw n}throw new Error("Kh\xf4ng th\u1ec3 l\u1ea5y gi\xe1 ti\u1ec1n \u0111i\u1ec7n t\u1eed sau nhi\u1ec1u l\u1ea7n th\u1eed")}(e);t&&H.quantity&&(n=t*H.quantity)}catch(o){console.warn("\u26a0\ufe0f Kh\xf4ng th\u1ec3 l\u1ea5y gi\xe1 ti\u1ec1n \u0111i\u1ec7n t\u1eed:",o)}if(e>n)return void J("S\u1ed1 ti\u1ec1n r\xfat kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 ".concat(ve(n)));const i=(0,a.A)((0,a.A)({},H),{},{currentAmount:n-e,history:[...H.history,{date:G.date,amount:e,type:"withdraw",reason:G.reason||void 0}]});try{await T.A.put("http://localhost:5000/api/investments/".concat(H._id),i,{headers:{Authorization:"Bearer ".concat(r)}})}catch(o){throw console.error("\u274c L\u1ed7i khi c\u1eadp nh\u1eadt \u0111\u1ea7u t\u01b0:",o),new Error("Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt th\xf4ng tin \u0111\u1ea7u t\u01b0")}let s;try{if(s=(await T.A.get("http://localhost:5000/api/categories",{headers:{Authorization:"Bearer ".concat(r)}})).data.find((e=>(e.name.toLowerCase().includes("\u0111\u1ea7u t\u01b0")||e.name.toLowerCase().includes("investment"))&&"income"===e.type)),!s){const e={name:"Thu nh\u1eadp \u0111\u1ea7u t\u01b0",type:"income",icon:"\ud83d\udcb0",color:"#4caf50",description:"Danh m\u1ee5c cho c\xe1c kho\u1ea3n thu t\u1eeb \u0111\u1ea7u t\u01b0"};s=(await T.A.post("http://localhost:5000/api/categories",e,{headers:{Authorization:"Bearer ".concat(r)}})).data}}catch(o){throw console.error("\u274c L\u1ed7i khi x\u1eed l\xfd danh m\u1ee5c:",o),new Error("Kh\xf4ng th\u1ec3 x\u1eed l\xfd danh m\u1ee5c \u0111\u1ea7u t\u01b0")}if(null===(t=s)||void 0===t||!t._id)throw new Error("Kh\xf4ng t\xecm th\u1ea5y ho\u1eb7c kh\xf4ng th\u1ec3 t\u1ea1o danh m\u1ee5c \u0111\u1ea7u t\u01b0");const l={type:"income",amount:e,category:s._id,description:"R\xfat ti\u1ec1n t\u1eeb \u0111\u1ea7u t\u01b0 ".concat(H.name),date:G.date,paymentMethod:"Wallet",status:"completed",notes:G.reason||void 0};try{await T.A.post("http://localhost:5000/api/transactions",l,{headers:{Authorization:"Bearer ".concat(r)}})}catch(o){throw console.error("\u274c L\u1ed7i khi t\u1ea1o giao d\u1ecbch:",o),new Error("Kh\xf4ng th\u1ec3 t\u1ea1o giao d\u1ecbch r\xfat ti\u1ec1n")}Se("R\xfat ti\u1ec1n v\u1ec1 v\xed th\xe0nh c\xf4ng","success"),pe(),he(),Ae()}catch(o){var r,n;console.error("\u274c L\u1ed7i khi r\xfat ti\u1ec1n:",o);let e="C\xf3 l\u1ed7i x\u1ea3y ra khi r\xfat ti\u1ec1n";o.message?e=o.message:null!==(r=o.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.message&&(e=o.response.data.message),Se(e,"error")}finally{ce(!1)}}},disabled:de,variant:"contained",color:"success",sx:{textTransform:"none",fontWeight:600,borderRadius:"10px",px:3,background:"linear-gradient(45deg, ".concat(e.palette.success.main,", ").concat(e.palette.success.light,")"),boxShadow:"0 4px 10px ".concat((0,f.X4)(e.palette.success.main,.25)),border:"1px solid ".concat((0,f.X4)(e.palette.success.main,.1)),"&:hover":{background:"linear-gradient(45deg, ".concat(e.palette.success.dark,", ").concat(e.palette.success.main,")"),boxShadow:"0 6px 15px ".concat((0,f.X4)(e.palette.success.main,.35))}},startIcon:(0,V.jsx)(n.A,{}),children:de?"\u0110ang x\u1eed l\xfd...":"R\xfat ti\u1ec1n"})]})]})}),(0,V.jsxs)(u.A,{open:O,onClose:()=>K(!1),PaperProps:{sx:{borderRadius:3,p:2,maxWidth:450}},children:[(0,V.jsxs)(g.A,{sx:{pb:1},children:[(0,V.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,V.jsx)(b.A,{sx:{bgcolor:(0,f.X4)(e.palette.error.main,.1),color:e.palette.error.main},children:(0,V.jsx)(l.A,{})}),(0,V.jsx)(h.A,{component:"div",variant:"h6",fontWeight:"bold",color:"error",sx:{fontSize:"1.3rem"},children:"X\xe1c nh\u1eadn x\xf3a"})]}),(0,V.jsx)(A.A,{sx:{mt:2}})]}),(0,V.jsxs)(y.A,{children:[(0,V.jsxs)(h.A,{variant:"body1",sx:{mt:1,fontSize:"0.95rem"},children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kho\u1ea3n \u0111\u1ea7u t\u01b0"," ",(0,V.jsx)(h.A,{component:"span",fontWeight:"bold",children:null===H||void 0===H?void 0:H.name})," ","kh\xf4ng?"]}),(0,V.jsx)(w.A,{severity:"warning",variant:"outlined",sx:{mt:2,borderRadius:2,"& .MuiAlert-icon":{alignItems:"center"}},children:(0,V.jsxs)(h.A,{variant:"body2",sx:{fontSize:"0.9rem"},children:["Thao t\xe1c n\xe0y ",(0,V.jsx)("strong",{children:"kh\xf4ng th\u1ec3 ho\xe0n t\xe1c"}),". T\u1ea5t c\u1ea3 d\u1eef li\u1ec7u li\xean quan \u0111\u1ebfn kho\u1ea3n \u0111\u1ea7u t\u01b0 n\xe0y s\u1ebd b\u1ecb x\xf3a v\u0129nh vi\u1ec5n."]})})]}),(0,V.jsxs)(C.A,{sx:{p:2,pt:1},children:[(0,V.jsx)(x.A,{onClick:()=>K(!1),variant:"outlined",sx:{textTransform:"none",fontWeight:600,borderRadius:"10px",px:3},children:"H\u1ee7y"}),(0,V.jsx)(x.A,{onClick:async()=>{if(H){ce(!0);try{const e=localStorage.getItem("token");await T.A.delete("http://localhost:5000/api/investments/".concat(H._id),{headers:{Authorization:"Bearer ".concat(e)}}),Se("X\xf3a kho\u1ea3n \u0111\u1ea7u t\u01b0 th\xe0nh c\xf4ng","success"),pe(),K(!1),Y(null)}catch(e){console.error("\u274c L\u1ed7i khi x\xf3a \u0111\u1ea7u t\u01b0:",e),Se("Kh\xf4ng th\u1ec3 x\xf3a kho\u1ea3n \u0111\u1ea7u t\u01b0","error")}finally{ce(!1)}}},color:"error",variant:"contained",disabled:de,startIcon:(0,V.jsx)(l.A,{}),sx:{textTransform:"none",fontWeight:600,borderRadius:"10px",px:3},children:"X\xf3a"})]})]}),(0,V.jsx)(W.A,{open:U.open,autoHideDuration:5e3,onClose:()=>ee((0,a.A)((0,a.A)({},U),{},{open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,V.jsx)(w.A,{onClose:()=>ee((0,a.A)((0,a.A)({},U),{},{open:!1})),severity:U.severity,variant:"filled",sx:{width:"100%",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",alignItems:"center","& .MuiAlert-icon":{fontSize:"1.2rem"}},children:(0,V.jsx)(h.A,{variant:"body2",sx:{fontWeight:500,fontSize:"0.95rem"},children:U.message})})})]})})}}}]);
//# sourceMappingURL=2642.980ea14b.chunk.js.map