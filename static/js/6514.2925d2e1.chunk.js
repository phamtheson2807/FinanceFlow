"use strict";(self.webpackChunkquanlythuchi=self.webpackChunkquanlythuchi||[]).push([[6514],{26514:(e,i,t)=>{t.r(i),t.d(i,{default:()=>f});var a=t(96446),n=t(11906),s=t(19252),r=t(85865),o=t(81637),l=t(14194),c=t(47410),d=t(21753),h=t(55487),u=t(65043),g=t(73216),p=t(35475),x=t(84033),m=t(70579);const b=(0,h.P)(a.A),v=(0,h.P)(n.A),f=()=>{const e=(0,g.Zp)(),[i]=(0,p.ok)(),t=i.get("token"),[n,h]=(0,u.useState)("loading"),[f,y]=(0,u.useState)(""),[A,k]=(0,u.useState)(!1),F=(0,u.useCallback)((async()=>{await(0,d.m)(window.tsParticles),k(!0)}),[]);(0,u.useEffect)((()=>{F()}),[F]),(0,u.useEffect)((()=>{(async()=>{if(!t)return h("error"),void y("Token kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng th\u1eed l\u1ea1i.");try{const i=await x.A.get("/api/auth/verify-email?token=".concat(t));200===i.status?(h("success"),y(i.data.message||"Email \u0111\xe3 \u0111\u01b0\u1ee3c x\xe1c th\u1ef1c th\xe0nh c\xf4ng!"),setTimeout((()=>e("/login")),3e3)):(h("error"),y("X\xe1c th\u1ef1c th\u1ea5t b\u1ea1i! Token kh\xf4ng h\u1ee3p l\u1ec7 ho\u1eb7c \u0111\xe3 h\u1ebft h\u1ea1n."))}catch(n){var i,a;console.error("\u274c L\u1ed7i x\xe1c th\u1ef1c:",n),h("error"),y((null===(i=n.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)||"X\xe1c th\u1ef1c th\u1ea5t b\u1ea1i! Token kh\xf4ng h\u1ee3p l\u1ec7 ho\u1eb7c \u0111\xe3 h\u1ebft h\u1ea1n.")}})()}),[t,e]);return(0,m.jsxs)(a.A,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",background:"linear-gradient(135deg, #0A0A23 0%, #1C1C3D 100%)"},children:[A&&(0,m.jsx)(c.um,{id:"tsparticles",options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:50,density:{enable:!0}},color:{value:"#A78BFA"},shape:{type:"circle"},opacity:{value:{min:.1,max:.5}},size:{value:{min:1,max:3}},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,outModes:"out"}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!0,mode:"push"}},modes:{repulse:{distance:100,duration:.4},push:{quantity:4}}},detectRetina:!0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}}),(0,m.jsx)(s.A,{maxWidth:"sm",sx:{zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:(0,m.jsxs)(b,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,type:"spring",stiffness:200,damping:20},sx:{p:{xs:3,sm:4},borderRadius:"20px",background:"rgba(28, 28, 61, 0.95)",backdropFilter:"blur(10px)",textAlign:"center",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",maxWidth:500,width:"100%"},children:[(0,m.jsx)(a.A,{sx:{mb:3},children:(0,m.jsx)("img",{src:"https://fakebill.taobillgia.com/public/src/vtd/img/svg/verify-email.svg",alt:"Verify Email Illustration",style:{width:"150px",height:"150px"}})}),(0,m.jsx)(r.A,{variant:"h4",sx:{fontFamily:"'Poppins', sans-serif",fontWeight:700,color:"#FFFFFF",mb:2},children:"X\xe1c th\u1ef1c email c\u1ee7a b\u1ea1n \ud83d\udce7"}),"loading"===n&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.A,{sx:{color:"#A78BFA",mb:2}}),(0,m.jsx)(r.A,{sx:{fontFamily:"'Poppins', sans-serif",color:"#A1A1AA",fontSize:{xs:"1rem",sm:"1.2rem"}},children:f||"\u0110ang x\xe1c th\u1ef1c email..."})]}),"success"===n&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l.A,{severity:"success",sx:{mb:3,borderRadius:"10px",background:"rgba(255, 255, 255, 0.9)",color:"#333"},children:["\u2705 ",f]}),(0,m.jsx)(v,{variant:"contained",onClick:()=>e("/login"),whileHover:{scale:1.05},whileTap:{scale:.95},sx:{py:1.5,borderRadius:"10px",fontSize:"1rem",fontWeight:"bold",background:"#A78BFA",color:"#FFFFFF","&:hover":{background:"#906EEB"}},children:"\u0110i \u0111\u1ebfn trang \u0111\u0103ng nh\u1eadp"})]}),"error"===n&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l.A,{severity:"error",sx:{mb:3,borderRadius:"10px",background:"rgba(255, 255, 255, 0.9)",color:"#333"},children:["\u274c ",f]}),(0,m.jsxs)(a.A,{sx:{display:"flex",justifyContent:"center",gap:2},children:[(0,m.jsx)(v,{variant:"outlined",onClick:async()=>{try{h("loading"),y("\u0110ang g\u1eedi l\u1ea1i email x\xe1c th\u1ef1c...");const e=await x.A.post("/api/auth/resend-verification",{email:i.get("email")||""});h("success"),y(e.data.message||"Email x\xe1c th\u1ef1c \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi l\u1ea1i! Vui l\xf2ng ki\u1ec3m tra h\u1ed9p th\u01b0.")}catch(a){var e,t;h("error"),y((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Kh\xf4ng th\u1ec3 g\u1eedi l\u1ea1i email x\xe1c th\u1ef1c. Vui l\xf2ng th\u1eed l\u1ea1i sau.")}},whileHover:{scale:1.05},whileTap:{scale:.95},sx:{py:1.5,borderRadius:"10px",fontSize:"1rem",fontWeight:"bold",borderColor:"#A78BFA",color:"#A78BFA","&:hover":{borderColor:"#906EEB",color:"#906EEB"}},children:"G\u1eedi l\u1ea1i email x\xe1c th\u1ef1c"}),(0,m.jsx)(v,{variant:"contained",onClick:()=>e("/register"),whileHover:{scale:1.05},whileTap:{scale:.95},sx:{py:1.5,borderRadius:"10px",fontSize:"1rem",fontWeight:"bold",background:"#A78BFA",color:"#FFFFFF","&:hover":{background:"#906EEB"}},children:"Quay l\u1ea1i trang \u0111\u0103ng k\xfd"})]})]})]})})]})}}}]);
//# sourceMappingURL=6514.2925d2e1.chunk.js.map